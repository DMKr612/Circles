function Mp(a,n){for(var s=0;s<n.length;s++){const o=n[s];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in a)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(a,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function jf(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function zp(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var n=a.default;if(typeof n=="function"){var s=function o(){var l=!1;try{l=this instanceof o}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(o){var l=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:function(){return a[o]}})}),s}var bl={exports:{}},ai={},Sl={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function Fp(){if(Id)return je;Id=1;var a=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function j(b){return b===null||typeof b!="object"?null:(b=x&&b[x]||b["@@iterator"],typeof b=="function"?b:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,L={};function E(b,A,he){this.props=b,this.context=A,this.refs=L,this.updater=he||O}E.prototype.isReactComponent={},E.prototype.setState=function(b,A){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,A,"setState")},E.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function V(){}V.prototype=E.prototype;function K(b,A,he){this.props=b,this.context=A,this.refs=L,this.updater=he||O}var U=K.prototype=new V;U.constructor=K,R(U,E.prototype),U.isPureReactComponent=!0;var G=Array.isArray,ce=Object.prototype.hasOwnProperty,ne={current:null},de={key:!0,ref:!0,__self:!0,__source:!0};function Ne(b,A,he){var I,re={},ie=null,Y=null;if(A!=null)for(I in A.ref!==void 0&&(Y=A.ref),A.key!==void 0&&(ie=""+A.key),A)ce.call(A,I)&&!de.hasOwnProperty(I)&&(re[I]=A[I]);var ae=arguments.length-2;if(ae===1)re.children=he;else if(1<ae){for(var ve=Array(ae),Se=0;Se<ae;Se++)ve[Se]=arguments[Se+2];re.children=ve}if(b&&b.defaultProps)for(I in ae=b.defaultProps,ae)re[I]===void 0&&(re[I]=ae[I]);return{$$typeof:a,type:b,key:ie,ref:Y,props:re,_owner:ne.current}}function fe(b,A){return{$$typeof:a,type:b.type,key:A,ref:b.ref,props:b.props,_owner:b._owner}}function se(b){return typeof b=="object"&&b!==null&&b.$$typeof===a}function oe(b){var A={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(he){return A[he]})}var xe=/\/+/g;function ye(b,A){return typeof b=="object"&&b!==null&&b.key!=null?oe(""+b.key):A.toString(36)}function ke(b,A,he,I,re){var ie=typeof b;(ie==="undefined"||ie==="boolean")&&(b=null);var Y=!1;if(b===null)Y=!0;else switch(ie){case"string":case"number":Y=!0;break;case"object":switch(b.$$typeof){case a:case n:Y=!0}}if(Y)return Y=b,re=re(Y),b=I===""?"."+ye(Y,0):I,G(re)?(he="",b!=null&&(he=b.replace(xe,"$&/")+"/"),ke(re,A,he,"",function(Se){return Se})):re!=null&&(se(re)&&(re=fe(re,he+(!re.key||Y&&Y.key===re.key?"":(""+re.key).replace(xe,"$&/")+"/")+b)),A.push(re)),1;if(Y=0,I=I===""?".":I+":",G(b))for(var ae=0;ae<b.length;ae++){ie=b[ae];var ve=I+ye(ie,ae);Y+=ke(ie,A,he,ve,re)}else if(ve=j(b),typeof ve=="function")for(b=ve.call(b),ae=0;!(ie=b.next()).done;)ie=ie.value,ve=I+ye(ie,ae++),Y+=ke(ie,A,he,ve,re);else if(ie==="object")throw A=String(b),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return Y}function Fe(b,A,he){if(b==null)return b;var I=[],re=0;return ke(b,I,"","",function(ie){return A.call(he,ie,re++)}),I}function Le(b){if(b._status===-1){var A=b._result;A=A(),A.then(function(he){(b._status===0||b._status===-1)&&(b._status=1,b._result=he)},function(he){(b._status===0||b._status===-1)&&(b._status=2,b._result=he)}),b._status===-1&&(b._status=0,b._result=A)}if(b._status===1)return b._result.default;throw b._result}var Ce={current:null},M={transition:null},z={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:M,ReactCurrentOwner:ne};function B(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:Fe,forEach:function(b,A,he){Fe(b,function(){A.apply(this,arguments)},he)},count:function(b){var A=0;return Fe(b,function(){A++}),A},toArray:function(b){return Fe(b,function(A){return A})||[]},only:function(b){if(!se(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},je.Component=E,je.Fragment=s,je.Profiler=l,je.PureComponent=K,je.StrictMode=o,je.Suspense=g,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,je.act=B,je.cloneElement=function(b,A,he){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var I=R({},b.props),re=b.key,ie=b.ref,Y=b._owner;if(A!=null){if(A.ref!==void 0&&(ie=A.ref,Y=ne.current),A.key!==void 0&&(re=""+A.key),b.type&&b.type.defaultProps)var ae=b.type.defaultProps;for(ve in A)ce.call(A,ve)&&!de.hasOwnProperty(ve)&&(I[ve]=A[ve]===void 0&&ae!==void 0?ae[ve]:A[ve])}var ve=arguments.length-2;if(ve===1)I.children=he;else if(1<ve){ae=Array(ve);for(var Se=0;Se<ve;Se++)ae[Se]=arguments[Se+2];I.children=ae}return{$$typeof:a,type:b.type,key:re,ref:ie,props:I,_owner:Y}},je.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:c,_context:b},b.Consumer=b},je.createElement=Ne,je.createFactory=function(b){var A=Ne.bind(null,b);return A.type=b,A},je.createRef=function(){return{current:null}},je.forwardRef=function(b){return{$$typeof:p,render:b}},je.isValidElement=se,je.lazy=function(b){return{$$typeof:y,_payload:{_status:-1,_result:b},_init:Le}},je.memo=function(b,A){return{$$typeof:v,type:b,compare:A===void 0?null:A}},je.startTransition=function(b){var A=M.transition;M.transition={};try{b()}finally{M.transition=A}},je.unstable_act=B,je.useCallback=function(b,A){return Ce.current.useCallback(b,A)},je.useContext=function(b){return Ce.current.useContext(b)},je.useDebugValue=function(){},je.useDeferredValue=function(b){return Ce.current.useDeferredValue(b)},je.useEffect=function(b,A){return Ce.current.useEffect(b,A)},je.useId=function(){return Ce.current.useId()},je.useImperativeHandle=function(b,A,he){return Ce.current.useImperativeHandle(b,A,he)},je.useInsertionEffect=function(b,A){return Ce.current.useInsertionEffect(b,A)},je.useLayoutEffect=function(b,A){return Ce.current.useLayoutEffect(b,A)},je.useMemo=function(b,A){return Ce.current.useMemo(b,A)},je.useReducer=function(b,A,he){return Ce.current.useReducer(b,A,he)},je.useRef=function(b){return Ce.current.useRef(b)},je.useState=function(b){return Ce.current.useState(b)},je.useSyncExternalStore=function(b,A,he){return Ce.current.useSyncExternalStore(b,A,he)},je.useTransition=function(){return Ce.current.useTransition()},je.version="18.3.1",je}var $d;function Zl(){return $d||($d=1,Sl.exports=Fp()),Sl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function Bp(){if(Ud)return ai;Ud=1;var a=Zl(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(p,g,v){var y,x={},j=null,O=null;v!==void 0&&(j=""+v),g.key!==void 0&&(j=""+g.key),g.ref!==void 0&&(O=g.ref);for(y in g)o.call(g,y)&&!c.hasOwnProperty(y)&&(x[y]=g[y]);if(p&&p.defaultProps)for(y in g=p.defaultProps,g)x[y]===void 0&&(x[y]=g[y]);return{$$typeof:n,type:p,key:j,ref:O,props:x,_owner:l.current}}return ai.Fragment=s,ai.jsx=h,ai.jsxs=h,ai}var Dd;function qp(){return Dd||(Dd=1,bl.exports=Bp()),bl.exports}var f=qp(),_=Zl();const eu=jf(_),Wp=Mp({__proto__:null,default:eu},[_]);var jo={},jl={exports:{}},Ct={},El={exports:{}},Nl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md;function Vp(){return Md||(Md=1,(function(a){function n(M,z){var B=M.length;M.push(z);e:for(;0<B;){var b=B-1>>>1,A=M[b];if(0<l(A,z))M[b]=z,M[B]=A,B=b;else break e}}function s(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var z=M[0],B=M.pop();if(B!==z){M[0]=B;e:for(var b=0,A=M.length,he=A>>>1;b<he;){var I=2*(b+1)-1,re=M[I],ie=I+1,Y=M[ie];if(0>l(re,B))ie<A&&0>l(Y,re)?(M[b]=Y,M[ie]=B,b=ie):(M[b]=re,M[I]=B,b=I);else if(ie<A&&0>l(Y,B))M[b]=Y,M[ie]=B,b=ie;else break e}}return z}function l(M,z){var B=M.sortIndex-z.sortIndex;return B!==0?B:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();a.unstable_now=function(){return h.now()-p}}var g=[],v=[],y=1,x=null,j=3,O=!1,R=!1,L=!1,E=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(M){for(var z=s(v);z!==null;){if(z.callback===null)o(v);else if(z.startTime<=M)o(v),z.sortIndex=z.expirationTime,n(g,z);else break;z=s(v)}}function G(M){if(L=!1,U(M),!R)if(s(g)!==null)R=!0,Le(ce);else{var z=s(v);z!==null&&Ce(G,z.startTime-M)}}function ce(M,z){R=!1,L&&(L=!1,V(Ne),Ne=-1),O=!0;var B=j;try{for(U(z),x=s(g);x!==null&&(!(x.expirationTime>z)||M&&!oe());){var b=x.callback;if(typeof b=="function"){x.callback=null,j=x.priorityLevel;var A=b(x.expirationTime<=z);z=a.unstable_now(),typeof A=="function"?x.callback=A:x===s(g)&&o(g),U(z)}else o(g);x=s(g)}if(x!==null)var he=!0;else{var I=s(v);I!==null&&Ce(G,I.startTime-z),he=!1}return he}finally{x=null,j=B,O=!1}}var ne=!1,de=null,Ne=-1,fe=5,se=-1;function oe(){return!(a.unstable_now()-se<fe)}function xe(){if(de!==null){var M=a.unstable_now();se=M;var z=!0;try{z=de(!0,M)}finally{z?ye():(ne=!1,de=null)}}else ne=!1}var ye;if(typeof K=="function")ye=function(){K(xe)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Fe=ke.port2;ke.port1.onmessage=xe,ye=function(){Fe.postMessage(null)}}else ye=function(){E(xe,0)};function Le(M){de=M,ne||(ne=!0,ye())}function Ce(M,z){Ne=E(function(){M(a.unstable_now())},z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(M){M.callback=null},a.unstable_continueExecution=function(){R||O||(R=!0,Le(ce))},a.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<M?Math.floor(1e3/M):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_getFirstCallbackNode=function(){return s(g)},a.unstable_next=function(M){switch(j){case 1:case 2:case 3:var z=3;break;default:z=j}var B=j;j=z;try{return M()}finally{j=B}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=j;j=M;try{return z()}finally{j=B}},a.unstable_scheduleCallback=function(M,z,B){var b=a.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?b+B:b):B=b,M){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=B+A,M={id:y++,callback:z,priorityLevel:M,startTime:B,expirationTime:A,sortIndex:-1},B>b?(M.sortIndex=B,n(v,M),s(g)===null&&M===s(v)&&(L?(V(Ne),Ne=-1):L=!0,Ce(G,B-b))):(M.sortIndex=A,n(g,M),R||O||(R=!0,Le(ce))),M},a.unstable_shouldYield=oe,a.unstable_wrapCallback=function(M){var z=j;return function(){var B=j;j=z;try{return M.apply(this,arguments)}finally{j=B}}}})(Nl)),Nl}var zd;function Hp(){return zd||(zd=1,El.exports=Vp()),El.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function Gp(){if(Fd)return Ct;Fd=1;var a=Zl(),n=Hp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function j(e){return g.call(x,e)?!0:g.call(y,e)?!1:v.test(e)?x[e]=!0:(y[e]=!0,!1)}function O(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,t,r,i){if(t===null||typeof t>"u"||O(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function L(e,t,r,i,u,d,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=m}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new L(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];E[t]=new L(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new L(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new L(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new L(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new L(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new L(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new L(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new L(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V,K);E[t]=new L(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V,K);E[t]=new L(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V,K);E[t]=new L(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new L(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new L(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,r,i){var u=E.hasOwnProperty(t)?E[t]:null;(u!==null?u.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R(t,r,u,i)&&(r=null),i||u===null?j(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,i=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var G=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),ne=Symbol.for("react.portal"),de=Symbol.for("react.fragment"),Ne=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),oe=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),M=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var B=Object.assign,b;function A(e){if(b===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var he=!1;function I(e,t){if(!e||he)return"";he=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var i=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){i=P}e.call(t.prototype)}else{try{throw Error()}catch(P){i=P}e()}}catch(P){if(P&&i&&typeof P.stack=="string"){for(var u=P.stack.split(`
`),d=i.stack.split(`
`),m=u.length-1,w=d.length-1;1<=m&&0<=w&&u[m]!==d[w];)w--;for(;1<=m&&0<=w;m--,w--)if(u[m]!==d[w]){if(m!==1||w!==1)do if(m--,w--,0>w||u[m]!==d[w]){var k=`
`+u[m].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=m&&0<=w);break}}}finally{he=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?A(e):""}function re(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=I(e.type,!1),e;case 11:return e=I(e.type.render,!1),e;case 1:return e=I(e.type,!0),e;default:return""}}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case de:return"Fragment";case ne:return"Portal";case fe:return"Profiler";case Ne:return"StrictMode";case ye:return"Suspense";case ke:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oe:return(e.displayName||"Context")+".Consumer";case se:return(e._context.displayName||"Context")+".Provider";case xe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fe:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case Le:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}function Y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(t);case 8:return t===Ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Se(e){var t=ve(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(m){i=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function De(e){e._valueTracker||(e._valueTracker=Se(e))}function Ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=ve(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function He(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function It(e,t){var r=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rr(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=ae(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $t(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function Tr(e,t){$t(e,t);var r=ae(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ln(e,t.type,r):t.hasOwnProperty("defaultValue")&&ln(e,t.type,ae(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ht(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ln(e,t,r){(t!=="number"||He(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Tt=Array.isArray;function Ut(e,t,r,i){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&i&&(e[r].defaultSelected=!0)}else{for(r=""+ae(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function un(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dr(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(Tt(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ae(r)}}function fr(e,t){var r=ae(t.value),i=ae(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function H(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function be(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oe,Ie=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oe=Oe||document.createElement("div"),Oe.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ge=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(e){Ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),et[t]=et[e]})});function Pr(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||et.hasOwnProperty(e)&&et[e]?(""+t).trim():t+"px"}function $o(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,u=Pr(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,u):e[r]=u}}var Uo=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dt(e,t){if(t){if(Uo[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function cn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,hr=null,pt=null;function vi(e){if(e=Hs(e)){if(typeof bs!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Mi(t),bs(e.stateNode,e.type,t))}}function Ss(e){hr?pt?pt.push(e):pt=[e]:hr=e}function yi(){if(hr){var e=hr,t=pt;if(pt=hr=null,vi(e),t)for(e=0;e<t.length;e++)vi(t[e])}}function js(e,t){return e(t)}function wi(){}var pr=!1;function dn(e,t,r){if(pr)return e(t,r);pr=!0;try{return js(e,t,r)}finally{pr=!1,(hr!==null||pt!==null)&&(wi(),yi())}}function sr(e,t){var r=e.stateNode;if(r===null)return null;var i=Mi(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Or=!1;if(p)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){Or=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{Or=!1}function Do(e,t,r,i,u,d,m,w,k){var P=Array.prototype.slice.call(arguments,3);try{t.apply(r,P)}catch(D){this.onError(D)}}var mr=!1,Lr=null,gr=!1,Es=null,Mo={onError:function(e){mr=!0,Lr=e}};function zo(e,t,r,i,u,d,m,w,k){mr=!1,Lr=null,Do.apply(Mo,arguments)}function xi(e,t,r,i,u,d,m,w,k){if(zo.apply(this,arguments),mr){if(mr){var P=Lr;mr=!1,Lr=null}else throw Error(s(198));gr||(gr=!0,Es=P)}}function C(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function J(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function we(e){if(C(e)!==e)throw Error(s(188))}function Te(e){var t=e.alternate;if(!t){if(t=C(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var u=r.return;if(u===null)break;var d=u.alternate;if(d===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===r)return we(u),e;if(d===i)return we(u),t;d=d.sibling}throw Error(s(188))}if(r.return!==i.return)r=u,i=d;else{for(var m=!1,w=u.child;w;){if(w===r){m=!0,r=u,i=d;break}if(w===i){m=!0,i=u,r=d;break}w=w.sibling}if(!m){for(w=d.child;w;){if(w===r){m=!0,r=d,i=u;break}if(w===i){m=!0,i=d,r=u;break}w=w.sibling}if(!m)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function kt(e){return e=Te(e),e!==null?fn(e):null}function fn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fn(e);if(t!==null)return t;e=e.sibling}return null}var An=n.unstable_scheduleCallback,ir=n.unstable_cancelCallback,Ns=n.unstable_shouldYield,Fo=n.unstable_requestPaint,Be=n.unstable_now,Bo=n.unstable_getCurrentPriorityLevel,Ar=n.unstable_ImmediatePriority,In=n.unstable_UserBlockingPriority,hn=n.unstable_NormalPriority,qo=n.unstable_LowPriority,qe=n.unstable_IdlePriority,Ke=null,Ye=null;function Mt(e){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Ke,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:nh,pn=Math.log,rh=Math.LN2;function nh(e){return e>>>=0,e===0?32:31-(pn(e)/rh|0)|0}var _i=64,ki=4194304;function Cs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bi(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,u=e.suspendedLanes,d=e.pingedLanes,m=r&268435455;if(m!==0){var w=m&~u;w!==0?i=Cs(w):(d&=m,d!==0&&(i=Cs(d)))}else m=r&~u,m!==0?i=Cs(m):d!==0&&(i=Cs(d));if(i===0)return 0;if(t!==0&&t!==i&&(t&u)===0&&(u=i&-i,d=t&-t,u>=d||u===16&&(d&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Pt(t),u=1<<r,i|=e[r],t&=~u;return i}function sh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ih(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var m=31-Pt(d),w=1<<m,k=u[m];k===-1?((w&r)===0||(w&i)!==0)&&(u[m]=sh(w,t)):k<=t&&(e.expiredLanes|=w),d&=~w}}function Wo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fu(){var e=_i;return _i<<=1,(_i&4194240)===0&&(_i=64),e}function Vo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ts(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function oh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Pt(r),d=1<<u;t[u]=0,i[u]=-1,e[u]=-1,r&=~d}}function Ho(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Pt(r),u=1<<i;u&t|e[i]&t&&(e[i]|=t),r&=~u}}var Ae=0;function hu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var pu,Go,mu,gu,vu,Ko=!1,Si=[],Ir=null,$r=null,Ur=null,Ps=new Map,Os=new Map,Dr=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(e,t){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(t.pointerId)}}function Rs(e,t,r,i,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Hs(t),t!==null&&Go(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function lh(e,t,r,i,u){switch(t){case"focusin":return Ir=Rs(Ir,e,t,r,i,u),!0;case"dragenter":return $r=Rs($r,e,t,r,i,u),!0;case"mouseover":return Ur=Rs(Ur,e,t,r,i,u),!0;case"pointerover":var d=u.pointerId;return Ps.set(d,Rs(Ps.get(d)||null,e,t,r,i,u)),!0;case"gotpointercapture":return d=u.pointerId,Os.set(d,Rs(Os.get(d)||null,e,t,r,i,u)),!0}return!1}function wu(e){var t=mn(e.target);if(t!==null){var r=C(t);if(r!==null){if(t=r.tag,t===13){if(t=J(r),t!==null){e.blockedOn=t,vu(e.priority,function(){mu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ji(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);nr=i,r.target.dispatchEvent(i),nr=null}else return t=Hs(r),t!==null&&Go(t),e.blockedOn=r,!1;t.shift()}return!0}function xu(e,t,r){ji(e)&&r.delete(t)}function uh(){Ko=!1,Ir!==null&&ji(Ir)&&(Ir=null),$r!==null&&ji($r)&&($r=null),Ur!==null&&ji(Ur)&&(Ur=null),Ps.forEach(xu),Os.forEach(xu)}function Ls(e,t){e.blockedOn===t&&(e.blockedOn=null,Ko||(Ko=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uh)))}function As(e){function t(u){return Ls(u,e)}if(0<Si.length){Ls(Si[0],e);for(var r=1;r<Si.length;r++){var i=Si[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Ir!==null&&Ls(Ir,e),$r!==null&&Ls($r,e),Ur!==null&&Ls(Ur,e),Ps.forEach(t),Os.forEach(t),r=0;r<Dr.length;r++)i=Dr[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Dr.length&&(r=Dr[0],r.blockedOn===null);)wu(r),r.blockedOn===null&&Dr.shift()}var $n=G.ReactCurrentBatchConfig,Ei=!0;function ch(e,t,r,i){var u=Ae,d=$n.transition;$n.transition=null;try{Ae=1,Jo(e,t,r,i)}finally{Ae=u,$n.transition=d}}function dh(e,t,r,i){var u=Ae,d=$n.transition;$n.transition=null;try{Ae=4,Jo(e,t,r,i)}finally{Ae=u,$n.transition=d}}function Jo(e,t,r,i){if(Ei){var u=Qo(e,t,r,i);if(u===null)ha(e,t,i,Ni,r),yu(e,i);else if(lh(u,e,t,r,i))i.stopPropagation();else if(yu(e,i),t&4&&-1<ah.indexOf(e)){for(;u!==null;){var d=Hs(u);if(d!==null&&pu(d),d=Qo(e,t,r,i),d===null&&ha(e,t,i,Ni,r),d===u)break;u=d}u!==null&&i.stopPropagation()}else ha(e,t,i,null,r)}}var Ni=null;function Qo(e,t,r,i){if(Ni=null,e=Ln(i),e=mn(e),e!==null)if(t=C(e),t===null)e=null;else if(r=t.tag,r===13){if(e=J(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ni=e,null}function _u(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bo()){case Ar:return 1;case In:return 4;case hn:case qo:return 16;case qe:return 536870912;default:return 16}default:return 16}}var Mr=null,Yo=null,Ci=null;function ku(){if(Ci)return Ci;var e,t=Yo,r=t.length,i,u="value"in Mr?Mr.value:Mr.textContent,d=u.length;for(e=0;e<r&&t[e]===u[e];e++);var m=r-e;for(i=1;i<=m&&t[r-i]===u[d-i];i++);return Ci=u.slice(e,1<i?1-i:void 0)}function Ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function bu(){return!1}function Ot(e){function t(r,i,u,d,m){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Pi:bu,this.isPropagationStopped=bu,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=Ot(Un),Is=B({},Un,{view:0,detail:0}),fh=Ot(Is),Zo,ea,$s,Oi=B({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(Zo=e.screenX-$s.screenX,ea=e.screenY-$s.screenY):ea=Zo=0,$s=e),Zo)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Su=Ot(Oi),hh=B({},Oi,{dataTransfer:0}),ph=Ot(hh),mh=B({},Is,{relatedTarget:0}),ta=Ot(mh),gh=B({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),vh=Ot(gh),yh=B({},Un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wh=Ot(yh),xh=B({},Un,{data:0}),ju=Ot(xh),_h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bh[e])?!!t[e]:!1}function ra(){return Sh}var jh=B({},Is,{key:function(e){if(e.key){var t=_h[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(e){return e.type==="keypress"?Ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eh=Ot(jh),Nh=B({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=Ot(Nh),Ch=B({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),Th=Ot(Ch),Ph=B({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oh=Ot(Ph),Rh=B({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lh=Ot(Rh),Ah=[9,13,27,32],na=p&&"CompositionEvent"in window,Us=null;p&&"documentMode"in document&&(Us=document.documentMode);var Ih=p&&"TextEvent"in window&&!Us,Nu=p&&(!na||Us&&8<Us&&11>=Us),Cu=" ",Tu=!1;function Pu(e,t){switch(e){case"keyup":return Ah.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function $h(e,t){switch(e){case"compositionend":return Ou(t);case"keypress":return t.which!==32?null:(Tu=!0,Cu);case"textInput":return e=t.data,e===Cu&&Tu?null:e;default:return null}}function Uh(e,t){if(Dn)return e==="compositionend"||!na&&Pu(e,t)?(e=ku(),Ci=Yo=Mr=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nu&&t.locale!=="ko"?null:t.data;default:return null}}var Dh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dh[e.type]:t==="textarea"}function Lu(e,t,r,i){Ss(i),t=$i(t,"onChange"),0<t.length&&(r=new Xo("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Ds=null,Ms=null;function Mh(e){Yu(e,0)}function Ri(e){var t=qn(e);if(Ve(t))return e}function zh(e,t){if(e==="change")return t}var Au=!1;if(p){var sa;if(p){var ia="oninput"in document;if(!ia){var Iu=document.createElement("div");Iu.setAttribute("oninput","return;"),ia=typeof Iu.oninput=="function"}sa=ia}else sa=!1;Au=sa&&(!document.documentMode||9<document.documentMode)}function $u(){Ds&&(Ds.detachEvent("onpropertychange",Uu),Ms=Ds=null)}function Uu(e){if(e.propertyName==="value"&&Ri(Ms)){var t=[];Lu(t,Ms,e,Ln(e)),dn(Mh,t)}}function Fh(e,t,r){e==="focusin"?($u(),Ds=t,Ms=r,Ds.attachEvent("onpropertychange",Uu)):e==="focusout"&&$u()}function Bh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ri(Ms)}function qh(e,t){if(e==="click")return Ri(t)}function Wh(e,t){if(e==="input"||e==="change")return Ri(t)}function Vh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:Vh;function zs(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!g.call(t,u)||!Gt(e[u],t[u]))return!1}return!0}function Du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mu(e,t){var r=Du(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Du(r)}}function zu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fu(){for(var e=window,t=He();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=He(e.document)}return t}function oa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hh(e){var t=Fu(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&zu(r.ownerDocument.documentElement,r)){if(i!==null&&oa(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,d=Math.min(i.start,u);i=i.end===void 0?d:Math.min(i.end,u),!e.extend&&d>i&&(u=i,i=d,d=u),u=Mu(r,d);var m=Mu(r,i);u&&m&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gh=p&&"documentMode"in document&&11>=document.documentMode,Mn=null,aa=null,Fs=null,la=!1;function Bu(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;la||Mn==null||Mn!==He(i)||(i=Mn,"selectionStart"in i&&oa(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fs&&zs(Fs,i)||(Fs=i,i=$i(aa,"onSelect"),0<i.length&&(t=new Xo("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Mn)))}function Li(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zn={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionend:Li("Transition","TransitionEnd")},ua={},qu={};p&&(qu=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function Ai(e){if(ua[e])return ua[e];if(!zn[e])return e;var t=zn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qu)return ua[e]=t[r];return e}var Wu=Ai("animationend"),Vu=Ai("animationiteration"),Hu=Ai("animationstart"),Gu=Ai("transitionend"),Ku=new Map,Ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){Ku.set(e,t),c(t,[e])}for(var ca=0;ca<Ju.length;ca++){var da=Ju[ca],Kh=da.toLowerCase(),Jh=da[0].toUpperCase()+da.slice(1);zr(Kh,"on"+Jh)}zr(Wu,"onAnimationEnd"),zr(Vu,"onAnimationIteration"),zr(Hu,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Gu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bs));function Qu(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,xi(i,t,void 0,e),e.currentTarget=null}function Yu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],u=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var m=i.length-1;0<=m;m--){var w=i[m],k=w.instance,P=w.currentTarget;if(w=w.listener,k!==d&&u.isPropagationStopped())break e;Qu(u,w,P),d=k}else for(m=0;m<i.length;m++){if(w=i[m],k=w.instance,P=w.currentTarget,w=w.listener,k!==d&&u.isPropagationStopped())break e;Qu(u,w,P),d=k}}}if(gr)throw e=Es,gr=!1,Es=null,e}function Me(e,t){var r=t[wa];r===void 0&&(r=t[wa]=new Set);var i=e+"__bubble";r.has(i)||(Xu(t,e,2,!1),r.add(i))}function fa(e,t,r){var i=0;t&&(i|=4),Xu(r,e,i,t)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function qs(e){if(!e[Ii]){e[Ii]=!0,o.forEach(function(r){r!=="selectionchange"&&(Qh.has(r)||fa(r,!1,e),fa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ii]||(t[Ii]=!0,fa("selectionchange",!1,t))}}function Xu(e,t,r,i){switch(_u(t)){case 1:var u=ch;break;case 4:u=dh;break;default:u=Jo}r=u.bind(null,t,r,e),u=void 0,!Or||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function ha(e,t,r,i,u){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var w=i.stateNode.containerInfo;if(w===u||w.nodeType===8&&w.parentNode===u)break;if(m===4)for(m=i.return;m!==null;){var k=m.tag;if((k===3||k===4)&&(k=m.stateNode.containerInfo,k===u||k.nodeType===8&&k.parentNode===u))return;m=m.return}for(;w!==null;){if(m=mn(w),m===null)return;if(k=m.tag,k===5||k===6){i=d=m;continue e}w=w.parentNode}}i=i.return}dn(function(){var P=d,D=Ln(r),F=[];e:{var $=Ku.get(e);if($!==void 0){var Q=Xo,Z=e;switch(e){case"keypress":if(Ti(r)===0)break e;case"keydown":case"keyup":Q=Eh;break;case"focusin":Z="focus",Q=ta;break;case"focusout":Z="blur",Q=ta;break;case"beforeblur":case"afterblur":Q=ta;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Th;break;case Wu:case Vu:case Hu:Q=vh;break;case Gu:Q=Oh;break;case"scroll":Q=fh;break;case"wheel":Q=Lh;break;case"copy":case"cut":case"paste":Q=wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Eu}var ee=(t&4)!==0,tt=!ee&&e==="scroll",N=ee?$!==null?$+"Capture":null:$;ee=[];for(var S=P,T;S!==null;){T=S;var q=T.stateNode;if(T.tag===5&&q!==null&&(T=q,N!==null&&(q=sr(S,N),q!=null&&ee.push(Ws(S,q,T)))),tt)break;S=S.return}0<ee.length&&($=new Q($,Z,null,r,D),F.push({event:$,listeners:ee}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",$&&r!==nr&&(Z=r.relatedTarget||r.fromElement)&&(mn(Z)||Z[vr]))break e;if((Q||$)&&($=D.window===D?D:($=D.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(Z=r.relatedTarget||r.toElement,Q=P,Z=Z?mn(Z):null,Z!==null&&(tt=C(Z),Z!==tt||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(Q=null,Z=P),Q!==Z)){if(ee=Su,q="onMouseLeave",N="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(ee=Eu,q="onPointerLeave",N="onPointerEnter",S="pointer"),tt=Q==null?$:qn(Q),T=Z==null?$:qn(Z),$=new ee(q,S+"leave",Q,r,D),$.target=tt,$.relatedTarget=T,q=null,mn(D)===P&&(ee=new ee(N,S+"enter",Z,r,D),ee.target=T,ee.relatedTarget=tt,q=ee),tt=q,Q&&Z)t:{for(ee=Q,N=Z,S=0,T=ee;T;T=Fn(T))S++;for(T=0,q=N;q;q=Fn(q))T++;for(;0<S-T;)ee=Fn(ee),S--;for(;0<T-S;)N=Fn(N),T--;for(;S--;){if(ee===N||N!==null&&ee===N.alternate)break t;ee=Fn(ee),N=Fn(N)}ee=null}else ee=null;Q!==null&&Zu(F,$,Q,ee,!1),Z!==null&&tt!==null&&Zu(F,tt,Z,ee,!0)}}e:{if($=P?qn(P):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var te=zh;else if(Ru($))if(Au)te=Wh;else{te=Bh;var le=Fh}else(Q=$.nodeName)&&Q.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(te=qh);if(te&&(te=te(e,P))){Lu(F,te,r,D);break e}le&&le(e,$,P),e==="focusout"&&(le=$._wrapperState)&&le.controlled&&$.type==="number"&&ln($,"number",$.value)}switch(le=P?qn(P):window,e){case"focusin":(Ru(le)||le.contentEditable==="true")&&(Mn=le,aa=P,Fs=null);break;case"focusout":Fs=aa=Mn=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,Bu(F,r,D);break;case"selectionchange":if(Gh)break;case"keydown":case"keyup":Bu(F,r,D)}var ue;if(na)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Dn?Pu(e,r)&&(ge="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ge="onCompositionStart");ge&&(Nu&&r.locale!=="ko"&&(Dn||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Dn&&(ue=ku()):(Mr=D,Yo="value"in Mr?Mr.value:Mr.textContent,Dn=!0)),le=$i(P,ge),0<le.length&&(ge=new ju(ge,e,null,r,D),F.push({event:ge,listeners:le}),ue?ge.data=ue:(ue=Ou(r),ue!==null&&(ge.data=ue)))),(ue=Ih?$h(e,r):Uh(e,r))&&(P=$i(P,"onBeforeInput"),0<P.length&&(D=new ju("onBeforeInput","beforeinput",null,r,D),F.push({event:D,listeners:P}),D.data=ue))}Yu(F,t)})}function Ws(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $i(e,t){for(var r=t+"Capture",i=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=sr(e,r),d!=null&&i.unshift(Ws(e,d,u)),d=sr(e,t),d!=null&&i.push(Ws(e,d,u))),e=e.return}return i}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zu(e,t,r,i,u){for(var d=t._reactName,m=[];r!==null&&r!==i;){var w=r,k=w.alternate,P=w.stateNode;if(k!==null&&k===i)break;w.tag===5&&P!==null&&(w=P,u?(k=sr(r,d),k!=null&&m.unshift(Ws(r,k,w))):u||(k=sr(r,d),k!=null&&m.push(Ws(r,k,w)))),r=r.return}m.length!==0&&e.push({event:t,listeners:m})}var Yh=/\r\n?/g,Xh=/\u0000|\uFFFD/g;function ec(e){return(typeof e=="string"?e:""+e).replace(Yh,`
`).replace(Xh,"")}function Ui(e,t,r){if(t=ec(t),ec(e)!==t&&r)throw Error(s(425))}function Di(){}var pa=null,ma=null;function ga(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var va=typeof setTimeout=="function"?setTimeout:void 0,Zh=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,ep=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(e){return tc.resolve(null).then(e).catch(tp)}:va;function tp(e){setTimeout(function(){throw e})}function ya(e,t){var r=t,i=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(i===0){e.removeChild(u),As(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=u}while(r);As(t)}function Fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),or="__reactFiber$"+Bn,Vs="__reactProps$"+Bn,vr="__reactContainer$"+Bn,wa="__reactEvents$"+Bn,rp="__reactListeners$"+Bn,np="__reactHandles$"+Bn;function mn(e){var t=e[or];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vr]||r[or]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rc(e);e!==null;){if(r=e[or])return r;e=rc(e)}return t}e=r,r=e.parentNode}return null}function Hs(e){return e=e[or]||e[vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Mi(e){return e[Vs]||null}var xa=[],Wn=-1;function Br(e){return{current:e}}function ze(e){0>Wn||(e.current=xa[Wn],xa[Wn]=null,Wn--)}function $e(e,t){Wn++,xa[Wn]=e.current,e.current=t}var qr={},mt=Br(qr),bt=Br(!1),gn=qr;function Vn(e,t){var r=e.type.contextTypes;if(!r)return qr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in r)u[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function St(e){return e=e.childContextTypes,e!=null}function zi(){ze(bt),ze(mt)}function nc(e,t,r){if(mt.current!==qr)throw Error(s(168));$e(mt,t),$e(bt,r)}function sc(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var u in i)if(!(u in t))throw Error(s(108,Y(e)||"Unknown",u));return B({},r,i)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qr,gn=mt.current,$e(mt,e),$e(bt,bt.current),!0}function ic(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=sc(e,t,gn),i.__reactInternalMemoizedMergedChildContext=e,ze(bt),ze(mt),$e(mt,e)):ze(bt),$e(bt,r)}var yr=null,Bi=!1,_a=!1;function oc(e){yr===null?yr=[e]:yr.push(e)}function sp(e){Bi=!0,oc(e)}function Wr(){if(!_a&&yr!==null){_a=!0;var e=0,t=Ae;try{var r=yr;for(Ae=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}yr=null,Bi=!1}catch(u){throw yr!==null&&(yr=yr.slice(e+1)),An(Ar,Wr),u}finally{Ae=t,_a=!1}}return null}var Hn=[],Gn=0,qi=null,Wi=0,zt=[],Ft=0,vn=null,wr=1,xr="";function yn(e,t){Hn[Gn++]=Wi,Hn[Gn++]=qi,qi=e,Wi=t}function ac(e,t,r){zt[Ft++]=wr,zt[Ft++]=xr,zt[Ft++]=vn,vn=e;var i=wr;e=xr;var u=32-Pt(i)-1;i&=~(1<<u),r+=1;var d=32-Pt(t)+u;if(30<d){var m=u-u%5;d=(i&(1<<m)-1).toString(32),i>>=m,u-=m,wr=1<<32-Pt(t)+u|r<<u|i,xr=d+e}else wr=1<<d|r<<u|i,xr=e}function ka(e){e.return!==null&&(yn(e,1),ac(e,1,0))}function ba(e){for(;e===qi;)qi=Hn[--Gn],Hn[Gn]=null,Wi=Hn[--Gn],Hn[Gn]=null;for(;e===vn;)vn=zt[--Ft],zt[Ft]=null,xr=zt[--Ft],zt[Ft]=null,wr=zt[--Ft],zt[Ft]=null}var Rt=null,Lt=null,We=!1,Kt=null;function lc(e,t){var r=Vt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rt=e,Lt=Fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rt=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vn!==null?{id:wr,overflow:xr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Rt=e,Lt=null,!0):!1;default:return!1}}function Sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ja(e){if(We){var t=Lt;if(t){var r=t;if(!uc(e,t)){if(Sa(e))throw Error(s(418));t=Fr(r.nextSibling);var i=Rt;t&&uc(e,t)?lc(i,r):(e.flags=e.flags&-4097|2,We=!1,Rt=e)}}else{if(Sa(e))throw Error(s(418));e.flags=e.flags&-4097|2,We=!1,Rt=e}}}function cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function Vi(e){if(e!==Rt)return!1;if(!We)return cc(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ga(e.type,e.memoizedProps)),t&&(t=Lt)){if(Sa(e))throw dc(),Error(s(418));for(;t;)lc(e,t),t=Fr(t.nextSibling)}if(cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Lt=Fr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Rt?Fr(e.stateNode.nextSibling):null;return!0}function dc(){for(var e=Lt;e;)e=Fr(e.nextSibling)}function Kn(){Lt=Rt=null,We=!1}function Ea(e){Kt===null?Kt=[e]:Kt.push(e)}var ip=G.ReactCurrentBatchConfig;function Gs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var u=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(m){var w=u.refs;m===null?delete w[d]:w[d]=m},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Hi(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fc(e){var t=e._init;return t(e._payload)}function hc(e){function t(N,S){if(e){var T=N.deletions;T===null?(N.deletions=[S],N.flags|=16):T.push(S)}}function r(N,S){if(!e)return null;for(;S!==null;)t(N,S),S=S.sibling;return null}function i(N,S){for(N=new Map;S!==null;)S.key!==null?N.set(S.key,S):N.set(S.index,S),S=S.sibling;return N}function u(N,S){return N=Xr(N,S),N.index=0,N.sibling=null,N}function d(N,S,T){return N.index=T,e?(T=N.alternate,T!==null?(T=T.index,T<S?(N.flags|=2,S):T):(N.flags|=2,S)):(N.flags|=1048576,S)}function m(N){return e&&N.alternate===null&&(N.flags|=2),N}function w(N,S,T,q){return S===null||S.tag!==6?(S=vl(T,N.mode,q),S.return=N,S):(S=u(S,T),S.return=N,S)}function k(N,S,T,q){var te=T.type;return te===de?D(N,S,T.props.children,q,T.key):S!==null&&(S.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Le&&fc(te)===S.type)?(q=u(S,T.props),q.ref=Gs(N,S,T),q.return=N,q):(q=vo(T.type,T.key,T.props,null,N.mode,q),q.ref=Gs(N,S,T),q.return=N,q)}function P(N,S,T,q){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=yl(T,N.mode,q),S.return=N,S):(S=u(S,T.children||[]),S.return=N,S)}function D(N,S,T,q,te){return S===null||S.tag!==7?(S=En(T,N.mode,q,te),S.return=N,S):(S=u(S,T),S.return=N,S)}function F(N,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return S=vl(""+S,N.mode,T),S.return=N,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ce:return T=vo(S.type,S.key,S.props,null,N.mode,T),T.ref=Gs(N,null,S),T.return=N,T;case ne:return S=yl(S,N.mode,T),S.return=N,S;case Le:var q=S._init;return F(N,q(S._payload),T)}if(Tt(S)||z(S))return S=En(S,N.mode,T,null),S.return=N,S;Hi(N,S)}return null}function $(N,S,T,q){var te=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return te!==null?null:w(N,S,""+T,q);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ce:return T.key===te?k(N,S,T,q):null;case ne:return T.key===te?P(N,S,T,q):null;case Le:return te=T._init,$(N,S,te(T._payload),q)}if(Tt(T)||z(T))return te!==null?null:D(N,S,T,q,null);Hi(N,T)}return null}function Q(N,S,T,q,te){if(typeof q=="string"&&q!==""||typeof q=="number")return N=N.get(T)||null,w(S,N,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ce:return N=N.get(q.key===null?T:q.key)||null,k(S,N,q,te);case ne:return N=N.get(q.key===null?T:q.key)||null,P(S,N,q,te);case Le:var le=q._init;return Q(N,S,T,le(q._payload),te)}if(Tt(q)||z(q))return N=N.get(T)||null,D(S,N,q,te,null);Hi(S,q)}return null}function Z(N,S,T,q){for(var te=null,le=null,ue=S,ge=S=0,ct=null;ue!==null&&ge<T.length;ge++){ue.index>ge?(ct=ue,ue=null):ct=ue.sibling;var Re=$(N,ue,T[ge],q);if(Re===null){ue===null&&(ue=ct);break}e&&ue&&Re.alternate===null&&t(N,ue),S=d(Re,S,ge),le===null?te=Re:le.sibling=Re,le=Re,ue=ct}if(ge===T.length)return r(N,ue),We&&yn(N,ge),te;if(ue===null){for(;ge<T.length;ge++)ue=F(N,T[ge],q),ue!==null&&(S=d(ue,S,ge),le===null?te=ue:le.sibling=ue,le=ue);return We&&yn(N,ge),te}for(ue=i(N,ue);ge<T.length;ge++)ct=Q(ue,N,ge,T[ge],q),ct!==null&&(e&&ct.alternate!==null&&ue.delete(ct.key===null?ge:ct.key),S=d(ct,S,ge),le===null?te=ct:le.sibling=ct,le=ct);return e&&ue.forEach(function(Zr){return t(N,Zr)}),We&&yn(N,ge),te}function ee(N,S,T,q){var te=z(T);if(typeof te!="function")throw Error(s(150));if(T=te.call(T),T==null)throw Error(s(151));for(var le=te=null,ue=S,ge=S=0,ct=null,Re=T.next();ue!==null&&!Re.done;ge++,Re=T.next()){ue.index>ge?(ct=ue,ue=null):ct=ue.sibling;var Zr=$(N,ue,Re.value,q);if(Zr===null){ue===null&&(ue=ct);break}e&&ue&&Zr.alternate===null&&t(N,ue),S=d(Zr,S,ge),le===null?te=Zr:le.sibling=Zr,le=Zr,ue=ct}if(Re.done)return r(N,ue),We&&yn(N,ge),te;if(ue===null){for(;!Re.done;ge++,Re=T.next())Re=F(N,Re.value,q),Re!==null&&(S=d(Re,S,ge),le===null?te=Re:le.sibling=Re,le=Re);return We&&yn(N,ge),te}for(ue=i(N,ue);!Re.done;ge++,Re=T.next())Re=Q(ue,N,ge,Re.value,q),Re!==null&&(e&&Re.alternate!==null&&ue.delete(Re.key===null?ge:Re.key),S=d(Re,S,ge),le===null?te=Re:le.sibling=Re,le=Re);return e&&ue.forEach(function(Dp){return t(N,Dp)}),We&&yn(N,ge),te}function tt(N,S,T,q){if(typeof T=="object"&&T!==null&&T.type===de&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ce:e:{for(var te=T.key,le=S;le!==null;){if(le.key===te){if(te=T.type,te===de){if(le.tag===7){r(N,le.sibling),S=u(le,T.props.children),S.return=N,N=S;break e}}else if(le.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Le&&fc(te)===le.type){r(N,le.sibling),S=u(le,T.props),S.ref=Gs(N,le,T),S.return=N,N=S;break e}r(N,le);break}else t(N,le);le=le.sibling}T.type===de?(S=En(T.props.children,N.mode,q,T.key),S.return=N,N=S):(q=vo(T.type,T.key,T.props,null,N.mode,q),q.ref=Gs(N,S,T),q.return=N,N=q)}return m(N);case ne:e:{for(le=T.key;S!==null;){if(S.key===le)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){r(N,S.sibling),S=u(S,T.children||[]),S.return=N,N=S;break e}else{r(N,S);break}else t(N,S);S=S.sibling}S=yl(T,N.mode,q),S.return=N,N=S}return m(N);case Le:return le=T._init,tt(N,S,le(T._payload),q)}if(Tt(T))return Z(N,S,T,q);if(z(T))return ee(N,S,T,q);Hi(N,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,S!==null&&S.tag===6?(r(N,S.sibling),S=u(S,T),S.return=N,N=S):(r(N,S),S=vl(T,N.mode,q),S.return=N,N=S),m(N)):r(N,S)}return tt}var Jn=hc(!0),pc=hc(!1),Gi=Br(null),Ki=null,Qn=null,Na=null;function Ca(){Na=Qn=Ki=null}function Ta(e){var t=Gi.current;ze(Gi),e._currentValue=t}function Pa(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Yn(e,t){Ki=e,Na=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(jt=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(Na!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(Ki===null)throw Error(s(308));Qn=e,Ki.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var wn=null;function Oa(e){wn===null?wn=[e]:wn.push(e)}function mc(e,t,r,i){var u=t.interleaved;return u===null?(r.next=r,Oa(t)):(r.next=u.next,u.next=r),t.interleaved=r,_r(e,i)}function _r(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vr=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Pe&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,_r(e,r)}return u=i.interleaved,u===null?(t.next=t,Oa(i)):(t.next=u.next,u.next=t),i.interleaved=t,_r(e,r)}function Ji(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Ho(e,r)}}function vc(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var m={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?u=d=m:d=d.next=m,r=r.next}while(r!==null);d===null?u=d=t:d=d.next=t}else u=d=t;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qi(e,t,r,i){var u=e.updateQueue;Vr=!1;var d=u.firstBaseUpdate,m=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var k=w,P=k.next;k.next=null,m===null?d=P:m.next=P,m=k;var D=e.alternate;D!==null&&(D=D.updateQueue,w=D.lastBaseUpdate,w!==m&&(w===null?D.firstBaseUpdate=P:w.next=P,D.lastBaseUpdate=k))}if(d!==null){var F=u.baseState;m=0,D=P=k=null,w=d;do{var $=w.lane,Q=w.eventTime;if((i&$)===$){D!==null&&(D=D.next={eventTime:Q,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var Z=e,ee=w;switch($=t,Q=r,ee.tag){case 1:if(Z=ee.payload,typeof Z=="function"){F=Z.call(Q,F,$);break e}F=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ee.payload,$=typeof Z=="function"?Z.call(Q,F,$):Z,$==null)break e;F=B({},F,$);break e;case 2:Vr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,$=u.effects,$===null?u.effects=[w]:$.push(w))}else Q={eventTime:Q,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},D===null?(P=D=Q,k=F):D=D.next=Q,m|=$;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;$=w,w=$.next,$.next=null,u.lastBaseUpdate=$,u.shared.pending=null}}while(!0);if(D===null&&(k=F),u.baseState=k,u.firstBaseUpdate=P,u.lastBaseUpdate=D,t=u.shared.interleaved,t!==null){u=t;do m|=u.lane,u=u.next;while(u!==t)}else d===null&&(u.shared.lanes=0);kn|=m,e.lanes=m,e.memoizedState=F}}function yc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],u=i.callback;if(u!==null){if(i.callback=null,i=r,typeof u!="function")throw Error(s(191,u));u.call(i)}}}var Ks={},ar=Br(Ks),Js=Br(Ks),Qs=Br(Ks);function xn(e){if(e===Ks)throw Error(s(174));return e}function La(e,t){switch($e(Qs,t),$e(Js,e),$e(ar,Ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:be(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=be(t,e)}ze(ar),$e(ar,t)}function Xn(){ze(ar),ze(Js),ze(Qs)}function wc(e){xn(Qs.current);var t=xn(ar.current),r=be(t,e.type);t!==r&&($e(Js,e),$e(ar,r))}function Aa(e){Js.current===e&&(ze(ar),ze(Js))}var Je=Br(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ia=[];function $a(){for(var e=0;e<Ia.length;e++)Ia[e]._workInProgressVersionPrimary=null;Ia.length=0}var Xi=G.ReactCurrentDispatcher,Ua=G.ReactCurrentBatchConfig,_n=0,Qe=null,st=null,lt=null,Zi=!1,Ys=!1,Xs=0,op=0;function gt(){throw Error(s(321))}function Da(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gt(e[r],t[r]))return!1;return!0}function Ma(e,t,r,i,u,d){if(_n=d,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xi.current=e===null||e.memoizedState===null?cp:dp,e=r(i,u),Ys){d=0;do{if(Ys=!1,Xs=0,25<=d)throw Error(s(301));d+=1,lt=st=null,t.updateQueue=null,Xi.current=fp,e=r(i,u)}while(Ys)}if(Xi.current=ro,t=st!==null&&st.next!==null,_n=0,lt=st=Qe=null,Zi=!1,t)throw Error(s(300));return e}function za(){var e=Xs!==0;return Xs=0,e}function lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Qe.memoizedState=lt=e:lt=lt.next=e,lt}function qt(){if(st===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=lt===null?Qe.memoizedState:lt.next;if(t!==null)lt=t,st=e;else{if(e===null)throw Error(s(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},lt===null?Qe.memoizedState=lt=e:lt=lt.next=e}return lt}function Zs(e,t){return typeof t=="function"?t(e):t}function Fa(e){var t=qt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=st,u=i.baseQueue,d=r.pending;if(d!==null){if(u!==null){var m=u.next;u.next=d.next,d.next=m}i.baseQueue=u=d,r.pending=null}if(u!==null){d=u.next,i=i.baseState;var w=m=null,k=null,P=d;do{var D=P.lane;if((_n&D)===D)k!==null&&(k=k.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),i=P.hasEagerState?P.eagerState:e(i,P.action);else{var F={lane:D,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};k===null?(w=k=F,m=i):k=k.next=F,Qe.lanes|=D,kn|=D}P=P.next}while(P!==null&&P!==d);k===null?m=i:k.next=w,Gt(i,t.memoizedState)||(jt=!0),t.memoizedState=i,t.baseState=m,t.baseQueue=k,r.lastRenderedState=i}if(e=r.interleaved,e!==null){u=e;do d=u.lane,Qe.lanes|=d,kn|=d,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ba(e){var t=qt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,u=r.pending,d=t.memoizedState;if(u!==null){r.pending=null;var m=u=u.next;do d=e(d,m.action),m=m.next;while(m!==u);Gt(d,t.memoizedState)||(jt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function xc(){}function _c(e,t){var r=Qe,i=qt(),u=t(),d=!Gt(i.memoizedState,u);if(d&&(i.memoizedState=u,jt=!0),i=i.queue,qa(Sc.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,ei(9,bc.bind(null,r,i,u,t),void 0,null),ut===null)throw Error(s(349));(_n&30)!==0||kc(r,t,u)}return u}function kc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bc(e,t,r,i){t.value=r,t.getSnapshot=i,jc(t)&&Ec(e)}function Sc(e,t,r){return r(function(){jc(t)&&Ec(e)})}function jc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gt(e,r)}catch{return!0}}function Ec(e){var t=_r(e,1);t!==null&&Xt(t,e,1,-1)}function Nc(e){var t=lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:e},t.queue=e,e=e.dispatch=up.bind(null,Qe,e),[t.memoizedState,e]}function ei(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Cc(){return qt().memoizedState}function eo(e,t,r,i){var u=lr();Qe.flags|=e,u.memoizedState=ei(1|t,r,void 0,i===void 0?null:i)}function to(e,t,r,i){var u=qt();i=i===void 0?null:i;var d=void 0;if(st!==null){var m=st.memoizedState;if(d=m.destroy,i!==null&&Da(i,m.deps)){u.memoizedState=ei(t,r,d,i);return}}Qe.flags|=e,u.memoizedState=ei(1|t,r,d,i)}function Tc(e,t){return eo(8390656,8,e,t)}function qa(e,t){return to(2048,8,e,t)}function Pc(e,t){return to(4,2,e,t)}function Oc(e,t){return to(4,4,e,t)}function Rc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lc(e,t,r){return r=r!=null?r.concat([e]):null,to(4,4,Rc.bind(null,t,e),r)}function Wa(){}function Ac(e,t){var r=qt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Da(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Ic(e,t){var r=qt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Da(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function $c(e,t,r){return(_n&21)===0?(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=r):(Gt(r,t)||(r=fu(),Qe.lanes|=r,kn|=r,e.baseState=!0),t)}function ap(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var i=Ua.transition;Ua.transition={};try{e(!1),t()}finally{Ae=r,Ua.transition=i}}function Uc(){return qt().memoizedState}function lp(e,t,r){var i=Qr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Dc(e))Mc(t,r);else if(r=mc(e,t,r,i),r!==null){var u=xt();Xt(r,e,i,u),zc(r,t,i)}}function up(e,t,r){var i=Qr(e),u={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dc(e))Mc(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,w=d(m,r);if(u.hasEagerState=!0,u.eagerState=w,Gt(w,m)){var k=t.interleaved;k===null?(u.next=u,Oa(t)):(u.next=k.next,k.next=u),t.interleaved=u;return}}catch{}finally{}r=mc(e,t,u,i),r!==null&&(u=xt(),Xt(r,e,i,u),zc(r,t,i))}}function Dc(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function Mc(e,t){Ys=Zi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Ho(e,r)}}var ro={readContext:Bt,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},cp={readContext:Bt,useCallback:function(e,t){return lr().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:Tc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,eo(4194308,4,Rc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return eo(4194308,4,e,t)},useInsertionEffect:function(e,t){return eo(4,2,e,t)},useMemo:function(e,t){var r=lr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=lr();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=lp.bind(null,Qe,e),[i.memoizedState,e]},useRef:function(e){var t=lr();return e={current:e},t.memoizedState=e},useState:Nc,useDebugValue:Wa,useDeferredValue:function(e){return lr().memoizedState=e},useTransition:function(){var e=Nc(!1),t=e[0];return e=ap.bind(null,e[1]),lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Qe,u=lr();if(We){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),ut===null)throw Error(s(349));(_n&30)!==0||kc(i,t,r)}u.memoizedState=r;var d={value:r,getSnapshot:t};return u.queue=d,Tc(Sc.bind(null,i,d,e),[e]),i.flags|=2048,ei(9,bc.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=lr(),t=ut.identifierPrefix;if(We){var r=xr,i=wr;r=(i&~(1<<32-Pt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=op++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dp={readContext:Bt,useCallback:Ac,useContext:Bt,useEffect:qa,useImperativeHandle:Lc,useInsertionEffect:Pc,useLayoutEffect:Oc,useMemo:Ic,useReducer:Fa,useRef:Cc,useState:function(){return Fa(Zs)},useDebugValue:Wa,useDeferredValue:function(e){var t=qt();return $c(t,st.memoizedState,e)},useTransition:function(){var e=Fa(Zs)[0],t=qt().memoizedState;return[e,t]},useMutableSource:xc,useSyncExternalStore:_c,useId:Uc,unstable_isNewReconciler:!1},fp={readContext:Bt,useCallback:Ac,useContext:Bt,useEffect:qa,useImperativeHandle:Lc,useInsertionEffect:Pc,useLayoutEffect:Oc,useMemo:Ic,useReducer:Ba,useRef:Cc,useState:function(){return Ba(Zs)},useDebugValue:Wa,useDeferredValue:function(e){var t=qt();return st===null?t.memoizedState=e:$c(t,st.memoizedState,e)},useTransition:function(){var e=Ba(Zs)[0],t=qt().memoizedState;return[e,t]},useMutableSource:xc,useSyncExternalStore:_c,useId:Uc,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=B({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Va(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:B({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return(e=e._reactInternals)?C(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=xt(),u=Qr(e),d=kr(i,u);d.payload=t,r!=null&&(d.callback=r),t=Hr(e,d,u),t!==null&&(Xt(t,e,u,i),Ji(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=xt(),u=Qr(e),d=kr(i,u);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=Hr(e,d,u),t!==null&&(Xt(t,e,u,i),Ji(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xt(),i=Qr(e),u=kr(r,i);u.tag=2,t!=null&&(u.callback=t),t=Hr(e,u,i),t!==null&&(Xt(t,e,i,r),Ji(t,e,i))}};function Fc(e,t,r,i,u,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,m):t.prototype&&t.prototype.isPureReactComponent?!zs(r,i)||!zs(u,d):!0}function Bc(e,t,r){var i=!1,u=qr,d=t.contextType;return typeof d=="object"&&d!==null?d=Bt(d):(u=St(t)?gn:mt.current,i=t.contextTypes,d=(i=i!=null)?Vn(e,u):qr),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),t}function qc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function Ha(e,t,r,i){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},Ra(e);var d=t.contextType;typeof d=="object"&&d!==null?u.context=Bt(d):(d=St(t)?gn:mt.current,u.context=Vn(e,d)),u.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Va(e,t,d,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&no.enqueueReplaceState(u,u.state,null),Qi(e,r,u,i),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t){try{var r="",i=t;do r+=re(i),i=i.return;while(i);var u=r}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:u,digest:null}}function Ga(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ka(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hp=typeof WeakMap=="function"?WeakMap:Map;function Wc(e,t,r){r=kr(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){co||(co=!0,ul=i),Ka(e,t)},r}function Vc(e,t,r){r=kr(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var u=t.value;r.payload=function(){return i(u)},r.callback=function(){Ka(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){Ka(e,t),typeof i!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),r}function Hc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new hp;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(r)||(u.add(r),e=Np.bind(null,e,t,r),t.then(e,e))}function Gc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kc(e,t,r,i,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kr(-1,1),t.tag=2,Hr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var pp=G.ReactCurrentOwner,jt=!1;function wt(e,t,r,i){t.child=e===null?pc(t,null,r,i):Jn(t,e.child,r,i)}function Jc(e,t,r,i,u){r=r.render;var d=t.ref;return Yn(t,u),i=Ma(e,t,r,i,d,u),r=za(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,br(e,t,u)):(We&&r&&ka(t),t.flags|=1,wt(e,t,i,u),t.child)}function Qc(e,t,r,i,u){if(e===null){var d=r.type;return typeof d=="function"&&!gl(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,Yc(e,t,d,i,u)):(e=vo(r.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&u)===0){var m=d.memoizedProps;if(r=r.compare,r=r!==null?r:zs,r(m,i)&&e.ref===t.ref)return br(e,t,u)}return t.flags|=1,e=Xr(d,i),e.ref=t.ref,e.return=t,t.child=e}function Yc(e,t,r,i,u){if(e!==null){var d=e.memoizedProps;if(zs(d,i)&&e.ref===t.ref)if(jt=!1,t.pendingProps=i=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,br(e,t,u)}return Ja(e,t,r,i,u)}function Xc(e,t,r){var i=t.pendingProps,u=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(ts,At),At|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(ts,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,$e(ts,At),At|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,$e(ts,At),At|=i;return wt(e,t,u,r),t.child}function Zc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ja(e,t,r,i,u){var d=St(r)?gn:mt.current;return d=Vn(t,d),Yn(t,u),r=Ma(e,t,r,i,d,u),i=za(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,br(e,t,u)):(We&&i&&ka(t),t.flags|=1,wt(e,t,r,u),t.child)}function ed(e,t,r,i,u){if(St(r)){var d=!0;Fi(t)}else d=!1;if(Yn(t,u),t.stateNode===null)io(e,t),Bc(t,r,i),Ha(t,r,i,u),i=!0;else if(e===null){var m=t.stateNode,w=t.memoizedProps;m.props=w;var k=m.context,P=r.contextType;typeof P=="object"&&P!==null?P=Bt(P):(P=St(r)?gn:mt.current,P=Vn(t,P));var D=r.getDerivedStateFromProps,F=typeof D=="function"||typeof m.getSnapshotBeforeUpdate=="function";F||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==i||k!==P)&&qc(t,m,i,P),Vr=!1;var $=t.memoizedState;m.state=$,Qi(t,i,m,u),k=t.memoizedState,w!==i||$!==k||bt.current||Vr?(typeof D=="function"&&(Va(t,r,D,i),k=t.memoizedState),(w=Vr||Fc(t,r,w,i,$,k,P))?(F||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=k),m.props=i,m.state=k,m.context=P,i=w):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{m=t.stateNode,gc(e,t),w=t.memoizedProps,P=t.type===t.elementType?w:Jt(t.type,w),m.props=P,F=t.pendingProps,$=m.context,k=r.contextType,typeof k=="object"&&k!==null?k=Bt(k):(k=St(r)?gn:mt.current,k=Vn(t,k));var Q=r.getDerivedStateFromProps;(D=typeof Q=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==F||$!==k)&&qc(t,m,i,k),Vr=!1,$=t.memoizedState,m.state=$,Qi(t,i,m,u);var Z=t.memoizedState;w!==F||$!==Z||bt.current||Vr?(typeof Q=="function"&&(Va(t,r,Q,i),Z=t.memoizedState),(P=Vr||Fc(t,r,P,i,$,Z,k)||!1)?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(i,Z,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(i,Z,k)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=Z),m.props=i,m.state=Z,m.context=k,i=P):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),i=!1)}return Qa(e,t,r,i,d,u)}function Qa(e,t,r,i,u,d){Zc(e,t);var m=(t.flags&128)!==0;if(!i&&!m)return u&&ic(t,r,!1),br(e,t,d);i=t.stateNode,pp.current=t;var w=m&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&m?(t.child=Jn(t,e.child,null,d),t.child=Jn(t,null,w,d)):wt(e,t,w,d),t.memoizedState=i.state,u&&ic(t,r,!0),t.child}function td(e){var t=e.stateNode;t.pendingContext?nc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nc(e,t.context,!1),La(e,t.containerInfo)}function rd(e,t,r,i,u){return Kn(),Ea(u),t.flags|=256,wt(e,t,r,i),t.child}var Ya={dehydrated:null,treeContext:null,retryLane:0};function Xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function nd(e,t,r){var i=t.pendingProps,u=Je.current,d=!1,m=(t.flags&128)!==0,w;if((w=m)||(w=e!==null&&e.memoizedState===null?!1:(u&2)!==0),w?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),$e(Je,u&1),e===null)return ja(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=i.children,e=i.fallback,d?(i=t.mode,d=t.child,m={mode:"hidden",children:m},(i&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=m):d=yo(m,i,0,null),e=En(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Xa(r),t.memoizedState=Ya,e):Za(t,m));if(u=e.memoizedState,u!==null&&(w=u.dehydrated,w!==null))return mp(e,t,m,i,w,u,r);if(d){d=i.fallback,m=t.mode,u=e.child,w=u.sibling;var k={mode:"hidden",children:i.children};return(m&1)===0&&t.child!==u?(i=t.child,i.childLanes=0,i.pendingProps=k,t.deletions=null):(i=Xr(u,k),i.subtreeFlags=u.subtreeFlags&14680064),w!==null?d=Xr(w,d):(d=En(d,m,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,m=e.child.memoizedState,m=m===null?Xa(r):{baseLanes:m.baseLanes|r,cachePool:null,transitions:m.transitions},d.memoizedState=m,d.childLanes=e.childLanes&~r,t.memoizedState=Ya,i}return d=e.child,e=d.sibling,i=Xr(d,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Za(e,t){return t=yo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function so(e,t,r,i){return i!==null&&Ea(i),Jn(t,e.child,null,r),e=Za(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mp(e,t,r,i,u,d,m){if(r)return t.flags&256?(t.flags&=-257,i=Ga(Error(s(422))),so(e,t,m,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,u=t.mode,i=yo({mode:"visible",children:i.children},u,0,null),d=En(d,u,m,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,(t.mode&1)!==0&&Jn(t,e.child,null,m),t.child.memoizedState=Xa(m),t.memoizedState=Ya,d);if((t.mode&1)===0)return so(e,t,m,null);if(u.data==="$!"){if(i=u.nextSibling&&u.nextSibling.dataset,i)var w=i.dgst;return i=w,d=Error(s(419)),i=Ga(d,i,void 0),so(e,t,m,i)}if(w=(m&e.childLanes)!==0,jt||w){if(i=ut,i!==null){switch(m&-m){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(i.suspendedLanes|m))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,_r(e,u),Xt(i,e,u,-1))}return ml(),i=Ga(Error(s(421))),so(e,t,m,i)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Cp.bind(null,e),u._reactRetry=t,null):(e=d.treeContext,Lt=Fr(u.nextSibling),Rt=t,We=!0,Kt=null,e!==null&&(zt[Ft++]=wr,zt[Ft++]=xr,zt[Ft++]=vn,wr=e.id,xr=e.overflow,vn=t),t=Za(t,i.children),t.flags|=4096,t)}function sd(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Pa(e.return,t,r)}function el(e,t,r,i,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=u)}function id(e,t,r){var i=t.pendingProps,u=i.revealOrder,d=i.tail;if(wt(e,t,i.children,r),i=Je.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sd(e,r,t);else if(e.tag===19)sd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if($e(Je,i),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&Yi(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),el(t,!1,u,r,d);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Yi(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}el(t,!0,r,null,d);break;case"together":el(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function io(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function br(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kn|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=Xr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gp(e,t,r){switch(t.tag){case 3:td(t),Kn();break;case 5:wc(t);break;case 1:St(t.type)&&Fi(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,u=t.memoizedProps.value;$e(Gi,i._currentValue),i._currentValue=u;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?($e(Je,Je.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?nd(e,t,r):($e(Je,Je.current&1),e=br(e,t,r),e!==null?e.sibling:null);$e(Je,Je.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return id(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),$e(Je,Je.current),i)break;return null;case 22:case 23:return t.lanes=0,Xc(e,t,r)}return br(e,t,r)}var od,tl,ad,ld;od=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},tl=function(){},ad=function(e,t,r,i){var u=e.memoizedProps;if(u!==i){e=t.stateNode,xn(ar.current);var d=null;switch(r){case"input":u=It(e,u),i=It(e,i),d=[];break;case"select":u=B({},u,{value:void 0}),i=B({},i,{value:void 0}),d=[];break;case"textarea":u=un(e,u),i=un(e,i),d=[];break;default:typeof u.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Di)}Dt(r,i);var m;r=null;for(P in u)if(!i.hasOwnProperty(P)&&u.hasOwnProperty(P)&&u[P]!=null)if(P==="style"){var w=u[P];for(m in w)w.hasOwnProperty(m)&&(r||(r={}),r[m]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?d||(d=[]):(d=d||[]).push(P,null));for(P in i){var k=i[P];if(w=u?.[P],i.hasOwnProperty(P)&&k!==w&&(k!=null||w!=null))if(P==="style")if(w){for(m in w)!w.hasOwnProperty(m)||k&&k.hasOwnProperty(m)||(r||(r={}),r[m]="");for(m in k)k.hasOwnProperty(m)&&w[m]!==k[m]&&(r||(r={}),r[m]=k[m])}else r||(d||(d=[]),d.push(P,r)),r=k;else P==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,w=w?w.__html:void 0,k!=null&&w!==k&&(d=d||[]).push(P,k)):P==="children"?typeof k!="string"&&typeof k!="number"||(d=d||[]).push(P,""+k):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(k!=null&&P==="onScroll"&&Me("scroll",e),d||w===k||(d=[])):(d=d||[]).push(P,k))}r&&(d=d||[]).push("style",r);var P=d;(t.updateQueue=P)&&(t.flags|=4)}},ld=function(e,t,r,i){r!==i&&(t.flags|=4)};function ti(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&14680064,i|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function vp(e,t,r){var i=t.pendingProps;switch(ba(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return St(t.type)&&zi(),vt(t),null;case 3:return i=t.stateNode,Xn(),ze(bt),ze(mt),$a(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kt!==null&&(fl(Kt),Kt=null))),tl(e,t),vt(t),null;case 5:Aa(t);var u=xn(Qs.current);if(r=t.type,e!==null&&t.stateNode!=null)ad(e,t,r,i,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return vt(t),null}if(e=xn(ar.current),Vi(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[or]=t,i[Vs]=d,e=(t.mode&1)!==0,r){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(u=0;u<Bs.length;u++)Me(Bs[u],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":rr(i,d),Me("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},Me("invalid",i);break;case"textarea":dr(i,d),Me("invalid",i)}Dt(r,d),u=null;for(var m in d)if(d.hasOwnProperty(m)){var w=d[m];m==="children"?typeof w=="string"?i.textContent!==w&&(d.suppressHydrationWarning!==!0&&Ui(i.textContent,w,e),u=["children",w]):typeof w=="number"&&i.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Ui(i.textContent,w,e),u=["children",""+w]):l.hasOwnProperty(m)&&w!=null&&m==="onScroll"&&Me("scroll",i)}switch(r){case"input":De(i),Ht(i,d,!0);break;case"textarea":De(i),H(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=Di)}i=u,t.updateQueue=i,i!==null&&(t.flags|=4)}else{m=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pe(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=m.createElement(r,{is:i.is}):(e=m.createElement(r),r==="select"&&(m=e,i.multiple?m.multiple=!0:i.size&&(m.size=i.size))):e=m.createElementNS(e,r),e[or]=t,e[Vs]=i,od(e,t,!1,!1),t.stateNode=e;e:{switch(m=cn(r,i),r){case"dialog":Me("cancel",e),Me("close",e),u=i;break;case"iframe":case"object":case"embed":Me("load",e),u=i;break;case"video":case"audio":for(u=0;u<Bs.length;u++)Me(Bs[u],e);u=i;break;case"source":Me("error",e),u=i;break;case"img":case"image":case"link":Me("error",e),Me("load",e),u=i;break;case"details":Me("toggle",e),u=i;break;case"input":rr(e,i),u=It(e,i),Me("invalid",e);break;case"option":u=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=B({},i,{value:void 0}),Me("invalid",e);break;case"textarea":dr(e,i),u=un(e,i),Me("invalid",e);break;default:u=i}Dt(r,u),w=u;for(d in w)if(w.hasOwnProperty(d)){var k=w[d];d==="style"?$o(e,k):d==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Ie(e,k)):d==="children"?typeof k=="string"?(r!=="textarea"||k!=="")&&me(e,k):typeof k=="number"&&me(e,""+k):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?k!=null&&d==="onScroll"&&Me("scroll",e):k!=null&&U(e,d,k,m))}switch(r){case"input":De(e),Ht(e,i,!1);break;case"textarea":De(e),H(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ae(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?Ut(e,!!i.multiple,d,!1):i.defaultValue!=null&&Ut(e,!!i.multiple,i.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Di)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)ld(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(r=xn(Qs.current),xn(ar.current),Vi(t)){if(i=t.stateNode,r=t.memoizedProps,i[or]=t,(d=i.nodeValue!==r)&&(e=Rt,e!==null))switch(e.tag){case 3:Ui(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ui(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[or]=t,t.stateNode=i}return vt(t),null;case 13:if(ze(Je),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Lt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)dc(),Kn(),t.flags|=98560,d=!1;else if(d=Vi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[or]=t}else Kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),d=!1}else Kt!==null&&(fl(Kt),Kt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Je.current&1)!==0?it===0&&(it=3):ml())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return Xn(),tl(e,t),e===null&&qs(t.stateNode.containerInfo),vt(t),null;case 10:return Ta(t.type._context),vt(t),null;case 17:return St(t.type)&&zi(),vt(t),null;case 19:if(ze(Je),d=t.memoizedState,d===null)return vt(t),null;if(i=(t.flags&128)!==0,m=d.rendering,m===null)if(i)ti(d,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Yi(e),m!==null){for(t.flags|=128,ti(d,!1),i=m.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,e=m.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $e(Je,Je.current&1|2),t.child}e=e.sibling}d.tail!==null&&Be()>rs&&(t.flags|=128,i=!0,ti(d,!1),t.lanes=4194304)}else{if(!i)if(e=Yi(m),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ti(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!We)return vt(t),null}else 2*Be()-d.renderingStartTime>rs&&r!==1073741824&&(t.flags|=128,i=!0,ti(d,!1),t.lanes=4194304);d.isBackwards?(m.sibling=t.child,t.child=m):(r=d.last,r!==null?r.sibling=m:t.child=m,d.last=m)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Be(),t.sibling=null,r=Je.current,$e(Je,i?r&1|2:r&1),t):(vt(t),null);case 22:case 23:return pl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(At&1073741824)!==0&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function yp(e,t){switch(ba(t),t.tag){case 1:return St(t.type)&&zi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(),ze(bt),ze(mt),$a(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Aa(t),null;case 13:if(ze(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Je),null;case 4:return Xn(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return pl(),null;case 24:return null;default:return null}}var oo=!1,yt=!1,wp=typeof WeakSet=="function"?WeakSet:Set,X=null;function es(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Xe(e,t,i)}else r.current=null}function rl(e,t,r){try{r()}catch(i){Xe(e,t,i)}}var ud=!1;function xp(e,t){if(pa=Ei,e=Fu(),oa(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var m=0,w=-1,k=-1,P=0,D=0,F=e,$=null;t:for(;;){for(var Q;F!==r||u!==0&&F.nodeType!==3||(w=m+u),F!==d||i!==0&&F.nodeType!==3||(k=m+i),F.nodeType===3&&(m+=F.nodeValue.length),(Q=F.firstChild)!==null;)$=F,F=Q;for(;;){if(F===e)break t;if($===r&&++P===u&&(w=m),$===d&&++D===i&&(k=m),(Q=F.nextSibling)!==null)break;F=$,$=F.parentNode}F=Q}r=w===-1||k===-1?null:{start:w,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(ma={focusedElem:e,selectionRange:r},Ei=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var ee=Z.memoizedProps,tt=Z.memoizedState,N=t.stateNode,S=N.getSnapshotBeforeUpdate(t.elementType===t.type?ee:Jt(t.type,ee),tt);N.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(q){Xe(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Z=ud,ud=!1,Z}function ri(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&rl(t,r,d)}u=u.next}while(u!==i)}}function ao(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cd(e){var t=e.alternate;t!==null&&(e.alternate=null,cd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[or],delete t[Vs],delete t[wa],delete t[rp],delete t[np])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dd(e){return e.tag===5||e.tag===3||e.tag===4}function fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sl(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Di));else if(i!==4&&(e=e.child,e!==null))for(sl(e,t,r),e=e.sibling;e!==null;)sl(e,t,r),e=e.sibling}function il(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(il(e,t,r),e=e.sibling;e!==null;)il(e,t,r),e=e.sibling}var ft=null,Qt=!1;function Gr(e,t,r){for(r=r.child;r!==null;)hd(e,t,r),r=r.sibling}function hd(e,t,r){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Ke,r)}catch{}switch(r.tag){case 5:yt||es(r,t);case 6:var i=ft,u=Qt;ft=null,Gr(e,t,r),ft=i,Qt=u,ft!==null&&(Qt?(e=ft,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ft.removeChild(r.stateNode));break;case 18:ft!==null&&(Qt?(e=ft,r=r.stateNode,e.nodeType===8?ya(e.parentNode,r):e.nodeType===1&&ya(e,r),As(e)):ya(ft,r.stateNode));break;case 4:i=ft,u=Qt,ft=r.stateNode.containerInfo,Qt=!0,Gr(e,t,r),ft=i,Qt=u;break;case 0:case 11:case 14:case 15:if(!yt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){u=i=i.next;do{var d=u,m=d.destroy;d=d.tag,m!==void 0&&((d&2)!==0||(d&4)!==0)&&rl(r,t,m),u=u.next}while(u!==i)}Gr(e,t,r);break;case 1:if(!yt&&(es(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(w){Xe(r,t,w)}Gr(e,t,r);break;case 21:Gr(e,t,r);break;case 22:r.mode&1?(yt=(i=yt)||r.memoizedState!==null,Gr(e,t,r),yt=i):Gr(e,t,r);break;default:Gr(e,t,r)}}function pd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new wp),t.forEach(function(i){var u=Tp.bind(null,e,i);r.has(i)||(r.add(i),i.then(u,u))})}}function Yt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i];try{var d=e,m=t,w=m;e:for(;w!==null;){switch(w.tag){case 5:ft=w.stateNode,Qt=!1;break e;case 3:ft=w.stateNode.containerInfo,Qt=!0;break e;case 4:ft=w.stateNode.containerInfo,Qt=!0;break e}w=w.return}if(ft===null)throw Error(s(160));hd(d,m,u),ft=null,Qt=!1;var k=u.alternate;k!==null&&(k.return=null),u.return=null}catch(P){Xe(u,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)md(t,e),t=t.sibling}function md(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(t,e),ur(e),i&4){try{ri(3,e,e.return),ao(3,e)}catch(ee){Xe(e,e.return,ee)}try{ri(5,e,e.return)}catch(ee){Xe(e,e.return,ee)}}break;case 1:Yt(t,e),ur(e),i&512&&r!==null&&es(r,r.return);break;case 5:if(Yt(t,e),ur(e),i&512&&r!==null&&es(r,r.return),e.flags&32){var u=e.stateNode;try{me(u,"")}catch(ee){Xe(e,e.return,ee)}}if(i&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,m=r!==null?r.memoizedProps:d,w=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&$t(u,d),cn(w,m);var P=cn(w,d);for(m=0;m<k.length;m+=2){var D=k[m],F=k[m+1];D==="style"?$o(u,F):D==="dangerouslySetInnerHTML"?Ie(u,F):D==="children"?me(u,F):U(u,D,F,P)}switch(w){case"input":Tr(u,d);break;case"textarea":fr(u,d);break;case"select":var $=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var Q=d.value;Q!=null?Ut(u,!!d.multiple,Q,!1):$!==!!d.multiple&&(d.defaultValue!=null?Ut(u,!!d.multiple,d.defaultValue,!0):Ut(u,!!d.multiple,d.multiple?[]:"",!1))}u[Vs]=d}catch(ee){Xe(e,e.return,ee)}}break;case 6:if(Yt(t,e),ur(e),i&4){if(e.stateNode===null)throw Error(s(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(ee){Xe(e,e.return,ee)}}break;case 3:if(Yt(t,e),ur(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{As(t.containerInfo)}catch(ee){Xe(e,e.return,ee)}break;case 4:Yt(t,e),ur(e);break;case 13:Yt(t,e),ur(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(ll=Be())),i&4&&pd(e);break;case 22:if(D=r!==null&&r.memoizedState!==null,e.mode&1?(yt=(P=yt)||D,Yt(t,e),yt=P):Yt(t,e),ur(e),i&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!D&&(e.mode&1)!==0)for(X=e,D=e.child;D!==null;){for(F=X=D;X!==null;){switch($=X,Q=$.child,$.tag){case 0:case 11:case 14:case 15:ri(4,$,$.return);break;case 1:es($,$.return);var Z=$.stateNode;if(typeof Z.componentWillUnmount=="function"){i=$,r=$.return;try{t=i,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(ee){Xe(i,r,ee)}}break;case 5:es($,$.return);break;case 22:if($.memoizedState!==null){yd(F);continue}}Q!==null?(Q.return=$,X=Q):yd(F)}D=D.sibling}e:for(D=null,F=e;;){if(F.tag===5){if(D===null){D=F;try{u=F.stateNode,P?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=F.stateNode,k=F.memoizedProps.style,m=k!=null&&k.hasOwnProperty("display")?k.display:null,w.style.display=Pr("display",m))}catch(ee){Xe(e,e.return,ee)}}}else if(F.tag===6){if(D===null)try{F.stateNode.nodeValue=P?"":F.memoizedProps}catch(ee){Xe(e,e.return,ee)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;D===F&&(D=null),F=F.return}D===F&&(D=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Yt(t,e),ur(e),i&4&&pd(e);break;case 21:break;default:Yt(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(dd(r)){var i=r;break e}r=r.return}throw Error(s(160))}switch(i.tag){case 5:var u=i.stateNode;i.flags&32&&(me(u,""),i.flags&=-33);var d=fd(e);il(e,d,u);break;case 3:case 4:var m=i.stateNode.containerInfo,w=fd(e);sl(e,w,m);break;default:throw Error(s(161))}}catch(k){Xe(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _p(e,t,r){X=e,gd(e)}function gd(e,t,r){for(var i=(e.mode&1)!==0;X!==null;){var u=X,d=u.child;if(u.tag===22&&i){var m=u.memoizedState!==null||oo;if(!m){var w=u.alternate,k=w!==null&&w.memoizedState!==null||yt;w=oo;var P=yt;if(oo=m,(yt=k)&&!P)for(X=u;X!==null;)m=X,k=m.child,m.tag===22&&m.memoizedState!==null?wd(u):k!==null?(k.return=m,X=k):wd(u);for(;d!==null;)X=d,gd(d),d=d.sibling;X=u,oo=w,yt=P}vd(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,X=d):vd(e)}}function vd(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:yt||ao(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!yt)if(r===null)i.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:Jt(t.type,r.memoizedProps);i.componentDidUpdate(u,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&yc(t,d,i);break;case 3:var m=t.updateQueue;if(m!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}yc(t,m,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&r.focus();break;case"img":k.src&&(r.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var D=P.memoizedState;if(D!==null){var F=D.dehydrated;F!==null&&As(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}yt||t.flags&512&&nl(t)}catch($){Xe(t,t.return,$)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function yd(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function wd(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ao(4,t)}catch(k){Xe(t,r,k)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var u=t.return;try{i.componentDidMount()}catch(k){Xe(t,u,k)}}var d=t.return;try{nl(t)}catch(k){Xe(t,d,k)}break;case 5:var m=t.return;try{nl(t)}catch(k){Xe(t,m,k)}}}catch(k){Xe(t,t.return,k)}if(t===e){X=null;break}var w=t.sibling;if(w!==null){w.return=t.return,X=w;break}X=t.return}}var kp=Math.ceil,lo=G.ReactCurrentDispatcher,ol=G.ReactCurrentOwner,Wt=G.ReactCurrentBatchConfig,Pe=0,ut=null,nt=null,ht=0,At=0,ts=Br(0),it=0,ni=null,kn=0,uo=0,al=0,si=null,Et=null,ll=0,rs=1/0,Sr=null,co=!1,ul=null,Kr=null,fo=!1,Jr=null,ho=0,ii=0,cl=null,po=-1,mo=0;function xt(){return(Pe&6)!==0?Be():po!==-1?po:po=Be()}function Qr(e){return(e.mode&1)===0?1:(Pe&2)!==0&&ht!==0?ht&-ht:ip.transition!==null?(mo===0&&(mo=fu()),mo):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:_u(e.type)),e)}function Xt(e,t,r,i){if(50<ii)throw ii=0,cl=null,Error(s(185));Ts(e,r,i),((Pe&2)===0||e!==ut)&&(e===ut&&((Pe&2)===0&&(uo|=r),it===4&&Yr(e,ht)),Nt(e,i),r===1&&Pe===0&&(t.mode&1)===0&&(rs=Be()+500,Bi&&Wr()))}function Nt(e,t){var r=e.callbackNode;ih(e,t);var i=bi(e,e===ut?ht:0);if(i===0)r!==null&&ir(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&ir(r),t===1)e.tag===0?sp(_d.bind(null,e)):oc(_d.bind(null,e)),ep(function(){(Pe&6)===0&&Wr()}),r=null;else{switch(hu(i)){case 1:r=Ar;break;case 4:r=In;break;case 16:r=hn;break;case 536870912:r=qe;break;default:r=hn}r=Td(r,xd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xd(e,t){if(po=-1,mo=0,(Pe&6)!==0)throw Error(s(327));var r=e.callbackNode;if(ns()&&e.callbackNode!==r)return null;var i=bi(e,e===ut?ht:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=go(e,i);else{t=i;var u=Pe;Pe|=2;var d=bd();(ut!==e||ht!==t)&&(Sr=null,rs=Be()+500,Sn(e,t));do try{jp();break}catch(w){kd(e,w)}while(!0);Ca(),lo.current=d,Pe=u,nt!==null?t=0:(ut=null,ht=0,t=it)}if(t!==0){if(t===2&&(u=Wo(e),u!==0&&(i=u,t=dl(e,u))),t===1)throw r=ni,Sn(e,0),Yr(e,i),Nt(e,Be()),r;if(t===6)Yr(e,i);else{if(u=e.current.alternate,(i&30)===0&&!bp(u)&&(t=go(e,i),t===2&&(d=Wo(e),d!==0&&(i=d,t=dl(e,d))),t===1))throw r=ni,Sn(e,0),Yr(e,i),Nt(e,Be()),r;switch(e.finishedWork=u,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:jn(e,Et,Sr);break;case 3:if(Yr(e,i),(i&130023424)===i&&(t=ll+500-Be(),10<t)){if(bi(e,0)!==0)break;if(u=e.suspendedLanes,(u&i)!==i){xt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=va(jn.bind(null,e,Et,Sr),t);break}jn(e,Et,Sr);break;case 4:if(Yr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,u=-1;0<i;){var m=31-Pt(i);d=1<<m,m=t[m],m>u&&(u=m),i&=~d}if(i=u,i=Be()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kp(i/1960))-i,10<i){e.timeoutHandle=va(jn.bind(null,e,Et,Sr),i);break}jn(e,Et,Sr);break;case 5:jn(e,Et,Sr);break;default:throw Error(s(329))}}}return Nt(e,Be()),e.callbackNode===r?xd.bind(null,e):null}function dl(e,t){var r=si;return e.current.memoizedState.isDehydrated&&(Sn(e,t).flags|=256),e=go(e,t),e!==2&&(t=Et,Et=r,t!==null&&fl(t)),e}function fl(e){Et===null?Et=e:Et.push.apply(Et,e)}function bp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var u=r[i],d=u.getSnapshot;u=u.value;try{if(!Gt(d(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yr(e,t){for(t&=~al,t&=~uo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),i=1<<r;e[r]=-1,t&=~i}}function _d(e){if((Pe&6)!==0)throw Error(s(327));ns();var t=bi(e,0);if((t&1)===0)return Nt(e,Be()),null;var r=go(e,t);if(e.tag!==0&&r===2){var i=Wo(e);i!==0&&(t=i,r=dl(e,i))}if(r===1)throw r=ni,Sn(e,0),Yr(e,t),Nt(e,Be()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,Et,Sr),Nt(e,Be()),null}function hl(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(rs=Be()+500,Bi&&Wr())}}function bn(e){Jr!==null&&Jr.tag===0&&(Pe&6)===0&&ns();var t=Pe;Pe|=1;var r=Wt.transition,i=Ae;try{if(Wt.transition=null,Ae=1,e)return e()}finally{Ae=i,Wt.transition=r,Pe=t,(Pe&6)===0&&Wr()}}function pl(){At=ts.current,ze(ts)}function Sn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zh(r)),nt!==null)for(r=nt.return;r!==null;){var i=r;switch(ba(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&zi();break;case 3:Xn(),ze(bt),ze(mt),$a();break;case 5:Aa(i);break;case 4:Xn();break;case 13:ze(Je);break;case 19:ze(Je);break;case 10:Ta(i.type._context);break;case 22:case 23:pl()}r=r.return}if(ut=e,nt=e=Xr(e.current,null),ht=At=t,it=0,ni=null,al=uo=kn=0,Et=si=null,wn!==null){for(t=0;t<wn.length;t++)if(r=wn[t],i=r.interleaved,i!==null){r.interleaved=null;var u=i.next,d=r.pending;if(d!==null){var m=d.next;d.next=u,i.next=m}r.pending=i}wn=null}return e}function kd(e,t){do{var r=nt;try{if(Ca(),Xi.current=ro,Zi){for(var i=Qe.memoizedState;i!==null;){var u=i.queue;u!==null&&(u.pending=null),i=i.next}Zi=!1}if(_n=0,lt=st=Qe=null,Ys=!1,Xs=0,ol.current=null,r===null||r.return===null){it=1,ni=t,nt=null;break}e:{var d=e,m=r.return,w=r,k=t;if(t=ht,w.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var P=k,D=w,F=D.tag;if((D.mode&1)===0&&(F===0||F===11||F===15)){var $=D.alternate;$?(D.updateQueue=$.updateQueue,D.memoizedState=$.memoizedState,D.lanes=$.lanes):(D.updateQueue=null,D.memoizedState=null)}var Q=Gc(m);if(Q!==null){Q.flags&=-257,Kc(Q,m,w,d,t),Q.mode&1&&Hc(d,P,t),t=Q,k=P;var Z=t.updateQueue;if(Z===null){var ee=new Set;ee.add(k),t.updateQueue=ee}else Z.add(k);break e}else{if((t&1)===0){Hc(d,P,t),ml();break e}k=Error(s(426))}}else if(We&&w.mode&1){var tt=Gc(m);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),Kc(tt,m,w,d,t),Ea(Zn(k,w));break e}}d=k=Zn(k,w),it!==4&&(it=2),si===null?si=[d]:si.push(d),d=m;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var N=Wc(d,k,t);vc(d,N);break e;case 1:w=k;var S=d.type,T=d.stateNode;if((d.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Kr===null||!Kr.has(T)))){d.flags|=65536,t&=-t,d.lanes|=t;var q=Vc(d,w,t);vc(d,q);break e}}d=d.return}while(d!==null)}jd(r)}catch(te){t=te,nt===r&&r!==null&&(nt=r=r.return);continue}break}while(!0)}function bd(){var e=lo.current;return lo.current=ro,e===null?ro:e}function ml(){(it===0||it===3||it===2)&&(it=4),ut===null||(kn&268435455)===0&&(uo&268435455)===0||Yr(ut,ht)}function go(e,t){var r=Pe;Pe|=2;var i=bd();(ut!==e||ht!==t)&&(Sr=null,Sn(e,t));do try{Sp();break}catch(u){kd(e,u)}while(!0);if(Ca(),Pe=r,lo.current=i,nt!==null)throw Error(s(261));return ut=null,ht=0,it}function Sp(){for(;nt!==null;)Sd(nt)}function jp(){for(;nt!==null&&!Ns();)Sd(nt)}function Sd(e){var t=Cd(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?jd(e):nt=t,ol.current=null}function jd(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=vp(r,t,At),r!==null){nt=r;return}}else{if(r=yp(r,t),r!==null){r.flags&=32767,nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,nt=null;return}}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);it===0&&(it=5)}function jn(e,t,r){var i=Ae,u=Wt.transition;try{Wt.transition=null,Ae=1,Ep(e,t,r,i)}finally{Wt.transition=u,Ae=i}return null}function Ep(e,t,r,i){do ns();while(Jr!==null);if((Pe&6)!==0)throw Error(s(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(oh(e,d),e===ut&&(nt=ut=null,ht=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||fo||(fo=!0,Td(hn,function(){return ns(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=Wt.transition,Wt.transition=null;var m=Ae;Ae=1;var w=Pe;Pe|=4,ol.current=null,xp(e,r),md(r,e),Hh(ma),Ei=!!pa,ma=pa=null,e.current=r,_p(r),Fo(),Pe=w,Ae=m,Wt.transition=d}else e.current=r;if(fo&&(fo=!1,Jr=e,ho=u),d=e.pendingLanes,d===0&&(Kr=null),Mt(r.stateNode),Nt(e,Be()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],i(u.value,{componentStack:u.stack,digest:u.digest});if(co)throw co=!1,e=ul,ul=null,e;return(ho&1)!==0&&e.tag!==0&&ns(),d=e.pendingLanes,(d&1)!==0?e===cl?ii++:(ii=0,cl=e):ii=0,Wr(),null}function ns(){if(Jr!==null){var e=hu(ho),t=Wt.transition,r=Ae;try{if(Wt.transition=null,Ae=16>e?16:e,Jr===null)var i=!1;else{if(e=Jr,Jr=null,ho=0,(Pe&6)!==0)throw Error(s(331));var u=Pe;for(Pe|=4,X=e.current;X!==null;){var d=X,m=d.child;if((X.flags&16)!==0){var w=d.deletions;if(w!==null){for(var k=0;k<w.length;k++){var P=w[k];for(X=P;X!==null;){var D=X;switch(D.tag){case 0:case 11:case 15:ri(8,D,d)}var F=D.child;if(F!==null)F.return=D,X=F;else for(;X!==null;){D=X;var $=D.sibling,Q=D.return;if(cd(D),D===P){X=null;break}if($!==null){$.return=Q,X=$;break}X=Q}}}var Z=d.alternate;if(Z!==null){var ee=Z.child;if(ee!==null){Z.child=null;do{var tt=ee.sibling;ee.sibling=null,ee=tt}while(ee!==null)}}X=d}}if((d.subtreeFlags&2064)!==0&&m!==null)m.return=d,X=m;else e:for(;X!==null;){if(d=X,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:ri(9,d,d.return)}var N=d.sibling;if(N!==null){N.return=d.return,X=N;break e}X=d.return}}var S=e.current;for(X=S;X!==null;){m=X;var T=m.child;if((m.subtreeFlags&2064)!==0&&T!==null)T.return=m,X=T;else e:for(m=S;X!==null;){if(w=X,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ao(9,w)}}catch(te){Xe(w,w.return,te)}if(w===m){X=null;break e}var q=w.sibling;if(q!==null){q.return=w.return,X=q;break e}X=w.return}}if(Pe=u,Wr(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Ke,e)}catch{}i=!0}return i}finally{Ae=r,Wt.transition=t}}return!1}function Ed(e,t,r){t=Zn(r,t),t=Wc(e,t,1),e=Hr(e,t,1),t=xt(),e!==null&&(Ts(e,1,t),Nt(e,t))}function Xe(e,t,r){if(e.tag===3)Ed(e,e,r);else for(;t!==null;){if(t.tag===3){Ed(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Kr===null||!Kr.has(i))){e=Zn(r,e),e=Vc(t,e,1),t=Hr(t,e,1),e=xt(),t!==null&&(Ts(t,1,e),Nt(t,e));break}}t=t.return}}function Np(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&r,ut===e&&(ht&r)===r&&(it===4||it===3&&(ht&130023424)===ht&&500>Be()-ll?Sn(e,0):al|=r),Nt(e,t)}function Nd(e,t){t===0&&((e.mode&1)===0?t=1:(t=ki,ki<<=1,(ki&130023424)===0&&(ki=4194304)));var r=xt();e=_r(e,t),e!==null&&(Ts(e,t,r),Nt(e,r))}function Cp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nd(e,r)}function Tp(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),Nd(e,r)}var Cd;Cd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)jt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return jt=!1,gp(e,t,r);jt=(e.flags&131072)!==0}else jt=!1,We&&(t.flags&1048576)!==0&&ac(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;io(e,t),e=t.pendingProps;var u=Vn(t,mt.current);Yn(t,r),u=Ma(null,t,i,e,u,r);var d=za();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(i)?(d=!0,Fi(t)):d=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Ra(t),u.updater=no,t.stateNode=u,u._reactInternals=t,Ha(t,i,e,r),t=Qa(null,t,i,!0,d,r)):(t.tag=0,We&&d&&ka(t),wt(null,t,u,r),t=t.child),t;case 16:i=t.elementType;e:{switch(io(e,t),e=t.pendingProps,u=i._init,i=u(i._payload),t.type=i,u=t.tag=Op(i),e=Jt(i,e),u){case 0:t=Ja(null,t,i,e,r);break e;case 1:t=ed(null,t,i,e,r);break e;case 11:t=Jc(null,t,i,e,r);break e;case 14:t=Qc(null,t,i,Jt(i.type,e),r);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:Jt(i,u),Ja(e,t,i,u,r);case 1:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:Jt(i,u),ed(e,t,i,u,r);case 3:e:{if(td(t),e===null)throw Error(s(387));i=t.pendingProps,d=t.memoizedState,u=d.element,gc(e,t),Qi(t,i,null,r);var m=t.memoizedState;if(i=m.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){u=Zn(Error(s(423)),t),t=rd(e,t,i,r,u);break e}else if(i!==u){u=Zn(Error(s(424)),t),t=rd(e,t,i,r,u);break e}else for(Lt=Fr(t.stateNode.containerInfo.firstChild),Rt=t,We=!0,Kt=null,r=pc(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kn(),i===u){t=br(e,t,r);break e}wt(e,t,i,r)}t=t.child}return t;case 5:return wc(t),e===null&&ja(t),i=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,m=u.children,ga(i,u)?m=null:d!==null&&ga(i,d)&&(t.flags|=32),Zc(e,t),wt(e,t,m,r),t.child;case 6:return e===null&&ja(t),null;case 13:return nd(e,t,r);case 4:return La(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Jn(t,null,i,r):wt(e,t,i,r),t.child;case 11:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:Jt(i,u),Jc(e,t,i,u,r);case 7:return wt(e,t,t.pendingProps,r),t.child;case 8:return wt(e,t,t.pendingProps.children,r),t.child;case 12:return wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,u=t.pendingProps,d=t.memoizedProps,m=u.value,$e(Gi,i._currentValue),i._currentValue=m,d!==null)if(Gt(d.value,m)){if(d.children===u.children&&!bt.current){t=br(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var w=d.dependencies;if(w!==null){m=d.child;for(var k=w.firstContext;k!==null;){if(k.context===i){if(d.tag===1){k=kr(-1,r&-r),k.tag=2;var P=d.updateQueue;if(P!==null){P=P.shared;var D=P.pending;D===null?k.next=k:(k.next=D.next,D.next=k),P.pending=k}}d.lanes|=r,k=d.alternate,k!==null&&(k.lanes|=r),Pa(d.return,r,t),w.lanes|=r;break}k=k.next}}else if(d.tag===10)m=d.type===t.type?null:d.child;else if(d.tag===18){if(m=d.return,m===null)throw Error(s(341));m.lanes|=r,w=m.alternate,w!==null&&(w.lanes|=r),Pa(m,r,t),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===t){m=null;break}if(d=m.sibling,d!==null){d.return=m.return,m=d;break}m=m.return}d=m}wt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,i=t.pendingProps.children,Yn(t,r),u=Bt(u),i=i(u),t.flags|=1,wt(e,t,i,r),t.child;case 14:return i=t.type,u=Jt(i,t.pendingProps),u=Jt(i.type,u),Qc(e,t,i,u,r);case 15:return Yc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:Jt(i,u),io(e,t),t.tag=1,St(i)?(e=!0,Fi(t)):e=!1,Yn(t,r),Bc(t,i,u),Ha(t,i,u,r),Qa(null,t,i,!0,e,r);case 19:return id(e,t,r);case 22:return Xc(e,t,r)}throw Error(s(156,t.tag))};function Td(e,t){return An(e,t)}function Pp(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,r,i){return new Pp(e,t,r,i)}function gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Op(e){if(typeof e=="function")return gl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xe)return 11;if(e===Fe)return 14}return 2}function Xr(e,t){var r=e.alternate;return r===null?(r=Vt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vo(e,t,r,i,u,d){var m=2;if(i=e,typeof e=="function")gl(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case de:return En(r.children,u,d,t);case Ne:m=8,u|=8;break;case fe:return e=Vt(12,r,t,u|2),e.elementType=fe,e.lanes=d,e;case ye:return e=Vt(13,r,t,u),e.elementType=ye,e.lanes=d,e;case ke:return e=Vt(19,r,t,u),e.elementType=ke,e.lanes=d,e;case Ce:return yo(r,u,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:m=10;break e;case oe:m=9;break e;case xe:m=11;break e;case Fe:m=14;break e;case Le:m=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Vt(m,r,t,u),t.elementType=e,t.type=i,t.lanes=d,t}function En(e,t,r,i){return e=Vt(7,e,i,t),e.lanes=r,e}function yo(e,t,r,i){return e=Vt(22,e,i,t),e.elementType=Ce,e.lanes=r,e.stateNode={isHidden:!1},e}function vl(e,t,r){return e=Vt(6,e,null,t),e.lanes=r,e}function yl(e,t,r){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rp(e,t,r,i,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=i,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function wl(e,t,r,i,u,d,m,w,k){return e=new Rp(e,t,r,w,k),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Vt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(d),e}function Lp(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Pd(e){if(!e)return qr;e=e._reactInternals;e:{if(C(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(St(r))return sc(e,r,t)}return t}function Od(e,t,r,i,u,d,m,w,k){return e=wl(r,i,!0,e,u,d,m,w,k),e.context=Pd(null),r=e.current,i=xt(),u=Qr(r),d=kr(i,u),d.callback=t??null,Hr(r,d,u),e.current.lanes=u,Ts(e,u,i),Nt(e,i),e}function wo(e,t,r,i){var u=t.current,d=xt(),m=Qr(u);return r=Pd(r),t.context===null?t.context=r:t.pendingContext=r,t=kr(d,m),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Hr(u,t,m),e!==null&&(Xt(e,u,m,d),Ji(e,u,m)),m}function xo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function xl(e,t){Rd(e,t),(e=e.alternate)&&Rd(e,t)}function Ap(){return null}var Ld=typeof reportError=="function"?reportError:function(e){console.error(e)};function _l(e){this._internalRoot=e}_o.prototype.render=_l.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));wo(e,t,null,null)},_o.prototype.unmount=_l.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bn(function(){wo(null,e,null,null)}),t[vr]=null}};function _o(e){this._internalRoot=e}_o.prototype.unstable_scheduleHydration=function(e){if(e){var t=gu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dr.length&&t!==0&&t<Dr[r].priority;r++);Dr.splice(r,0,e),r===0&&wu(e)}};function kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function Ip(e,t,r,i,u){if(u){if(typeof i=="function"){var d=i;i=function(){var P=xo(m);d.call(P)}}var m=Od(t,i,e,0,null,!1,!1,"",Ad);return e._reactRootContainer=m,e[vr]=m.current,qs(e.nodeType===8?e.parentNode:e),bn(),m}for(;u=e.lastChild;)e.removeChild(u);if(typeof i=="function"){var w=i;i=function(){var P=xo(k);w.call(P)}}var k=wl(e,0,!1,null,null,!1,!1,"",Ad);return e._reactRootContainer=k,e[vr]=k.current,qs(e.nodeType===8?e.parentNode:e),bn(function(){wo(t,k,r,i)}),k}function bo(e,t,r,i,u){var d=r._reactRootContainer;if(d){var m=d;if(typeof u=="function"){var w=u;u=function(){var k=xo(m);w.call(k)}}wo(t,m,e,u)}else m=Ip(r,t,e,u,i);return xo(m)}pu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Cs(t.pendingLanes);r!==0&&(Ho(t,r|1),Nt(t,Be()),(Pe&6)===0&&(rs=Be()+500,Wr()))}break;case 13:bn(function(){var i=_r(e,1);if(i!==null){var u=xt();Xt(i,e,1,u)}}),xl(e,1)}},Go=function(e){if(e.tag===13){var t=_r(e,134217728);if(t!==null){var r=xt();Xt(t,e,134217728,r)}xl(e,134217728)}},mu=function(e){if(e.tag===13){var t=Qr(e),r=_r(e,t);if(r!==null){var i=xt();Xt(r,e,t,i)}xl(e,t)}},gu=function(){return Ae},vu=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}},bs=function(e,t,r){switch(t){case"input":if(Tr(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var u=Mi(i);if(!u)throw Error(s(90));Ve(i),Tr(i,u)}}}break;case"textarea":fr(e,r);break;case"select":t=r.value,t!=null&&Ut(e,!!r.multiple,t,!1)}},js=hl,wi=bn;var $p={usingClientEntryPoint:!1,Events:[Hs,qn,Mi,Ss,yi,hl]},oi={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Up={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kt(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||Ap,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{Ke=So.inject(Up),Ye=So}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$p,Ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kl(t))throw Error(s(200));return Lp(e,t,null,r)},Ct.createRoot=function(e,t){if(!kl(e))throw Error(s(299));var r=!1,i="",u=Ld;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=wl(e,1,!1,null,null,r,!1,i,u),e[vr]=t.current,qs(e.nodeType===8?e.parentNode:e),new _l(t)},Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=kt(t),e=e===null?null:e.stateNode,e},Ct.flushSync=function(e){return bn(e)},Ct.hydrate=function(e,t,r){if(!ko(t))throw Error(s(200));return bo(null,e,t,!0,r)},Ct.hydrateRoot=function(e,t,r){if(!kl(e))throw Error(s(405));var i=r!=null&&r.hydratedSources||null,u=!1,d="",m=Ld;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),t=Od(t,null,e,1,r??null,u,!1,d,m),e[vr]=t.current,qs(e),i)for(e=0;e<i.length;e++)r=i[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new _o(t)},Ct.render=function(e,t,r){if(!ko(t))throw Error(s(200));return bo(null,e,t,!1,r)},Ct.unmountComponentAtNode=function(e){if(!ko(e))throw Error(s(40));return e._reactRootContainer?(bn(function(){bo(null,null,e,!1,function(){e._reactRootContainer=null,e[vr]=null})}),!0):!1},Ct.unstable_batchedUpdates=hl,Ct.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!ko(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return bo(e,t,r,!1,i)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var Bd;function Ef(){if(Bd)return jl.exports;Bd=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),jl.exports=Gp(),jl.exports}var qd;function Kp(){if(qd)return jo;qd=1;var a=Ef();return jo.createRoot=a.createRoot,jo.hydrateRoot=a.hydrateRoot,jo}var Jp=Kp();Ef();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fi(){return fi=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])}return a},fi.apply(this,arguments)}var nn;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(nn||(nn={}));const Wd="popstate";function Qp(a){a===void 0&&(a={});function n(l,c){let{pathname:h="/",search:p="",hash:g=""}=On(l.location.hash.substr(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ul("",{pathname:h,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){let h=l.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=l.location.href,v=g.indexOf("#");p=v===-1?g:g.slice(0,v)}return p+"#"+(typeof c=="string"?c:Oo(c))}function o(l,c){tu(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(c)+")")}return Xp(n,s,o,a)}function rt(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function tu(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Yp(){return Math.random().toString(36).substr(2,8)}function Vd(a,n){return{usr:a.state,key:a.key,idx:n}}function Ul(a,n,s,o){return s===void 0&&(s=null),fi({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof n=="string"?On(n):n,{state:s,key:n&&n.key||o||Yp()})}function Oo(a){let{pathname:n="/",search:s="",hash:o=""}=a;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function On(a){let n={};if(a){let s=a.indexOf("#");s>=0&&(n.hash=a.substr(s),a=a.substr(0,s));let o=a.indexOf("?");o>=0&&(n.search=a.substr(o),a=a.substr(0,o)),a&&(n.pathname=a)}return n}function Xp(a,n,s,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:c=!1}=o,h=l.history,p=nn.Pop,g=null,v=y();v==null&&(v=0,h.replaceState(fi({},h.state,{idx:v}),""));function y(){return(h.state||{idx:null}).idx}function x(){p=nn.Pop;let E=y(),V=E==null?null:E-v;v=E,g&&g({action:p,location:L.location,delta:V})}function j(E,V){p=nn.Push;let K=Ul(L.location,E,V);s&&s(K,E),v=y()+1;let U=Vd(K,v),G=L.createHref(K);try{h.pushState(U,"",G)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;l.location.assign(G)}c&&g&&g({action:p,location:L.location,delta:1})}function O(E,V){p=nn.Replace;let K=Ul(L.location,E,V);s&&s(K,E),v=y();let U=Vd(K,v),G=L.createHref(K);h.replaceState(U,"",G),c&&g&&g({action:p,location:L.location,delta:0})}function R(E){let V=l.location.origin!=="null"?l.location.origin:l.location.href,K=typeof E=="string"?E:Oo(E);return K=K.replace(/ $/,"%20"),rt(V,"No window.location.(origin|href) available to create URL for href: "+K),new URL(K,V)}let L={get action(){return p},get location(){return a(l,h)},listen(E){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Wd,x),g=E,()=>{l.removeEventListener(Wd,x),g=null}},createHref(E){return n(l,E)},createURL:R,encodeLocation(E){let V=R(E);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:j,replace:O,go(E){return h.go(E)}};return L}var Hd;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(Hd||(Hd={}));function Zp(a,n,s){return s===void 0&&(s="/"),em(a,n,s)}function em(a,n,s,o){let l=typeof n=="string"?On(n):n,c=ru(l.pathname||"/",s);if(c==null)return null;let h=Nf(a);tm(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let v=hm(c);p=cm(h[g],v)}return p}function Nf(a,n,s,o){n===void 0&&(n=[]),s===void 0&&(s=[]),o===void 0&&(o="");let l=(c,h,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&(rt(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let v=sn([o,g.relativePath]),y=s.concat(g);c.children&&c.children.length>0&&(rt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Nf(c.children,n,y,v)),!(c.path==null&&!c.index)&&n.push({path:v,score:lm(v,c.index),routesMeta:y})};return a.forEach((c,h)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,h);else for(let g of Cf(c.path))l(c,h,g)}),n}function Cf(a){let n=a.split("/");if(n.length===0)return[];let[s,...o]=n,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return l?[c,""]:[c];let h=Cf(o.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...h),p.map(g=>a.startsWith("/")&&g===""?"/":g)}function tm(a){a.sort((n,s)=>n.score!==s.score?s.score-n.score:um(n.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const rm=/^:[\w-]+$/,nm=3,sm=2,im=1,om=10,am=-2,Gd=a=>a==="*";function lm(a,n){let s=a.split("/"),o=s.length;return s.some(Gd)&&(o+=am),n&&(o+=sm),s.filter(l=>!Gd(l)).reduce((l,c)=>l+(rm.test(c)?nm:c===""?im:om),o)}function um(a,n){return a.length===n.length&&a.slice(0,-1).every((o,l)=>o===n[l])?a[a.length-1]-n[n.length-1]:0}function cm(a,n,s){let{routesMeta:o}=a,l={},c="/",h=[];for(let p=0;p<o.length;++p){let g=o[p],v=p===o.length-1,y=c==="/"?n:n.slice(c.length)||"/",x=dm({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},y),j=g.route;if(!x)return null;Object.assign(l,x.params),h.push({params:l,pathname:sn([c,x.pathname]),pathnameBase:vm(sn([c,x.pathnameBase])),route:j}),x.pathnameBase!=="/"&&(c=sn([c,x.pathnameBase]))}return h}function dm(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,o]=fm(a.path,a.caseSensitive,a.end),l=n.match(s);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:o.reduce((v,y,x)=>{let{paramName:j,isOptional:O}=y;if(j==="*"){let L=p[x]||"";h=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const R=p[x];return O&&!R?v[j]=void 0:v[j]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:a}}function fm(a,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),tu(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let o=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(o.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(o.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),o]}function hm(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return tu(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),a}}function ru(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,o=a.charAt(s);return o&&o!=="/"?null:a.slice(s)||"/"}function pm(a,n){n===void 0&&(n="/");let{pathname:s,search:o="",hash:l=""}=typeof a=="string"?On(a):a;return{pathname:s?s.startsWith("/")?s:mm(s,n):n,search:ym(o),hash:wm(l)}}function mm(a,n){let s=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function Cl(a,n,s,o){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gm(a){return a.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function nu(a,n){let s=gm(a);return n?s.map((o,l)=>l===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function su(a,n,s,o){o===void 0&&(o=!1);let l;typeof a=="string"?l=On(a):(l=fi({},a),rt(!l.pathname||!l.pathname.includes("?"),Cl("?","pathname","search",l)),rt(!l.pathname||!l.pathname.includes("#"),Cl("#","pathname","hash",l)),rt(!l.search||!l.search.includes("#"),Cl("#","search","hash",l)));let c=a===""||l.pathname==="",h=c?"/":l.pathname,p;if(h==null)p=s;else{let x=n.length-1;if(!o&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),x-=1;l.pathname=j.join("/")}p=x>=0?n[x]:"/"}let g=pm(l,p),v=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(v||y)&&(g.pathname+="/"),g}const sn=a=>a.join("/").replace(/\/\/+/g,"/"),vm=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),ym=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,wm=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function xm(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const Tf=["post","put","patch","delete"];new Set(Tf);const _m=["get",...Tf];new Set(_m);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hi(){return hi=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])}return a},hi.apply(this,arguments)}const iu=_.createContext(null),km=_.createContext(null),on=_.createContext(null),Ao=_.createContext(null),Nr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Pf=_.createContext(null);function bm(a,n){let{relative:s}=n===void 0?{}:n;ws()||rt(!1);let{basename:o,navigator:l}=_.useContext(on),{hash:c,pathname:h,search:p}=Rf(a,{relative:s}),g=h;return o!=="/"&&(g=h==="/"?o:sn([o,h])),l.createHref({pathname:g,search:p,hash:c})}function ws(){return _.useContext(Ao)!=null}function Cr(){return ws()||rt(!1),_.useContext(Ao).location}function Of(a){_.useContext(on).static||_.useLayoutEffect(a)}function xs(){let{isDataRoute:a}=_.useContext(Nr);return a?$m():Sm()}function Sm(){ws()||rt(!1);let a=_.useContext(iu),{basename:n,future:s,navigator:o}=_.useContext(on),{matches:l}=_.useContext(Nr),{pathname:c}=Cr(),h=JSON.stringify(nu(l,s.v7_relativeSplatPath)),p=_.useRef(!1);return Of(()=>{p.current=!0}),_.useCallback(function(v,y){if(y===void 0&&(y={}),!p.current)return;if(typeof v=="number"){o.go(v);return}let x=su(v,JSON.parse(h),c,y.relative==="path");a==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:sn([n,x.pathname])),(y.replace?o.replace:o.push)(x,y.state,y)},[n,o,h,c,a])}function ou(){let{matches:a}=_.useContext(Nr),n=a[a.length-1];return n?n.params:{}}function Rf(a,n){let{relative:s}=n===void 0?{}:n,{future:o}=_.useContext(on),{matches:l}=_.useContext(Nr),{pathname:c}=Cr(),h=JSON.stringify(nu(l,o.v7_relativeSplatPath));return _.useMemo(()=>su(a,JSON.parse(h),c,s==="path"),[a,h,c,s])}function jm(a,n){return Em(a,n)}function Em(a,n,s,o){ws()||rt(!1);let{navigator:l}=_.useContext(on),{matches:c}=_.useContext(Nr),h=c[c.length-1],p=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let v=Cr(),y;if(n){var x;let E=typeof n=="string"?On(n):n;g==="/"||(x=E.pathname)!=null&&x.startsWith(g)||rt(!1),y=E}else y=v;let j=y.pathname||"/",O=j;if(g!=="/"){let E=g.replace(/^\//,"").split("/");O="/"+j.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=Zp(a,{pathname:O}),L=Om(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},p,E.params),pathname:sn([g,l.encodeLocation?l.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:sn([g,l.encodeLocation?l.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,s,o);return n&&L?_.createElement(Ao.Provider,{value:{location:hi({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:nn.Pop}},L):L}function Nm(){let a=Im(),n=xm(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},n),s?_.createElement("pre",{style:l},s):null,null)}const Cm=_.createElement(Nm,null);class Tm extends _.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?_.createElement(Nr.Provider,{value:this.props.routeContext},_.createElement(Pf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pm(a){let{routeContext:n,match:s,children:o}=a,l=_.useContext(iu);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),_.createElement(Nr.Provider,{value:n},o)}function Om(a,n,s,o){var l;if(n===void 0&&(n=[]),s===void 0&&(s=null),o===void 0&&(o=null),a==null){var c;if(!s)return null;if(s.errors)a=s.matches;else if((c=o)!=null&&c.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let h=a,p=(l=s)==null?void 0:l.errors;if(p!=null){let y=h.findIndex(x=>x.route.id&&p?.[x.route.id]!==void 0);y>=0||rt(!1),h=h.slice(0,Math.min(h.length,y+1))}let g=!1,v=-1;if(s&&o&&o.v7_partialHydration)for(let y=0;y<h.length;y++){let x=h[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(v=y),x.route.id){let{loaderData:j,errors:O}=s,R=x.route.loader&&j[x.route.id]===void 0&&(!O||O[x.route.id]===void 0);if(x.route.lazy||R){g=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((y,x,j)=>{let O,R=!1,L=null,E=null;s&&(O=p&&x.route.id?p[x.route.id]:void 0,L=x.route.errorElement||Cm,g&&(v<0&&j===0?(Um("route-fallback"),R=!0,E=null):v===j&&(R=!0,E=x.route.hydrateFallbackElement||null)));let V=n.concat(h.slice(0,j+1)),K=()=>{let U;return O?U=L:R?U=E:x.route.Component?U=_.createElement(x.route.Component,null):x.route.element?U=x.route.element:U=y,_.createElement(Pm,{match:x,routeContext:{outlet:y,matches:V,isDataRoute:s!=null},children:U})};return s&&(x.route.ErrorBoundary||x.route.errorElement||j===0)?_.createElement(Tm,{location:s.location,revalidation:s.revalidation,component:L,error:O,children:K(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):K()},null)}var Lf=(function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a})(Lf||{}),Af=(function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a})(Af||{});function Rm(a){let n=_.useContext(iu);return n||rt(!1),n}function Lm(a){let n=_.useContext(km);return n||rt(!1),n}function Am(a){let n=_.useContext(Nr);return n||rt(!1),n}function If(a){let n=Am(),s=n.matches[n.matches.length-1];return s.route.id||rt(!1),s.route.id}function Im(){var a;let n=_.useContext(Pf),s=Lm(),o=If();return n!==void 0?n:(a=s.errors)==null?void 0:a[o]}function $m(){let{router:a}=Rm(Lf.UseNavigateStable),n=If(Af.UseNavigateStable),s=_.useRef(!1);return Of(()=>{s.current=!0}),_.useCallback(function(l,c){c===void 0&&(c={}),s.current&&(typeof l=="number"?a.navigate(l):a.navigate(l,hi({fromRouteId:n},c)))},[a,n])}const Kd={};function Um(a,n,s){Kd[a]||(Kd[a]=!0)}function Dm(a,n){a?.v7_startTransition,a?.v7_relativeSplatPath}function pi(a){let{to:n,replace:s,state:o,relative:l}=a;ws()||rt(!1);let{future:c,static:h}=_.useContext(on),{matches:p}=_.useContext(Nr),{pathname:g}=Cr(),v=xs(),y=su(n,nu(p,c.v7_relativeSplatPath),g,l==="path"),x=JSON.stringify(y);return _.useEffect(()=>v(JSON.parse(x),{replace:s,state:o,relative:l}),[v,x,l,s,o]),null}function Zt(a){rt(!1)}function Mm(a){let{basename:n="/",children:s=null,location:o,navigationType:l=nn.Pop,navigator:c,static:h=!1,future:p}=a;ws()&&rt(!1);let g=n.replace(/^\/*/,"/"),v=_.useMemo(()=>({basename:g,navigator:c,static:h,future:hi({v7_relativeSplatPath:!1},p)}),[g,p,c,h]);typeof o=="string"&&(o=On(o));let{pathname:y="/",search:x="",hash:j="",state:O=null,key:R="default"}=o,L=_.useMemo(()=>{let E=ru(y,g);return E==null?null:{location:{pathname:E,search:x,hash:j,state:O,key:R},navigationType:l}},[g,y,x,j,O,R,l]);return L==null?null:_.createElement(on.Provider,{value:v},_.createElement(Ao.Provider,{children:s,value:L}))}function zm(a){let{children:n,location:s}=a;return jm(Dl(n),s)}new Promise(()=>{});function Dl(a,n){n===void 0&&(n=[]);let s=[];return _.Children.forEach(a,(o,l)=>{if(!_.isValidElement(o))return;let c=[...n,l];if(o.type===_.Fragment){s.push.apply(s,Dl(o.props.children,c));return}o.type!==Zt&&rt(!1),!o.props.index||!o.props.children||rt(!1);let h={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Dl(o.props.children,c)),s.push(h)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])}return a},Ml.apply(this,arguments)}function Fm(a,n){if(a==null)return{};var s={},o=Object.keys(a),l,c;for(c=0;c<o.length;c++)l=o[c],!(n.indexOf(l)>=0)&&(s[l]=a[l]);return s}function Bm(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function qm(a,n){return a.button===0&&(!n||n==="_self")&&!Bm(a)}function zl(a){return a===void 0&&(a=""),new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((n,s)=>{let o=a[s];return n.concat(Array.isArray(o)?o.map(l=>[s,l]):[[s,o]])},[]))}function Wm(a,n){let s=zl(a);return n&&n.forEach((o,l)=>{s.has(l)||n.getAll(l).forEach(c=>{s.append(l,c)})}),s}const Vm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hm="6";try{window.__reactRouterVersion=Hm}catch{}const Gm="startTransition",Jd=Wp[Gm];function Km(a){let{basename:n,children:s,future:o,window:l}=a,c=_.useRef();c.current==null&&(c.current=Qp({window:l,v5Compat:!0}));let h=c.current,[p,g]=_.useState({action:h.action,location:h.location}),{v7_startTransition:v}=o||{},y=_.useCallback(x=>{v&&Jd?Jd(()=>g(x)):g(x)},[g,v]);return _.useLayoutEffect(()=>h.listen(y),[h,y]),_.useEffect(()=>Dm(o),[o]),_.createElement(Mm,{basename:n,children:s,location:p.location,navigationType:p.action,navigator:h,future:o})}const Jm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=_.forwardRef(function(n,s){let{onClick:o,relative:l,reloadDocument:c,replace:h,state:p,target:g,to:v,preventScrollReset:y,viewTransition:x}=n,j=Fm(n,Vm),{basename:O}=_.useContext(on),R,L=!1;if(typeof v=="string"&&Qm.test(v)&&(R=v,Jm))try{let U=new URL(window.location.href),G=v.startsWith("//")?new URL(U.protocol+v):new URL(v),ce=ru(G.pathname,O);G.origin===U.origin&&ce!=null?v=ce+G.search+G.hash:L=!0}catch{}let E=bm(v,{relative:l}),V=Ym(v,{replace:h,state:p,target:g,preventScrollReset:y,relative:l,viewTransition:x});function K(U){o&&o(U),U.defaultPrevented||V(U)}return _.createElement("a",Ml({},j,{href:R||E,onClick:L||c?o:K,ref:s,target:g}))});var Qd;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(Qd||(Qd={}));var Yd;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Yd||(Yd={}));function Ym(a,n){let{target:s,replace:o,state:l,preventScrollReset:c,relative:h,viewTransition:p}=n===void 0?{}:n,g=xs(),v=Cr(),y=Rf(a,{relative:h});return _.useCallback(x=>{if(qm(x,s)){x.preventDefault();let j=o!==void 0?o:Oo(v)===Oo(y);g(a,{replace:j,state:l,preventScrollReset:c,relative:h,viewTransition:p})}},[v,g,y,o,l,s,a,c,h,p])}function Xm(a){let n=_.useRef(zl(a)),s=_.useRef(!1),o=Cr(),l=_.useMemo(()=>Wm(o.search,s.current?null:n.current),[o.search]),c=xs(),h=_.useCallback((p,g)=>{const v=zl(typeof p=="function"?p(l):p);s.current=!0,c("?"+v,g)},[c,l]);return[l,h]}const Zm="modulepreload",eg=function(a){return"/Circles/"+a},Xd={},_s=function(n,s,o){let l=Promise.resolve();if(s&&s.length>0){let g=function(v){return Promise.all(v.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");l=g(s.map(v=>{if(v=eg(v),v in Xd)return;Xd[v]=!0;const y=v.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const j=document.createElement("link");if(j.rel=y?"stylesheet":Zm,y||(j.as="script"),j.crossOrigin="",j.href=v,p&&j.setAttribute("nonce",p),document.head.appendChild(j),y)return new Promise((O,R)=>{j.addEventListener("load",O),j.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function c(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return l.then(h=>{for(const p of h||[])p.status==="rejected"&&c(p.reason);return n().catch(c)})},tg=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>_s(async()=>{const{default:o}=await Promise.resolve().then(()=>ks);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)};class au extends Error{constructor(n,s="FunctionsError",o){super(n),this.name=s,this.context=o}}class rg extends au{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Zd extends au{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class ef extends au{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Fl;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Fl||(Fl={}));var ng=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function p(y){try{v(o.next(y))}catch(x){h(x)}}function g(y){try{v(o.throw(y))}catch(x){h(x)}}function v(y){y.done?c(y.value):l(y.value).then(p,g)}v((o=o.apply(a,n||[])).next())})};class sg{constructor(n,{headers:s={},customFetch:o,region:l=Fl.Any}={}){this.url=n,this.headers=s,this.region=l,this.fetch=tg(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var o;return ng(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:h}=s;let p={},{region:g}=s;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(p["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(p["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(p["Content-Type"]="application/json",y=JSON.stringify(h)));const x=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:y}).catch(L=>{throw new rg(L)}),j=x.headers.get("x-relay-error");if(j&&j==="true")throw new Zd(x);if(!x.ok)throw new ef(x);let O=((o=x.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return O==="application/json"?R=yield x.json():O==="application/octet-stream"?R=yield x.blob():O==="text/event-stream"?R=x:O==="multipart/form-data"?R=yield x.formData():R=yield x.text(),{data:R,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof ef||l instanceof Zd?l.context:void 0}}})}}var dt={},ss={},is={},os={},as={},ls={},ig=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ys=ig();const og=ys.fetch,$f=ys.fetch.bind(ys),Uf=ys.Headers,ag=ys.Request,lg=ys.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:Uf,Request:ag,Response:lg,default:$f,fetch:og},Symbol.toStringTag,{value:"Module"})),ug=zp(ks);var Eo={},tf;function Df(){if(tf)return Eo;tf=1,Object.defineProperty(Eo,"__esModule",{value:!0});class a extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Eo.default=a,Eo}var rf;function Mf(){if(rf)return ls;rf=1;var a=ls&&ls.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ls,"__esModule",{value:!0});const n=a(ug),s=a(Df());class o{constructor(c){var h,p;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(h=c.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=c.signal,this.isMaybeSingle=(p=c.isMaybeSingle)!==null&&p!==void 0?p:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,h){return this.headers=new Headers(this.headers),this.headers.set(c,h),this}then(c,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var y,x,j,O;let R=null,L=null,E=null,V=v.status,K=v.statusText;if(v.ok){if(this.method!=="HEAD"){const ne=await v.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?L=ne:L=JSON.parse(ne))}const G=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),ce=(j=v.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");G&&ce&&ce.length>1&&(E=parseInt(ce[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(L)&&(L.length>1?(R={code:"PGRST116",details:`Results contain ${L.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},L=null,E=null,V=406,K="Not Acceptable"):L.length===1?L=L[0]:L=null)}else{const G=await v.text();try{R=JSON.parse(G),Array.isArray(R)&&v.status===404&&(L=[],R=null,V=200,K="OK")}catch{v.status===404&&G===""?(V=204,K="No Content"):R={message:G}}if(R&&this.isMaybeSingle&&(!((O=R?.details)===null||O===void 0)&&O.includes("0 rows"))&&(R=null,V=200,K="OK"),R&&this.shouldThrowOnError)throw new s.default(R)}return{error:R,data:L,count:E,status:V,statusText:K}});return this.shouldThrowOnError||(g=g.catch(v=>{var y,x,j;return{error:{message:`${(y=v?.name)!==null&&y!==void 0?y:"FetchError"}: ${v?.message}`,details:`${(x=v?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(j=v?.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,h)}returns(){return this}overrideTypes(){return this}}return ls.default=o,ls}var nf;function zf(){if(nf)return as;nf=1;var a=as&&as.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(as,"__esModule",{value:!0});const n=a(Mf());class s extends n.default{select(l){let c=!1;const h=(l??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:h,foreignTable:p,referencedTable:g=p}={}){const v=g?`${g}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${l}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,c,{foreignTable:h,referencedTable:p=h}={}){const g=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${l}`),this.url.searchParams.set(v,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:h=!1,buffers:p=!1,wal:g=!1,format:v="text"}={}){var y;const x=[l?"analyze":null,c?"verbose":null,h?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),j=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${j}"; options=${x};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return as.default=s,as}var sf;function lu(){if(sf)return os;sf=1;var a=os&&os.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(os,"__esModule",{value:!0});const n=a(zf());class s extends n.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const h=Array.from(new Set(c)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:h,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${g}fts${v}.${c}`),this}match(l){return Object.entries(l).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(l,c,h){return this.url.searchParams.append(l,`not.${c}.${h}`),this}or(l,{foreignTable:c,referencedTable:h=c}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${l})`),this}filter(l,c,h){return this.url.searchParams.append(l,`${c}.${h}`),this}}return os.default=s,os}var of;function Ff(){if(of)return is;of=1;var a=is&&is.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(is,"__esModule",{value:!0});const n=a(lu());class s{constructor(l,{headers:c={},schema:h,fetch:p}){this.url=l,this.headers=new Headers(c),this.schema=h,this.fetch=p}select(l,{head:c=!1,count:h}={}){const p=c?"HEAD":"GET";let g=!1;const v=(l??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:h=!0}={}){var p;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(v.length>0){const y=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:h=!1,count:p,defaultToNull:g=!0}={}){var v;const y="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const x=l.reduce((j,O)=>j.concat(Object.keys(O)),[]);if(x.length>0){const j=[...new Set(x)].map(O=>`"${O}"`);this.url.searchParams.set("columns",j.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(l,{count:c}={}){var h;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:l}={}){var c;const h="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return is.default=s,is}var af;function cg(){if(af)return ss;af=1;var a=ss&&ss.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ss,"__esModule",{value:!0});const n=a(Ff()),s=a(lu());class o{constructor(c,{headers:h={},schema:p,fetch:g}={}){this.url=c,this.headers=new Headers(h),this.schemaName=p,this.fetch=g}from(c){const h=new URL(`${this.url}/${c}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:g=!1,count:v}={}){var y;let x;const j=new URL(`${this.url}/rpc/${c}`);let O;p||g?(x=p?"HEAD":"GET",Object.entries(h).filter(([L,E])=>E!==void 0).map(([L,E])=>[L,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([L,E])=>{j.searchParams.append(L,E)})):(x="POST",O=h);const R=new Headers(this.headers);return v&&R.set("Prefer",`count=${v}`),new s.default({method:x,url:j,headers:R,schema:this.schemaName,body:O,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return ss.default=o,ss}var lf;function dg(){if(lf)return dt;lf=1;var a=dt&&dt.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(dt,"__esModule",{value:!0}),dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;const n=a(cg());dt.PostgrestClient=n.default;const s=a(Ff());dt.PostgrestQueryBuilder=s.default;const o=a(lu());dt.PostgrestFilterBuilder=o.default;const l=a(zf());dt.PostgrestTransformBuilder=l.default;const c=a(Mf());dt.PostgrestBuilder=c.default;const h=a(Df());return dt.PostgrestError=h.default,dt.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:h.default},dt}var fg=dg();const hg=jf(fg),{PostgrestClient:pg,PostgrestQueryBuilder:w0,PostgrestFilterBuilder:x0,PostgrestTransformBuilder:_0,PostgrestBuilder:k0,PostgrestError:b0}=hg;class mg{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const o=this.getWebSocketConstructor();return new o(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const gg="2.15.5",vg=`realtime-js/${gg}`,yg="1.0.0",Bl=1e4,wg=1e3,xg=100;var ui;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(ui||(ui={}));var ot;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(ot||(ot={}));var tr;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(tr||(tr={}));var ql;(function(a){a.websocket="websocket"})(ql||(ql={}));var Pn;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Pn||(Pn={}));class _g{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),o=new TextDecoder;return this._decodeBroadcast(n,s,o)}_decodeBroadcast(n,s,o){const l=s.getUint8(1),c=s.getUint8(2);let h=this.HEADER_LENGTH+2;const p=o.decode(n.slice(h,h+l));h=h+l;const g=o.decode(n.slice(h,h+c));h=h+c;const v=JSON.parse(o.decode(n.slice(h,n.byteLength)));return{ref:null,topic:p,event:g,payload:v}}}class Bf{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Ue||(Ue={}));const uf=(a,n,s={})=>{var o;const l=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(n).reduce((c,h)=>(c[h]=kg(h,a,n,l),c),{})},kg=(a,n,s,o)=>{const l=n.find(p=>p.name===a),c=l?.type,h=s[a];return c&&!o.includes(c)?qf(c,h):Wl(h)},qf=(a,n)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return Eg(n,s)}switch(a){case Ue.bool:return bg(n);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return Sg(n);case Ue.json:case Ue.jsonb:return jg(n);case Ue.timestamp:return Ng(n);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return Wl(n);default:return Wl(n)}},Wl=a=>a,bg=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Sg=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},jg=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},Eg=(a,n)=>{if(typeof a!="string")return a;const s=a.length-1,o=a[s];if(a[0]==="{"&&o==="}"){let c;const h=a.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>qf(n,p))}return a},Ng=a=>typeof a=="string"?a.replace(" ","T"):a,Wf=a=>{let n=a;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Tl{constructor(n,s,o={},l=Bl){this.channel=n,this.event=s,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var o;return this._hasReceived(n)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var cf;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(cf||(cf={}));class ci{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ci.syncState(this.state,l,c,h),this.pendingDiffs.forEach(g=>{this.state=ci.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},l=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ci.syncDiff(this.state,l,c,h),p())}),this.onJoin((l,c,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:h})}),this.onLeave((l,c,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,o,l){const c=this.cloneDeep(n),h=this.transformState(s),p={},g={};return this.map(c,(v,y)=>{h[v]||(g[v]=y)}),this.map(h,(v,y)=>{const x=c[v];if(x){const j=y.map(E=>E.presence_ref),O=x.map(E=>E.presence_ref),R=y.filter(E=>O.indexOf(E.presence_ref)<0),L=x.filter(E=>j.indexOf(E.presence_ref)<0);R.length>0&&(p[v]=R),L.length>0&&(g[v]=L)}else p[v]=y}),this.syncDiff(c,{joins:p,leaves:g},o,l)}static syncDiff(n,s,o,l){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(c,(p,g)=>{var v;const y=(v=n[p])!==null&&v!==void 0?v:[];if(n[p]=this.cloneDeep(g),y.length>0){const x=n[p].map(O=>O.presence_ref),j=y.filter(O=>x.indexOf(O.presence_ref)<0);n[p].unshift(...j)}o(p,y,g)}),this.map(h,(p,g)=>{let v=n[p];if(!v)return;const y=g.map(x=>x.presence_ref);v=v.filter(x=>y.indexOf(x.presence_ref)<0),n[p]=v,l(p,v,g),v.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(o=>s(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,o)=>{const l=n[o];return"metas"in l?s[o]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=l,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var df;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(df||(df={}));var di;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(di||(di={}));var Er;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Er||(Er={}));class uu{constructor(n,s={config:{}},o){this.topic=n,this.params=s,this.socket=o,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Tl(this,tr.join,this.params,this.timeout),this.rejoinTimer=new Bf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new ci(this),this.broadcastEndpointURL=Wf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var o,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:h,presence:p,private:g}}=this.params,v=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(O=>O.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[di.PRESENCE]&&this.bindings[di.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,x={},j={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:v,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(O=>n?.(Er.CHANNEL_ERROR,O)),this._onClose(()=>n?.(Er.CLOSED)),this.updateJoinPayload(Object.assign({config:j},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:O})=>{var R;if(this.socket.setAuth(),O===void 0){n?.(Er.SUBSCRIBED);return}else{const L=this.bindings.postgres_changes,E=(R=L?.length)!==null&&R!==void 0?R:0,V=[];for(let K=0;K<E;K++){const U=L[K],{filter:{event:G,schema:ce,table:ne,filter:de}}=U,Ne=O&&O[K];if(Ne&&Ne.event===G&&Ne.schema===ce&&Ne.table===ne&&Ne.filter===de)V.push(Object.assign(Object.assign({},U),{id:Ne.id}));else{this.unsubscribe(),this.state=ot.errored,n?.(Er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,n&&n(Er.SUBSCRIBED);return}}).receive("error",O=>{this.state=ot.errored,n?.(Er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{n?.(Er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,o){return this.state===ot.joined&&n===di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,o)}async send(n,s={}){var o,l;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:h}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,g;const v=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ot.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tr.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new Tl(this,tr.leave,{},n),o.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(n,s,o){const l=new AbortController,c=setTimeout(()=>l.abort(),o),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),h}_push(n,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Tl(this,n,s,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>xg){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,o){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,o){var l,c;const h=n.toLocaleLowerCase(),{close:p,error:g,leave:v,join:y}=tr;if(o&&[p,g,v,y].indexOf(h)>=0&&o!==this._joinRef())return;let j=this._onMessage(h,s,o);if(s&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(O=>{var R,L,E;return((R=O.filter)===null||R===void 0?void 0:R.event)==="*"||((E=(L=O.filter)===null||L===void 0?void 0:L.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===h}).map(O=>O.callback(j,o)):(c=this.bindings[h])===null||c===void 0||c.filter(O=>{var R,L,E,V,K,U;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in O){const G=O.id,ce=(R=O.filter)===null||R===void 0?void 0:R.event;return G&&((L=s.ids)===null||L===void 0?void 0:L.includes(G))&&(ce==="*"||ce?.toLocaleLowerCase()===((E=s.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const G=(K=(V=O?.filter)===null||V===void 0?void 0:V.event)===null||K===void 0?void 0:K.toLocaleLowerCase();return G==="*"||G===((U=s?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===h}).map(O=>{if(typeof j=="object"&&"ids"in j){const R=j.data,{schema:L,table:E,commit_timestamp:V,type:K,errors:U}=R;j=Object.assign(Object.assign({},{schema:L,table:E,commit_timestamp:V,eventType:K,new:{},old:{},errors:U}),this._getPayloadRecords(R))}O.callback(j,o)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,o){const l=n.toLocaleLowerCase(),c={type:l,filter:s,callback:o};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(n,s){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&uu.isEqual(l.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const o in n)if(n[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(tr.close,{},n)}_onError(n){this._on(tr.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=uf(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=uf(n.columns,n.old_record)),s}}const Pl=()=>{},No={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cg=[1e3,2e3,5e3,1e4],Tg=1e4,Pg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Og{constructor(n,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bl,this.transport=null,this.heartbeatIntervalMs=No.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pl,this.ref=0,this.reconnectTimer=null,this.logger=Pl,this.conn=null,this.sendBuffer=[],this.serializer=new _g,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...h)=>_s(async()=>{const{default:p}=await Promise.resolve().then(()=>ks);return{default:p}},void 0).then(({default:p})=>p(...h)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...h)=>c(...h)},!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${ql.websocket}`,this.httpEndpoint=Wf(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mg.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yg}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,o){this.logger(n,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return Pn.Connecting;case ui.open:return Pn.Open;case ui.closing:return Pn.Closing;default:return Pn.Closed}}isConnected(){return this.connectionState()===Pn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const o=`realtime:${n}`,l=this.getChannels().find(c=>c.topic===o);if(l)return l;{const c=new uu(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:o,payload:l,ref:c}=n,h=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${o} (${c})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(wg,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},No.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:c,ref:h}=s,p=h?`(${h})`:"",g=c.status||"";this.log("receive",`${g} ${o} ${l} ${p}`.trim(),c),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(l,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(tr.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const o=n.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${n}${o}${l}`}_workerObjectUrl(n){let s;if(n)s=n;else{const o=new Blob([Pg],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const l={access_token:s,version:vg};s&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(tr.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(s)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Bf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},No.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,o,l,c,h,p,g,v,y;if(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=n?.timeout)!==null&&o!==void 0?o:Bl,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:No.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:Pl,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(x=>Cg[x-1]||Tg),this.encode=(v=n?.encode)!==null&&v!==void 0?v:((x,j)=>j(JSON.stringify(x))),this.decode=(y=n?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class cu extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function at(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Rg extends cu{constructor(n,s,o){super(n),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vl extends cu{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var Lg=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function p(y){try{v(o.next(y))}catch(x){h(x)}}function g(y){try{v(o.throw(y))}catch(x){h(x)}}function v(y){y.done?c(y.value):l(y.value).then(p,g)}v((o=o.apply(a,n||[])).next())})};const Vf=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>_s(async()=>{const{default:o}=await Promise.resolve().then(()=>ks);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Ag=()=>Lg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _s(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),Hl=a=>{if(Array.isArray(a))return a.map(s=>Hl(s));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([s,o])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[l]=Hl(o)}),n},Ig=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)};var Rn=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function p(y){try{v(o.next(y))}catch(x){h(x)}}function g(y){try{v(o.throw(y))}catch(x){h(x)}}function v(y){y.done?c(y.value):l(y.value).then(p,g)}v((o=o.apply(a,n||[])).next())})};const Ol=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),$g=(a,n,s)=>Rn(void 0,void 0,void 0,function*(){const o=yield Ag();a instanceof o&&!s?.noResolveJson?a.json().then(l=>{const c=a.status||500,h=l?.statusCode||c+"";n(new Rg(Ol(l),c,h))}).catch(l=>{n(new Vl(Ol(l),l))}):n(new Vl(Ol(a),a))}),Ug=(a,n,s,o)=>{const l={method:a,headers:n?.headers||{}};return a==="GET"||!o?l:(Ig(o)?(l.headers=Object.assign({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(o)):l.body=o,n?.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),s))};function gi(a,n,s,o,l,c){return Rn(this,void 0,void 0,function*(){return new Promise((h,p)=>{a(s,Ug(n,o,l,c)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>$g(g,p,o))})})}function Ro(a,n,s,o){return Rn(this,void 0,void 0,function*(){return gi(a,"GET",n,s,o)})}function cr(a,n,s,o,l){return Rn(this,void 0,void 0,function*(){return gi(a,"POST",n,o,l,s)})}function Gl(a,n,s,o,l){return Rn(this,void 0,void 0,function*(){return gi(a,"PUT",n,o,l,s)})}function Dg(a,n,s,o){return Rn(this,void 0,void 0,function*(){return gi(a,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function Hf(a,n,s,o,l){return Rn(this,void 0,void 0,function*(){return gi(a,"DELETE",n,o,l,s)})}var _t=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function p(y){try{v(o.next(y))}catch(x){h(x)}}function g(y){try{v(o.throw(y))}catch(x){h(x)}}function v(y){y.done?c(y.value):l(y.value).then(p,g)}v((o=o.apply(a,n||[])).next())})};const Mg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ff={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zg{constructor(n,s={},o,l){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=o,this.fetch=Vf(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,o,l){return _t(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},ff),l);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=o,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),l?.headers&&(p=Object.assign(Object.assign({},p),l.headers));const v=this._removeEmptyFolders(s),y=this._getFinalPath(v),x=yield(n=="PUT"?Gl:cr)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:x.Id,fullPath:x.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(at(c))return{data:null,error:c};throw c}})}upload(n,s,o){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,o)})}uploadToSignedUrl(n,s,o,l){return _t(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",s);try{let g;const v=Object.assign({upsert:ff.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",v.cacheControl)):(g=o,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const x=yield Gl(this.fetch,p.toString(),g,{headers:y});return{data:{path:c,fullPath:x.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(at(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return _t(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const l=Object.assign({},this.headers);s?.upsert&&(l["x-upsert"]="true");const c=yield cr(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),h=new URL(this.url+c.url),p=h.searchParams.get("token");if(!p)throw new cu("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}update(n,s,o){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,o)})}move(n,s,o){return _t(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(at(l))return{data:null,error:l};throw l}})}copy(n,s,o){return _t(this,void 0,void 0,function*(){try{return{data:{path:(yield cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(at(l))return{data:null,error:l};throw l}})}createSignedUrl(n,s,o){return _t(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),c=yield cr(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o?.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(at(l))return{data:null,error:l};throw l}})}createSignedUrls(n,s,o){return _t(this,void 0,void 0,function*(){try{const l=yield cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(at(l))return{data:null,error:l};throw l}})}download(n,s){return _t(this,void 0,void 0,function*(){const l=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),h=c?`?${c}`:"";try{const p=this._getFinalPath(n);return{data:yield(yield Ro(this.fetch,`${this.url}/${l}/${p}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(at(p))return{data:null,error:p};throw p}})}info(n){return _t(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const o=yield Ro(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Hl(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}exists(n){return _t(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Dg(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o)&&o instanceof Vl){const l=o.originalError;if([400,404].includes(l?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,s){const o=this._getFinalPath(n),l=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&l.push(c);const p=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&l.push(g);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${v}`)}}}remove(n){return _t(this,void 0,void 0,function*(){try{return{data:yield Hf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}list(n,s,o){return _t(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Mg),s),{prefix:n||""});return{data:yield cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(at(l))return{data:null,error:l};throw l}})}listV2(n,s){return _t(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield cr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Fg="2.12.1",Bg={"X-Client-Info":`storage-js/${Fg}`};var us=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function p(y){try{v(o.next(y))}catch(x){h(x)}}function g(y){try{v(o.throw(y))}catch(x){h(x)}}function v(y){y.done?c(y.value):l(y.value).then(p,g)}v((o=o.apply(a,n||[])).next())})};class qg{constructor(n,s={},o,l){this.shouldThrowOnError=!1;const c=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},Bg),s),this.fetch=Vf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return us(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}getBucket(n){return us(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return us(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}updateBucket(n,s){return us(this,void 0,void 0,function*(){try{return{data:yield Gl(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}emptyBucket(n){return us(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}deleteBucket(n){return us(this,void 0,void 0,function*(){try{return{data:yield Hf(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}}class Wg extends qg{constructor(n,s={},o,l){super(n,s,o,l)}from(n){return new zg(this.url,this.headers,n,this.fetch)}}const Vg="2.57.4";let li="";typeof Deno<"u"?li="deno":typeof document<"u"?li="web":typeof navigator<"u"&&navigator.product==="ReactNative"?li="react-native":li="node";const Hg={"X-Client-Info":`supabase-js-${li}/${Vg}`},Gg={headers:Hg},Kg={schema:"public"},Jg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qg={};var Yg=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function p(y){try{v(o.next(y))}catch(x){h(x)}}function g(y){try{v(o.throw(y))}catch(x){h(x)}}function v(y){y.done?c(y.value):l(y.value).then(p,g)}v((o=o.apply(a,n||[])).next())})};const Xg=a=>{let n;return a?n=a:typeof fetch>"u"?n=$f:n=fetch,(...s)=>n(...s)},Zg=()=>typeof Headers>"u"?Uf:Headers,ev=(a,n,s)=>{const o=Xg(s),l=Zg();return(c,h)=>Yg(void 0,void 0,void 0,function*(){var p;const g=(p=yield n())!==null&&p!==void 0?p:a;let v=new l(h?.headers);return v.has("apikey")||v.set("apikey",a),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),o(c,Object.assign(Object.assign({},h),{headers:v}))})};var tv=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function p(y){try{v(o.next(y))}catch(x){h(x)}}function g(y){try{v(o.throw(y))}catch(x){h(x)}}function v(y){y.done?c(y.value):l(y.value).then(p,g)}v((o=o.apply(a,n||[])).next())})};function rv(a){return a.endsWith("/")?a:a+"/"}function nv(a,n){var s,o;const{db:l,auth:c,realtime:h,global:p}=a,{db:g,auth:v,realtime:y,global:x}=n,j={db:Object.assign(Object.assign({},g),l),auth:Object.assign(Object.assign({},v),c),realtime:Object.assign(Object.assign({},y),h),storage:{},global:Object.assign(Object.assign(Object.assign({},x),p),{headers:Object.assign(Object.assign({},(s=x?.headers)!==null&&s!==void 0?s:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>tv(this,void 0,void 0,function*(){return""})};return a.accessToken?j.accessToken=a.accessToken:delete j.accessToken,j}function sv(a){const n=a?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rv(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Gf="2.71.1",gs=30*1e3,Kl=3,Rl=Kl*gs,iv="http://localhost:9999",ov="supabase.auth.token",av={"X-Client-Info":`gotrue-js/${Gf}`},Jl="X-Supabase-Api-Version",Kf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uv=600*1e3;class du extends Error{constructor(n,s,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function _e(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class cv extends du{constructor(n,s,o){super(n,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function dv(a){return _e(a)&&a.name==="AuthApiError"}class Jf extends du{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class an extends du{constructor(n,s,o,l){super(n,o,l),this.name=s,this.status=o}}class tn extends an{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fv(a){return _e(a)&&a.name==="AuthSessionMissingError"}class Co extends an{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class To extends an{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Po extends an{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hv(a){return _e(a)&&a.name==="AuthImplicitGrantRedirectError"}class hf extends an{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ql extends an{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Ll(a){return _e(a)&&a.name==="AuthRetryableFetchError"}class pf extends an{constructor(n,s,o){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class Yl extends an{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mf=` 	
\r=`.split(""),pv=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<mf.length;n+=1)a[mf[n].charCodeAt(0)]=-2;for(let n=0;n<Lo.length;n+=1)a[Lo[n].charCodeAt(0)]=n;return a})();function gf(a,n,s){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Lo[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Lo[o]),n.queuedBits-=6}}function Qf(a,n,s){const o=pv[a];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function vf(a){const n=[],s=h=>{n.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=h=>{vv(h,o,s)};for(let h=0;h<a.length;h+=1)Qf(a.charCodeAt(h),l,c);return n.join("")}function mv(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function gv(a,n){for(let s=0;s<a.length;s+=1){let o=a.charCodeAt(s);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(a.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}mv(o,n)}}function vv(a,n,s){if(n.utf8seq===0){if(a<=127){s(a);return}for(let o=1;o<6;o+=1)if((a>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function yv(a){const n=[],s={queue:0,queuedBits:0},o=l=>{n.push(l)};for(let l=0;l<a.length;l+=1)Qf(a.charCodeAt(l),s,o);return new Uint8Array(n)}function wv(a){const n=[];return gv(a,s=>n.push(s)),new Uint8Array(n)}function xv(a){const n=[],s={queue:0,queuedBits:0},o=l=>{n.push(l)};return a.forEach(l=>gf(l,s,o)),gf(null,s,o),n.join("")}function _v(a){return Math.round(Date.now()/1e3)+a}function kv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const n=Math.random()*16|0;return(a=="x"?n:n&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},Yf=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function bv(a){const n={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{n[c]=l})}catch{}return s.searchParams.forEach((o,l)=>{n[l]=o}),n}const Xf=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>_s(async()=>{const{default:o}=await Promise.resolve().then(()=>ks);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Sv=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",vs=async(a,n,s)=>{await a.setItem(n,JSON.stringify(s))},Cn=async(a,n)=>{const s=await a.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},en=async(a,n)=>{await a.removeItem(n)};class Io{constructor(){this.promise=new Io.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Io.promiseConstructor=Promise;function Al(a){const n=a.split(".");if(n.length!==3)throw new Yl("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!lv.test(n[o]))throw new Yl("JWT not in base64url format");return{header:JSON.parse(vf(n[0])),payload:JSON.parse(vf(n[1])),signature:yv(n[2]),raw:{header:n[0],payload:n[1]}}}async function jv(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function Ev(a,n){return new Promise((o,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await a(c);if(!n(c,null,h)){o(h);return}}catch(h){if(!n(c,h)){l(h);return}}})()})}function Nv(a){return("0"+a.toString(16)).substr(-2)}function Cv(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(n),Array.from(n,Nv).join("")}async function Tv(a){const s=new TextEncoder().encode(a),o=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(o);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function Pv(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await Tv(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cs(a,n,s=!1){const o=Cv();let l=o;s&&(l+="/PASSWORD_RECOVERY"),await vs(a,`${n}-code-verifier`,l);const c=await Pv(o);return[c,o===c?"plain":"s256"]}const Ov=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rv(a){const n=a.headers.get(Jl);if(!n||!n.match(Ov))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Lv(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function Av(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Iv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ds(a){if(!Iv.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Il(){const a={};return new Proxy(a,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yf(a){return JSON.parse(JSON.stringify(a))}var $v=function(a,n){var s={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&n.indexOf(o)<0&&(s[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(a);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(a,o[l])&&(s[o[l]]=a[o[l]]);return s};const Tn=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Uv=[502,503,504];async function wf(a){var n;if(!Sv(a))throw new Ql(Tn(a),0);if(Uv.includes(a.status))throw new Ql(Tn(a),a.status);let s;try{s=await a.json()}catch(c){throw new Jf(Tn(c),c)}let o;const l=Rv(a);if(l&&l.getTime()>=Kf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new pf(Tn(s),a.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new tn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new pf(Tn(s),a.status,s.weak_password.reasons);throw new cv(Tn(s),a.status||500,o)}const Dv=(a,n,s,o)=>{const l={method:a,headers:n?.headers||{}};return a==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),s))};async function Ee(a,n,s,o){var l;const c=Object.assign({},o?.headers);c[Jl]||(c[Jl]=Kf["2024-01-01"].name),o?.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const h=(l=o?.query)!==null&&l!==void 0?l:{};o?.redirectTo&&(h.redirect_to=o.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await Mv(a,n,s+p,{headers:c,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function Mv(a,n,s,o,l,c){const h=Dv(n,o,l,c);let p;try{p=await a(s,Object.assign({},h))}catch(g){throw console.error(g),new Ql(Tn(g),0)}if(p.ok||await wf(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await wf(g)}}function jr(a){var n;let s=null;qv(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=_v(a.expires_in)));const o=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:s,user:o},error:null}}function xf(a){const n=jr(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(n.data.weak_password=a.weak_password),n}function rn(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function zv(a){return{data:a,error:null}}function Fv(a){const{action_link:n,email_otp:s,hashed_token:o,redirect_to:l,verification_type:c}=a,h=$v(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:o,redirect_to:l,verification_type:c},g=Object.assign({},h);return{data:{properties:p,user:g},error:null}}function Bv(a){return a}function qv(a){return a.access_token&&a.refresh_token&&a.expires_in}const $l=["global","local","others"];var Wv=function(a,n){var s={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&n.indexOf(o)<0&&(s[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(a);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(a,o[l])&&(s[o[l]]=a[o[l]]);return s};class Vv{constructor({url:n="",headers:s={},fetch:o}){this.url=n,this.headers=s,this.fetch=Xf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=$l[0]){if($l.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$l.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(_e(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,s={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:rn})}catch(o){if(_e(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:s}=n,o=Wv(n,["options"]),l=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(l.new_email=o?.newEmail,delete l.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Fv,redirectTo:s?.redirectTo})}catch(s){if(_e(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:rn})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,o,l,c,h,p,g;try{const v={nextPage:null,lastPage:0,total:0},y=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Bv});if(y.error)throw y.error;const x=await y.json(),j=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,O=(g=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return O.length>0&&(O.forEach(R=>{const L=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(R.split(";")[1].split("=")[1]);v[`${E}Page`]=L}),v.total=parseInt(j)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(_e(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){ds(n);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:rn})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){ds(n);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:rn})}catch(o){if(_e(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,s=!1){ds(n);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:rn})}catch(o){if(_e(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){ds(n.userId);try{const{data:s,error:o}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:o}}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _deleteFactor(n){ds(n.userId),ds(n.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}}function _f(a={}){return{getItem:n=>a[n]||null,setItem:(n,s)=>{a[n]=s},removeItem:n=>{delete a[n]}}}function Hv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fs={debug:!!(globalThis&&Yf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zf extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Gv extends Zf{}async function Kv(a,n,s){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,l.name);try{return await s()}finally{fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,l.name)}}else{if(n===0)throw fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new Gv(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(fs.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Hv();const Jv={url:iv,storageKey:ov,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:av,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kf(a,n,s){return await s()}const hs={};class mi{constructor(n){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mi.nextInstanceID,mi.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Jv),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Vv({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Xf(l.fetch),this.lock=l.lock||kf,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:er()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Kv:this.lock=kf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Yf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_f(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=_f(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=hs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){hs[this.storageKey]=Object.assign(Object.assign({},hs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=hs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){hs[this.storageKey]=Object.assign(Object.assign({},hs[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gf}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=bv(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),er()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),hv(c)){const g=(n=c.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return _e(s)?{error:s}:{error:new Jf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,o,l;try{const c=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:jr}),{data:h,error:p}=c;if(p||!h)return{data:{user:null,session:null},error:p};const g=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(c){if(_e(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var s,o,l;try{let c;if("email"in n){const{email:y,password:x,options:j}=n;let O=null,R=null;this.flowType==="pkce"&&([O,R]=await cs(this.storage,this.storageKey)),c=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:y,password:x,data:(s=j?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:O,code_challenge_method:R},xform:jr})}else if("phone"in n){const{phone:y,password:x,options:j}=n;c=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(o=j?.data)!==null&&o!==void 0?o:{},channel:(l=j?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:jr})}else throw new To("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return{data:{user:null,session:null},error:p};const g=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(c){if(_e(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:h,options:p}=n;s=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:xf})}else if("phone"in n){const{phone:c,password:h,options:p}=n;s=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:xf})}else throw new To("You must provide either an email or phone number and a password");const{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Co}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,o,l,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,o,l,c,h,p,g,v,y,x,j,O;let R,L;if("message"in n)R=n.message,L=n.signature;else{const{chain:E,wallet:V,statement:K,options:U}=n;let G;if(er())if(typeof V=="object")G=V;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))G=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=V}const ce=new URL((s=U?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in G&&G.signIn){const ne=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),K?{statement:K}:null));let de;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")de=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)de=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in de&&"signature"in de&&(typeof de.signedMessage=="string"||de.signedMessage instanceof Uint8Array)&&de.signature instanceof Uint8Array)R=typeof de.signedMessage=="string"?de.signedMessage:new TextDecoder().decode(de.signedMessage),L=de.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${ce.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(l=(o=U?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=U?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((v=U?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((x=(y=U?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...U.signInWithSolana.resources.map(de=>`- ${de}`)]:[]].join(`
`);const ne=await G.signMessage(new TextEncoder().encode(R),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");L=ne}}try{const{data:E,error:V}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:xv(L)},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(O=n.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:jr});if(V)throw V;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Co}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:V})}catch(E){if(_e(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(n){const s=await Cn(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(s??"").split("/");try{const{data:c,error:h}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:jr});if(await en(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Co}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:h})}catch(c){if(_e(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:s,provider:o,token:l,access_token:c,nonce:h}=n,p=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:jr}),{data:g,error:v}=p;return v?{data:{user:null,session:null},error:v}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Co}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:v})}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,o,l,c,h;try{if("email"in n){const{email:p,options:g}=n;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await cs(this.storage,this.storageKey));const{error:x}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in n){const{phone:p,options:g}=n,{data:v,error:y}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=g?.data)!==null&&l!==void 0?l:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:v?.message_id},error:y}}throw new To("You must provide either an email or phone number.")}catch(p){if(_e(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(n){var s,o;try{let l,c;"options"in n&&(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:p}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:jr});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,v=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var s,o,l;try{let c=null,h=null;return this.flowType==="pkce"&&([c,h]=await cs(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:zv})}catch(c){if(_e(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)throw o;if(!s)throw new tn;const{error:l}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:o,type:l,options:c}=n,{error:h}=await Ee(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:o,type:l,options:c}=n,{data:h,error:p}=await Ee(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:p}}throw new To("You must provide either an email or phone number and a type")}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Rl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const h=await Cn(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=Il()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(g,v,y)=>(!h&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,v,y))})}return{data:{session:n},error:null}}const{session:l,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:rn}):await this._useSession(async s=>{var o,l,c;const{data:h,error:p}=s;if(p)throw p;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tn}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:rn})})}catch(s){if(_e(s))return fv(s)&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async o=>{const{data:l,error:c}=o;if(c)throw c;if(!l.session)throw new tn;const h=l.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await cs(this.storage,this.storageKey));const{data:v,error:y}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:h.access_token,xform:rn});if(y)throw y;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(o){if(_e(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new tn;const s=Date.now()/1e3;let o=s,l=!0,c=null;const{payload:h}=Al(n.access_token);if(h.exp&&(o=h.exp,l=o<=s),l){const{session:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;c={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(_e(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var o;if(!n){const{data:h,error:p}=s;if(p)throw p;n=(o=h.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new tn;const{session:l,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!er())throw new Po("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Po(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new hf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Po("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new hf("No code detected.");const{data:K,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:K.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:c,refresh_token:h,expires_in:p,expires_at:g,token_type:v}=n;if(!c||!p||!h||!v)throw new Po("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(p);let j=y+x;g&&(j=parseInt(g));const O=j-y;O*1e3<=gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${x}s`);const R=j-x;y-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,j,y):y-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,j,y);const{data:L,error:E}=await this._getUser(c);if(E)throw E;const V={provider_token:o,provider_refresh_token:l,access_token:c,expires_in:x,expires_at:j,refresh_token:h,token_type:v,user:L.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:n.type},error:null}}catch(o){if(_e(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Cn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c)return{error:c};const h=(o=l.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:p}=await this.admin.signOut(h,n);if(p&&!(dv(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return n!=="others"&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=kv(),o={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async s=>{var o,l;try{const{data:{session:c},error:h}=s;if(h)throw h;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await cs(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(_e(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:o,error:l}=await this._useSession(async c=>{var h,p,g,v,y;const{data:x,error:j}=c;if(j)throw j;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",O,{headers:this.headers,jwt:(y=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return er()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(_e(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var o,l;const{data:c,error:h}=s;if(h)throw h;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Ev(async l=>(l>0&&await jv(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:jr})),(l,c)=>{const h=200*Math.pow(2,l);return c&&Ll(c)&&Date.now()+h-o<gs})}catch(o){if(this._debug(s,"error",o),_e(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",o),er()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Cn(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await vs(this.userStorage,this.storageKey+"-user",h)),l.user=(n=h?.user)!==null&&n!==void 0?n:Il()}else if(l&&!l.user&&!l.user){const h=await Cn(this.storage,this.storageKey+"-user");h&&h?.user?(l.user=h.user,await en(this.storage,this.storageKey+"-user"),await vs(this.storage,this.storageKey,l)):l.user=Il()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Rl;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${Rl}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),Ll(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(l.access_token);!p&&h?.user?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var s,o;if(!n)throw new tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Io;const{data:c,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!c.session)throw new tn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={session:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(l,"error",c),_e(c)){const h={session:null,error:c};return Ll(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,s,o=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await vs(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=yf(l);await vs(this.storage,this.storageKey,c)}else{const l=yf(s);await vs(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await en(this.storage,this.storageKey),await en(this.storage,this.storageKey+"-code-verifier"),await en(this.storage,this.storageKey+"-user"),this.userStorage&&await en(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&er()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),gs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-n)/gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${gs}ms, refresh threshold is ${Kl} ticks`),l<=Kl&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Zf)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,o){const l=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,h]=await cs(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(p.toString())}if(o?.queryParams){const c=new URLSearchParams(o.queryParams);l.push(c.toString())}return o?.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;return c?{data:null,error:c}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var o,l;const{data:c,error:h}=s;if(h)return{data:null,error:h};const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:g,error:v}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return v?{data:null,error:v}:(n.factorType==="totp"&&(!((l=g?.totp)===null||l===void 0)&&l.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c)return{data:null,error:c};const{data:h,error:p}=await Ee(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(s){if(_e(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;return c?{data:null,error:c}:await Ee(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(_e(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=n?.factors||[],l=o.filter(h=>h.factor_type==="totp"&&h.status==="verified"),c=o.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:o,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,o;const{data:{session:l},error:c}=n;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Al(l.access_token);let p=null;h.aal&&(p=h.aal);let g=p;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const y=h.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,s={keys:[]}){let o=s.keys.find(p=>p.kid===n);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(p=>p.kid===n),o&&this.jwks_cached_at+uv>l)return o;const{data:c,error:h}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,o=c.keys.find(p=>p.kid===n),!o)?null:o}async getClaims(n,s={}){try{let o=n;if(!o){const{data:O,error:R}=await this.getSession();if(R||!O.session)return{data:null,error:R};o=O.session.access_token}const{header:l,payload:c,signature:h,raw:{header:p,payload:g}}=Al(o);s?.allowExpired||Lv(c.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!v){const{error:O}=await this.getUser(o);if(O)throw O;return{data:{claims:c,header:l,signature:h},error:null}}const y=Av(l.alg),x=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,h,wv(`${p}.${g}`)))throw new Yl("Invalid JWT signature");return{data:{claims:c,header:l,signature:h},error:null}}catch(o){if(_e(o))return{data:null,error:o};throw o}}}mi.nextInstanceID=0;const Qv=mi;class Yv extends Qv{constructor(n){super(n)}}var Xv=function(a,n,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function p(y){try{v(o.next(y))}catch(x){h(x)}}function g(y){try{v(o.throw(y))}catch(x){h(x)}}function v(y){y.done?c(y.value):l(y.value).then(p,g)}v((o=o.apply(a,n||[])).next())})};class Zv{constructor(n,s,o){var l,c,h;this.supabaseUrl=n,this.supabaseKey=s;const p=sv(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,v={db:Kg,realtime:Qg,auth:Object.assign(Object.assign({},Jg),{storageKey:g}),global:Gg},y=nv(o??{},v);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=y.auth)!==null&&h!==void 0?h:{},this.headers,y.global.fetch),this.fetch=ev(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new pg(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Wg(this.storageUrl.href,this.headers,this.fetch,o?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new sg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},o={}){return this.rest.rpc(n,s,o)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return Xv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:l,userStorage:c,storageKey:h,flowType:p,lock:g,debug:v},y,x){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yv({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),y),storageKey:h,autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:l,userStorage:c,flowType:p,lock:g,debug:v,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Og(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o?.access_token)})}_handleTokenChanged(n,s,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const e0=(a,n,s)=>new Zv(a,n,s);function t0(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const n=a.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}t0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const W=e0("https://grfvpmetnavfsbugdotg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdyZnZwbWV0bmF2ZnNidWdkb3RnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczNjcyMjAsImV4cCI6MjA3Mjk0MzIyMH0.HuPYsL93a8jV6hpCdTwouIzMxcN4EB8tMxkLr-KGYAY");function r0(){const a=xs(),s=Cr().state||{},o=s.presetCategory??"Games",l=s.presetGame??"",[c,h]=_.useState([]),[p,g]=_.useState([]),[v,y]=_.useState(!0);_.useEffect(()=>{let z=!0;return(async()=>{y(!0);const{data:B}=await W.from("allowed_categories").select("name").eq("is_active",!0),{data:b}=await W.from("allowed_games").select("id,name,category").eq("is_active",!0);z&&(h(B??[]),g((b??[]).map(A=>({id:A.id,label:A.name,category:A.category}))),y(!1))})(),()=>{z=!1}},[]);const[x,j]=_.useState(""),[O,R]=_.useState(""),[L,E]=_.useState(""),[V,K]=_.useState(3),[U,G]=_.useState(!1),[ce,ne]=_.useState(""),[de,Ne]=_.useState("");_.useEffect(()=>{if(!c.length)return;const z=String(o||c[0].name),B=c.find(b=>b.name.toLowerCase()===z.toLowerCase());Ne(B?.name||c[0].name)},[c,o]);const[fe,se]=_.useState(!1),[oe,xe]=_.useState(""),[ye,ke]=_.useState("");_.useEffect(()=>{if(!p.length)return;const z=String(l||"").toLowerCase().replace(/\s+/g,""),B=p.find(b=>b.id===z||b.label.toLowerCase().replace(/\s+/g,"")===z);B&&ke(B.id)},[p,l]);const Fe=_.useMemo(()=>{const z=ce.trim().toLowerCase(),B=c.map(b=>b.name);return z?B.filter(b=>b.toLowerCase().includes(z)):B},[ce,c]),Le=_.useMemo(()=>{const z=p.filter(b=>b.category===de),B=oe.trim().toLowerCase();return B?z.filter(b=>b.label.toLowerCase().includes(B)||b.id.includes(B)):z},[de,oe,p]),Ce=!v&&x.trim().length>0&&de&&ye&&V>=3&&V<=12;async function M(){if(!Ce)return;const{data:z,error:B}=await W.auth.getUser();if(B||!z?.user?.id){alert(B?.message||"Sign in required");return}const b=z.user.id,A=Math.max(3,Math.min(12,V)),he={title:x.trim(),description:O.trim()||null,city:L.trim()||null,category:(de||"").toLowerCase(),game:ye,capacity:A,host_id:b,creator_id:b,is_online:!0,quick_match:!1},{data:I,error:re}=await W.from("groups").insert(he).select("id").single();if(re){alert(re.message);return}await W.from("group_members").upsert({group_id:I.id,user_id:b,role:"member",status:"active"}),a(`/groups/game/${encodeURIComponent(ye)}`)}return f.jsxs("div",{className:"mx-auto max-w-2xl px-4 py-6",children:[f.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Create Group"}),f.jsx(Ze,{to:"/browse",className:"rounded-md border px-3 py-1.5 text-sm hover:bg-black/[0.04]",children:"Back"})]}),v&&f.jsx("div",{className:"text-sm text-neutral-500",children:"Loading categories…"}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-800",children:"Title"}),f.jsx("input",{value:x,onChange:z=>j(z.target.value),placeholder:"e.g., Friday Night Hokm",className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm outline-none focus:border-emerald-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-800",children:"Category"}),f.jsxs("div",{className:"relative mt-1",children:[f.jsx("input",{value:U?ce:de||"",onChange:z=>{G(!0),ne(z.target.value)},onFocus:()=>G(!0),placeholder:"Search or choose category…",className:"w-full rounded-lg border px-3 py-2 text-sm outline-none focus:border-emerald-500",disabled:v}),U&&f.jsxs("div",{className:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-lg border bg-white shadow",children:[Fe.length===0&&f.jsx("div",{className:"px-3 py-2 text-sm text-neutral-500",children:"No matches"}),Fe.map(z=>f.jsx("button",{type:"button",onClick:()=>{Ne(z),G(!1),ne(""),p.some(B=>B.category===z&&B.id===ye)||ke("")},className:"block w-full px-3 py-2 text-left text-sm hover:bg-neutral-50",children:z},z))]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-800",children:"Game / Activity"}),f.jsxs("div",{className:"relative mt-1",children:[f.jsx("input",{value:fe?oe:p.find(z=>z.category===de&&z.id===ye)?.label||"",onChange:z=>{se(!0),xe(z.target.value)},onFocus:()=>se(!0),placeholder:"Search or choose game/activity…",className:"w-full rounded-lg border px-3 py-2 text-sm outline-none focus:border-emerald-500",disabled:v||!de}),fe&&f.jsxs("div",{className:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-lg border bg-white shadow",children:[Le.length===0&&f.jsx("div",{className:"px-3 py-2 text-sm text-neutral-500",children:"No matches"}),Le.map(z=>f.jsx("button",{type:"button",onClick:()=>{ke(z.id),se(!1),xe("")},className:"block w-full px-3 py-2 text-left text-sm hover:bg-neutral-50",children:z.label},z.id))]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-800",children:"City (optional)"}),f.jsx("input",{value:L,onChange:z=>E(z.target.value),placeholder:"e.g., Freiburg",className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm outline-none focus:border-emerald-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-800",children:"Capacity"}),f.jsx("input",{type:"number",min:2,max:12,value:V,onChange:z=>K(Math.max(2,Math.min(12,Number(z.target.value||2)))),className:"mt-1 w-32 rounded-lg border px-3 py-2 text-sm outline-none focus:border-emerald-500"}),f.jsx("p",{className:"mt-1 text-xs text-neutral-500",children:"Must be between 2 and 12."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-800",children:"Description"}),f.jsx("textarea",{value:O,onChange:z=>R(z.target.value),placeholder:"Tell people what this group is about…",rows:4,className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm outline-none focus:border-emerald-500"})]}),f.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[f.jsx(Ze,{to:"/browse",className:"rounded-md border px-3 py-1.5 text-sm hover:bg-black/[0.04]",children:"Cancel"}),f.jsx("button",{disabled:!Ce,onClick:M,className:"rounded-md bg-emerald-700 px-4 py-2 text-white disabled:opacity-60",children:"Create Group"})]})]})]})}const n0=["All","Games","Study","Outdoors"],Xl=[{id:"hokm",name:"Hokm",blurb:"Classic Persian card game",tag:"Games",online:120,groups:8,image:"🎴"},{id:"takhtenard",name:"Takhte Nard",blurb:"Traditional backgammon",tag:"Games",online:95,groups:6,image:"🎲"},{id:"mafia",name:"Mafia",blurb:"Social deduction party game",tag:"Games",online:210,groups:12,image:"🕵️"},{id:"mono",name:"Monopoly",blurb:"Buy, sell, and trade properties",tag:"Games",online:180,groups:10,image:"💰"},{id:"uno",name:"Uno",blurb:"Colorful card matching fun",tag:"Games",online:250,groups:15,image:"🃏"},{id:"chess",name:"Chess",blurb:"Classic strategy board game",tag:"Games",online:130,groups:9,image:"♟️"},{id:"mathematics",name:"Mathematics",blurb:"Study numbers and problem solving",tag:"Study",online:75,groups:5,image:"📐"},{id:"biology",name:"Biology",blurb:"Explore life sciences",tag:"Study",online:60,groups:4,image:"🧬"},{id:"chemistry",name:"Chemistry",blurb:"Learn about chemicals and reactions",tag:"Study",online:50,groups:3,image:"⚗️"},{id:"history",name:"History",blurb:"Discover past events and cultures",tag:"Study",online:45,groups:3,image:"📜"},{id:"dreisam",name:"Mountain Dreisam Hike",blurb:"Join a hike up Dreisam mountain",tag:"Outdoors",online:40,groups:3,image:"⛰️"},{id:"visit",name:"Visiting",blurb:"Cultural and city visits",tag:"Outdoors",online:55,groups:4,image:"🏛️"},{id:"camp",name:"Camping",blurb:"Overnight outdoor camping trips",tag:"Outdoors",online:35,groups:2,image:"🏕️"},{id:"kayak",name:"Kayaking",blurb:"Water adventures on rivers and lakes",tag:"Outdoors",online:30,groups:2,image:"🛶"}],s0=Object.fromEntries(Xl.map(a=>[a.id.toLowerCase(),a]));function i0(){const[a,n]=Xm(),[s,o]=_.useState(a.get("q")??""),[l,c]=_.useState(a.get("category")??"All"),[h,p]=_.useState([]),[g,v]=_.useState(!1),y=12,[x,j]=_.useState(0),[O,R]=_.useState(!1),[L,E]=_.useState(!1),[V,K]=_.useState(null),[U,G]=_.useState({}),[ce,ne]=_.useState({}),[de,Ne]=_.useState(0),[fe,se]=_.useState({}),[oe,xe]=_.useState(!1),[ye,ke]=_.useState(""),[Fe,Le]=_.useState(""),[Ce,M]=_.useState(!1),[z,B]=_.useState(null);_.useEffect(()=>{const I=new URLSearchParams(a);l&&l!=="All"?I.set("category",l):I.delete("category"),s?I.set("q",s):I.delete("q"),I.toString()!==a.toString()&&n(I,{replace:!0})},[s,l]),_.useEffect(()=>{let I=!0;async function re(ie){try{ie&&(v(!0),p([]),j(0),R(!1),K(null));let Y=W.from("groups").select("id, title, description, city, category, game, created_at").order("created_at",{ascending:!1});if(l&&l!=="All"){const He=l.toLowerCase(),It=fe[He]??[];if(It.length){const rr=It.map($t=>`"${$t}"`).join(",");Y=Y.or(`game.in.(${rr}),category.eq.${He}`)}else Y=Y.eq("category",He)}if(s.trim()){const He=s.trim();Y=Y.or(`title.ilike.%${He}%,game.ilike.%${He}%`)}const ae=0,ve=y-1,{data:Se,error:De}=await Y.range(ae,ve);if(De)throw De;if(!I)return;const Ve=Se??[];p(Ve),R(Ve.length===y),K(null)}catch(Y){if(!I)return;K(Y?.message??"Failed to load groups")}finally{if(!I)return;v(!1),E(!1)}}return re(!0),()=>{I=!1}},[l,s,fe]);async function b(){if(!(L||g||!O)){E(!0);try{let I=W.from("groups").select("id, title, description, city, category, game, created_at").order("created_at",{ascending:!1});if(l&&l!=="All"){const Se=l.toLowerCase(),De=fe[Se]??[];if(De.length){const Ve=De.map(He=>`"${He}"`).join(",");I=I.or(`game.in.(${Ve}),category.eq.${Se}`)}else I=I.eq("category",Se)}if(s.trim()){const Se=s.trim();I=I.or(`title.ilike.%${Se}%,game.ilike.%${Se}%`)}const re=(x+1)*y,ie=re+y-1,{data:Y,error:ae}=await I.range(re,ie);if(ae)throw ae;const ve=Y??[];p(Se=>[...Se,...ve]),j(Se=>Se+1),R(ve.length===y)}catch(I){K(I?.message??"Failed to load groups")}finally{E(!1)}}}_.useEffect(()=>{let I=!0;return(async()=>{const{data:re,error:ie}=await W.from("allowed_games").select("id, category").eq("is_active",!0);if(!I)return;if(ie){se({});return}const Y={};(re??[]).forEach(ae=>{const ve=String(ae.category||"").toLowerCase(),Se=String(ae.id||"").toLowerCase();!ve||!Se||(Y[ve]||(Y[ve]=[]),Y[ve].push(Se))}),se(Y)})(),()=>{I=!1}},[]),_.useEffect(()=>{let I=!0;return(async()=>{const{data:re}=await W.from("groups").select("id, game");if(!I)return;const ie={};(re??[]).forEach(De=>{const Ve=(De.game||"").toLowerCase();Ve&&(ie[Ve]=(ie[Ve]||0)+1)}),G(ie);const{data:Y}=await W.from("group_members").select("user_id, groups(game)");if(!I)return;const ae={},ve=new Set;(Y??[]).forEach(De=>{const Ve=De?.groups?.game?String(De.groups.game).toLowerCase():"",He=De?.user_id?String(De.user_id):"";!Ve||!He||(ve.add(He),ae[Ve]||(ae[Ve]=new Set),ae[Ve].add(He))});const Se={};Object.entries(ae).forEach(([De,Ve])=>{Se[De]=Ve.size}),ne(Se),Ne(ve.size)})(),()=>{I=!1}},[]);const A=_.useMemo(()=>{const I=l==="All"?Xl:Xl.filter(ie=>ie.tag===l);return s.trim()?I.filter(ie=>ie.name.toLowerCase().includes(s.toLowerCase())):I},[s,l]),he=de;return f.jsxs("div",{className:"mx-auto w-full max-w-6xl px-4 py-8",children:[f.jsxs("div",{className:"mb-8 flex items-start justify-between gap-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight text-neutral-900",children:"Browse Games"}),f.jsx("p",{className:"mt-2 text-neutral-600",children:"Discover games and find players to join"}),f.jsxs("div",{className:"mt-5 flex items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsx("input",{value:s,onChange:I=>o(I.target.value),placeholder:"Search games…",className:"w-[420px] max-w-full rounded-xl border px-3 py-2 pl-9 text-sm outline-none ring-0 focus:border-emerald-500"}),f.jsx("span",{className:"pointer-events-none absolute left-3 top-2.5 text-neutral-400",children:"🔎"})]}),f.jsx(Ze,{to:"/groups/mine",className:"rounded-md border border-black/10 bg-white px-4 py-2 text-sm hover:bg-black/[0.04]",children:"My Games"})]}),f.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:n0.map(I=>f.jsx("button",{onClick:()=>c(I),className:`rounded-lg border px-3 py-1.5 text-sm ${I===l?"bg-emerald-600 text-white border-emerald-600":"bg-white text-neutral-700 hover:bg-neutral-50"}`,children:I},I))})]}),f.jsxs("div",{className:"shrink-0 text-right",children:[f.jsx("div",{className:"text-3xl font-semibold text-emerald-700",children:he.toLocaleString()}),f.jsx("div",{className:"text-sm text-neutral-500",children:"Players Online"}),f.jsx("button",{onClick:()=>{xe(!0),B(null)},className:"mt-3 rounded-md border border-black/10 bg-white px-3 py-1.5 text-sm hover:bg-black/[0.04]",children:"Request Category"})]})]}),f.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:A.map(I=>f.jsx(o0,{game:I,groupCount:U[I.id]??0,memberCount:ce[I.id]??0},I.id))}),f.jsxs("div",{className:"mt-10",children:[f.jsxs("div",{className:"flex items-baseline justify-between",children:[f.jsx("h2",{className:"text-xl font-semibold",children:l!=="All"?`Groups in ${l}`:s?`Groups matching “${s}”`:"Latest Groups"}),(l!=="All"||s)&&f.jsx("button",{onClick:()=>{c("All"),o("")},className:"text-sm text-neutral-600 hover:text-neutral-800",children:"Clear filter"})]}),f.jsx("div",{className:"mt-4 rounded-xl border border-black/10 bg-white",children:V?f.jsx("div",{className:"p-6 text-red-700",children:V}):g&&h.length===0?f.jsx("ul",{className:"divide-y divide-black/5",children:Array.from({length:6}).map((I,re)=>f.jsxs("li",{className:"p-4 flex items-center justify-between",children:[f.jsxs("div",{className:"w-full",children:[f.jsx("div",{className:"h-4 w-48 animate-pulse rounded bg-neutral-200"}),f.jsx("div",{className:"mt-2 h-3 w-5/6 animate-pulse rounded bg-neutral-200"}),f.jsx("div",{className:"mt-1 h-3 w-2/3 animate-pulse rounded bg-neutral-200"})]}),f.jsx("div",{className:"h-8 w-20 animate-pulse rounded bg-neutral-200"})]},re))}):h.length===0?f.jsx("div",{className:"p-6 text-neutral-600",children:"No groups yet."}):f.jsxs(f.Fragment,{children:[f.jsx("ul",{className:"divide-y divide-black/5",children:h.map(I=>f.jsxs("li",{className:"p-4 flex items-center justify-between",children:[f.jsx("div",{children:(()=>{const re=s0[(I.game||"").toLowerCase()],ie=re?.tag??(I.category?String(I.category):"general"),Y=re?.name??(I.game?String(I.game):null);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"font-medium",children:I.title??Y??"Untitled group"}),f.jsxs("div",{className:"text-sm text-neutral-600",children:[`#${ie}`,Y?` • ${Y}`:"",I.city?` • ${I.city}`:"",I.capacity?` • ${I.capacity} slots`:""]})]})})()}),f.jsx(Ze,{to:`/group/${I.id}`,className:"rounded-md border border-black/10 bg-white px-3 py-1.5 text-sm hover:bg-black/[0.04]",children:"View"})]},I.id))}),O&&f.jsx("div",{className:"border-t border-black/5 p-4 text-center",children:f.jsx("button",{onClick:b,className:"inline-flex items-center gap-2 rounded-md border border-black/10 bg-white px-3 py-1.5 text-sm hover:bg-black/[0.04] disabled:opacity-60",disabled:L,children:L?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Loading…"]}):f.jsx(f.Fragment,{children:"Load more"})})})]})})]}),oe&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:f.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-5 shadow-xl",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Request new category"}),f.jsx("button",{onClick:()=>xe(!1),className:"rounded-md px-2 py-1 text-sm text-neutral-600 hover:bg-neutral-100",children:"✕"})]}),f.jsxs("form",{className:"mt-4 space-y-3",onSubmit:async I=>{I.preventDefault(),M(!0),B(null);const{data:re,error:ie}=await W.auth.getUser();if(ie||!re?.user){B("Sign in required."),M(!1);return}const Y={name:ye.trim().toLowerCase(),note:Fe.trim()||null,requested_by:re.user.id},{error:ae}=await W.from("category_requests").insert(Y);ae?B(ae.message):(B("Request sent."),ke(""),Le("")),M(!1)},children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-800",children:"Category name"}),f.jsx("input",{value:ye,onChange:I=>ke(I.target.value),placeholder:"e.g., Tournaments",required:!0,className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm outline-none focus:border-emerald-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-800",children:"Note (optional)"}),f.jsx("textarea",{value:Fe,onChange:I=>Le(I.target.value),placeholder:"Why should this category be added?",className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm outline-none focus:border-emerald-500",rows:3})]}),z&&f.jsx("div",{className:"text-sm text-neutral-600",children:z}),f.jsxs("div",{className:"flex items-center justify-end gap-2 pt-1",children:[f.jsx("button",{type:"button",onClick:()=>xe(!1),className:"rounded-md border border-black/10 bg-white px-3 py-1.5 text-sm hover:bg-black/[0.04]",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:Ce||!ye.trim(),className:"rounded-md bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white disabled:opacity-60",children:Ce?"Sending…":"Send request"})]})]})]})})]})}function o0({game:a,groupCount:n,memberCount:s}){return f.jsxs("div",{className:"rounded-2xl border bg-white p-4 shadow-sm",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-neutral-100 text-neutral-400 text-2xl",children:a.image}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"font-semibold text-neutral-900",children:a.name}),f.jsx("span",{className:"rounded-md bg-emerald-50 px-2 py-0.5 text-[11px] font-medium text-emerald-700",children:"Trending"})]}),f.jsx("p",{className:"text-sm text-neutral-600",children:a.blurb})]})]}),f.jsx("span",{className:"rounded-md border px-2 py-0.5 text-[11px] text-neutral-600",children:a.tag})]}),f.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-neutral-600",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-emerald-600",children:"👥"}),f.jsxs("span",{children:[f.jsx("span",{className:"font-medium text-neutral-900",children:s.toLocaleString()})," online"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{children:"👤"}),f.jsxs("span",{children:[f.jsx("span",{className:"font-medium text-neutral-900",children:n})," active groups"]})]})]}),f.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[f.jsx(Ze,{to:`/groups/game/${encodeURIComponent(a.id)}`,className:"inline-flex flex-1 items-center justify-center rounded-lg bg-emerald-600 px-3 py-2 text-sm font-medium text-white hover:bg-emerald-700",children:"Find Groups"}),f.jsx("button",{className:"rounded-lg border px-3 py-2 text-sm text-neutral-700 hover:bg-neutral-50",onClick:()=>alert("Quick Match coming soon"),children:"Quick Match"})]})]})}function a0(){const{id:a=""}=ou(),n=xs(),[s,o]=_.useState(null),[l,c]=_.useState(!0),[h,p]=_.useState(null),[g,v]=_.useState(null),[y,x]=_.useState(!1),[j,O]=_.useState(!1),[R,L]=_.useState(null),[E,V]=_.useState([]),[K,U]=_.useState({}),[G,ce]=_.useState(0),[ne,de]=_.useState(0),[Ne,fe]=_.useState(null),[se,oe]=_.useState([]),[xe,ye]=_.useState(!1),[ke,Fe]=_.useState({}),[Le,Ce]=_.useState(!1),[M,z]=_.useState(null),[B,b]=_.useState(""),[A,he]=_.useState(null),[I,re]=_.useState(!1),[ie,Y]=_.useState(!1),[ae,ve]=_.useState("Schedule"),[Se,De]=_.useState("");_.useEffect(()=>{let H=!1;return(async()=>{c(!0);const{data:pe}=await W.auth.getUser();H||v(pe.user?.id??null);const{data:be,error:Oe}=await W.from("groups").select("id, host_id, title, purpose, category, capacity, visibility, is_online, online_link, location, created_at").eq("id",a).maybeSingle();if(Oe&&p(Oe.message),H||o(be??null),be?.id){const{count:Ie}=await W.from("group_members").select("*",{count:"exact",head:!0}).eq("group_id",be.id).eq("status","active");H||ce(Ie??0)}c(!1)})(),()=>{H=!0}},[a]),_.useEffect(()=>{let H=!1;return(async()=>{if(!s?.id){oe([]);return}const{data:pe,error:be}=await W.from("group_members").select("user_id, role, created_at, profiles!inner(user_id, name)").eq("group_id",s.id).eq("status","active").order("created_at",{ascending:!0});if(H)return;if(be){oe([]);return}const Oe=(pe??[]).map(me=>({user_id:me.user_id,role:me.role??null,created_at:me.created_at,name:me.profiles?.name??null}));oe(Oe);const Ie=(await W.auth.getUser()).data.user?.id||null;Ie&&ye(Oe.some(me=>me.user_id===Ie)),Ie&&await $t(Oe.map(me=>me.user_id))})(),()=>{H=!0}},[s?.id]),_.useEffect(()=>{let H=!1;return(async()=>{if(!Le||!M){he(null);return}re(!0);const[pe,be,Oe]=await Promise.all([W.from("group_members").select("*",{count:"exact",head:!0}).eq("user_id",M).eq("status","active"),W.from("friendships").select("*",{count:"exact",head:!0}).eq("status","accepted").or(`user_id_a.eq.${M},user_id_b.eq.${M}`),W.from("groups").select("*",{count:"exact",head:!0}).eq("host_id",M)]);H||(he({games:pe.count??0,friends:be.count??0,created:Oe.count??0}),re(!1))})(),()=>{H=!0}},[Le,M]);async function Ve(){if(!s)return;const{data:H}=await W.auth.getUser(),pe=H?.user?.id;if(!pe){p("Please sign in.");return}if(pe===s.host_id){p("Host cannot leave their own group.");return}p(null);const{error:be}=await W.from("group_members").delete().match({group_id:s.id,user_id:pe});if(be){p(be.message);return}const{data:Oe}=await W.from("group_members").select("user_id, role, created_at, profiles!inner(user_id, name)").eq("group_id",s.id).eq("status","active").order("created_at",{ascending:!0}),Ie=(Oe??[]).map(me=>({user_id:me.user_id,role:me.role??null,created_at:me.created_at,name:me.profiles?.name??null}));oe(Ie),ye(!1),p("You left the group.")}async function He(H){if(!s)return;const{data:pe}=await W.auth.getUser(),be=pe?.user?.id;if(!be){p("Please sign in.");return}if(be!==s.host_id){p("Only the host can remove members.");return}if(H===s.host_id){p("Host cannot remove themselves.");return}if(!window.confirm("Remove this member from the group?"))return;p(null);const{error:Ie}=await W.from("group_members").delete().match({group_id:s.id,user_id:H});if(Ie){p(Ie.message);return}oe(me=>me.filter(et=>et.user_id!==H)),ce(me=>Math.max(0,(me||1)-1))}_.useEffect(()=>{let H=!1;return(async()=>{if(!s?.id){L(null),V([]),U({}),de(0);return}const{data:pe,error:be}=await W.from("group_polls").select("*").eq("group_id",s.id).eq("status","open").order("created_at",{ascending:!1}).limit(1);if(H)return;if(be){p(be.message);return}const Oe=pe&&pe[0];if(L(Oe||null),!Oe){V([]),U({}),de(0);return}const{data:Ie}=await W.from("group_poll_options").select("*").eq("poll_id",Oe.id).order("created_at");if(H)return;V(Ie||[]);const{data:me}=await W.from("group_votes").select("option_id,user_id").eq("poll_id",Oe.id);if(H)return;const et={},Ge=new Set;me?.forEach(Pr=>{et[Pr.option_id]=(et[Pr.option_id]||0)+1,Ge.add(Pr.user_id)}),U(et),de(Ge.size)})(),()=>{H=!0}},[s?.id]);async function It(){p(null);const{data:H}=await W.auth.getUser();if(!H.user){p("Please sign in.");return}if(!a){p("Invalid group id");return}const{error:pe}=await W.from("group_members").upsert({group_id:a,user_id:H.user.id,role:"member",status:"active"},{onConflict:"group_id,user_id"});pe?p(pe.message):n(`/group/${a}`)}function rr(H,pe){return H?H.status==="accepted"?"accepted":H.status==="blocked"?"blocked":H.status==="pending"?H.requested_by===pe?"pending_out":"pending_in":"none":"none"}async function $t(H){const pe=(await W.auth.getUser()).data.user;if(!pe)return;const be=H.filter(me=>me!==pe.id);if(be.length===0){Fe({});return}const{data:Oe}=await W.from("friendships").select("user_id_a,user_id_b,status,requested_by").or(be.map(me=>`and(user_id_a.eq.${pe.id},user_id_b.eq.${me}),and(user_id_a.eq.${me},user_id_b.eq.${pe.id})`).join(",")),Ie={};be.forEach(me=>{const et=(Oe??[]).find(Ge=>Ge.user_id_a===pe.id&&Ge.user_id_b===me||Ge.user_id_b===pe.id&&Ge.user_id_a===me);Ie[me]=rr(et,pe.id)}),Fe(Ie)}async function Tr(H){await W.rpc("request_friend",{target_id:H}),await $t([H])}async function Ht(H){await W.rpc("accept_friend",{from_id:H}),await $t([H])}async function ln(H){await W.rpc("remove_friend",{other_id:H}),await $t([H])}function Tt(H,pe){z(H),b(pe),Ce(!0)}async function Ut(){if(!s||!g||!window.confirm("Delete this group? This cannot be undone."))return;p(null);const{error:pe}=await W.from("groups").delete().match({id:s.id,host_id:g});if(pe){p(pe.message);return}n("/browse")}async function un(){if(!s)return;const{data:H}=await W.auth.getUser();if(!H?.user){p("Please sign in."),n("/login");return}if(H.user.id!==s.host_id){p("Only the host can create a vote.");return}ve("Schedule"),De(""),Y(!0)}async function dr(){if(!s)return;const{data:H}=await W.auth.getUser();if(!H?.user){p("Please sign in."),n("/login");return}if(H.user.id!==s.host_id){p("Only the host can create a vote.");return}const{data:pe,error:be}=await W.from("group_polls").insert({group_id:s.id,title:(ae||"Schedule").trim(),created_by:H.user.id}).select("id").single();if(be||!pe?.id){p(be?.message||"Failed to create poll");return}const Oe=(Se||"").split(/\r?\n/).map(me=>me.trim()).filter(Boolean).slice(0,20);if(Oe.length){const me=Oe.map(Ge=>({poll_id:pe.id,label:Ge})),{error:et}=await W.from("group_poll_options").insert(me);if(et){p(et.message);return}}Y(!1),p("Voting created"),window.location.hash="polls",L({id:pe.id,group_id:s.id,title:(ae||"Schedule").trim(),status:"open",closes_at:null,created_by:H.user.id});const{data:Ie}=await W.from("group_poll_options").select("*").eq("poll_id",pe.id).order("created_at");V(Ie||[]),U({}),setTimeout(()=>document.getElementById("polls")?.scrollIntoView({behavior:"smooth"}),0)}async function fr(H){if(!R)return;fe(H);const{data:pe}=await W.auth.getUser(),be=pe?.user?.id;if(!be){p("Please sign in."),n("/login"),fe(null);return}await W.from("group_members").upsert({group_id:R.group_id,user_id:be,role:g===s?.host_id?"host":"member"},{onConflict:"group_id,user_id"});const{error:Oe}=await W.from("group_votes").upsert({poll_id:R.id,option_id:H,user_id:be},{onConflict:"poll_id,user_id"});if(Oe){p(Oe.message),fe(null);return}const{data:Ie}=await W.from("group_votes").select("option_id,user_id").eq("poll_id",R.id),me={},et=new Set;Ie?.forEach(Ge=>{me[Ge.option_id]=(me[Ge.option_id]||0)+1,et.add(Ge.user_id)}),U(me),de(et.size),fe(null)}return l?f.jsx("div",{className:"p-8 grid place-items-center",children:f.jsxs("div",{className:"flex items-center gap-3 text-neutral-600",children:[f.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),f.jsx("span",{children:"Loading…"})]})}):s?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"transition-all duration-300 "+(y&&!j?"mr-[min(92vw,520px)]":""),children:f.jsx("div",{className:"mx-auto max-w-5xl px-4 py-6",children:f.jsxs("div",{className:"grid gap-4 lg:grid-cols-[220px_1fr]",children:[f.jsxs("aside",{className:"order-2 lg:order-1 rounded-2xl border border-black/10 bg-white p-4 h-max shadow",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-sm font-semibold text-neutral-900",children:"Members"}),f.jsx("span",{className:"text-xs text-neutral-600",children:G})]}),f.jsxs("ul",{className:"mt-3 space-y-2",children:[se.map(H=>{const pe=H.user_id===s.host_id,be=H.name??H.user_id.slice(0,6);return f.jsxs("li",{className:"flex items-center justify-between rounded-xl border border-black/10 px-2.5 py-1.5 text-sm bg-neutral-50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-6 w-6 grid place-items-center rounded-full ring-1 ring-black/10 dark:ring-white/10 bg-gradient-to-br from-neutral-100 to-neutral-200 dark:from-neutral-800 dark:to-neutral-700 text-[11px] font-medium",children:be.slice(0,2).toUpperCase()}),f.jsx("button",{onClick:()=>Tt(H.user_id,be),className:"text-neutral-900 underline-offset-2 hover:underline",children:be}),g===s.host_id&&H.user_id!==s.host_id&&f.jsx("button",{onClick:()=>He(H.user_id),className:"ml-1 text-[11px] rounded border border-black/10 px-2 py-0.5 hover:bg-black/5",title:"Remove from group",children:"Remove"})]}),f.jsx("div",{className:"flex items-center gap-2",children:pe&&f.jsx("span",{className:"text-[10px] rounded-full bg-amber-500/15 text-amber-700 px-2 py-0.5",children:"HOST"})})]},H.user_id)}),se.length===0&&f.jsx("li",{className:"text-xs text-neutral-600",children:"No members yet."})]})]}),f.jsxs("div",{className:"order-1 lg:order-2",children:[f.jsxs("div",{className:"rounded-2xl border border-black/10 bg-white p-5 shadow",children:[f.jsxs("div",{className:"mb-3 flex flex-wrap items-start justify-between gap-3",children:[f.jsxs("div",{className:"min-w-0",children:[f.jsxs("div",{className:"mb-1 flex flex-wrap items-center gap-2",children:[f.jsx(Ze,{to:"/browse",className:"text-xs text-neutral-500 hover:underline",children:"Browse"}),f.jsx("span",{className:"text-neutral-300",children:"/"}),f.jsx("span",{className:"text-xs text-neutral-700",children:"Group"}),f.jsx("span",{className:"hidden sm:inline text-neutral-300",children:"·"}),f.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-neutral-100 px-2 py-0.5 text-[11px] font-medium text-neutral-700 dark:bg-neutral-800 dark:text-neutral-300",children:s.category||"Uncategorized"})]}),f.jsx("h1",{className:"truncate text-3xl font-bold tracking-tight text-neutral-900",children:s.title}),f.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Created ",new Date(s.created_at).toLocaleDateString()," • Host: ",se.find(H=>H.user_id===s.host_id)?.name||s.host_id.slice(0,6)]})]}),f.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[f.jsx("button",{onClick:It,className:"rounded-lg bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-700",children:"Join"}),xe&&g!==s.host_id&&f.jsx("button",{onClick:Ve,className:"rounded-lg border border-black/10 bg-white px-3 py-1.5 text-sm font-medium hover:bg-black/[0.04]",children:"Leave"}),f.jsx("button",{onClick:()=>x(!0),className:"rounded-lg border border-black/10 bg-white px-3 py-1.5 text-sm font-medium hover:bg-black/[0.04]",children:"Open Chat"}),g===s.host_id&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:un,className:"rounded-lg bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700",children:"Create Voting"}),f.jsx("button",{onClick:Ut,className:"rounded-lg bg-red-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-red-700",children:"Delete"})]})]})]}),f.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-neutral-900",children:"About"}),f.jsx("p",{className:"mt-1 text-sm text-neutral-700 whitespace-pre-wrap",children:s.purpose||"No description yet."})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-neutral-700",children:[f.jsxs("div",{children:["Capacity: ",f.jsx("span",{className:"font-medium text-neutral-900",children:s.capacity})]}),f.jsxs("div",{children:["Visibility: ",f.jsx("span",{className:"font-medium text-neutral-900",children:s.visibility||"private"})]}),f.jsxs("div",{children:["Format: ",f.jsx("span",{className:"font-medium text-neutral-900",children:s.is_online?"Online":"In person"})]}),s.is_online&&s.online_link&&f.jsxs("div",{className:"col-span-2 truncate",children:["Link: ",f.jsx("a",{className:"text-emerald-600 hover:underline",href:s.online_link??"#",target:"_blank",rel:"noreferrer",children:s.online_link})]}),!s.is_online&&s.location&&f.jsxs("div",{className:"col-span-2",children:["Location: ",f.jsx("span",{className:"font-medium text-neutral-900",children:s.location})]})]})]})]}),f.jsxs("section",{id:"polls",className:"mt-6 rounded-2xl border border-black/10 bg-white p-5 shadow",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-lg font-semibold text-neutral-900",children:"Voting"}),g===s.host_id&&R&&f.jsx("span",{className:"text-xs text-neutral-600",children:"Open"})]}),!R&&f.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"No active voting."}),R&&f.jsxs("div",{className:"mt-3",children:[f.jsx("div",{className:"text-sm text-neutral-700",children:R.title}),f.jsxs("ul",{className:"mt-3 space-y-2",children:[E.map(H=>f.jsxs("li",{className:"flex items-center justify-between rounded-xl border border-black/10 px-3 py-2 bg-neutral-50",children:[f.jsx("div",{children:f.jsx("div",{className:"font-medium text-neutral-900",children:H.label})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"text-xs text-neutral-600",children:[K[H.id]??0," votes"]}),f.jsxs("button",{onClick:()=>fr(H.id),disabled:!!Ne,className:"inline-flex items-center gap-2 rounded-md border px-3 py-1.5 text-sm hover:bg-black/5 disabled:opacity-60 disabled:cursor-not-allowed",children:[Ne===H.id?f.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}):null,"Vote"]})]})]},H.id)),E.length===0&&f.jsx("li",{className:"text-sm text-neutral-600",children:"No options yet."})]}),f.jsxs("div",{className:"mt-3 text-xs text-neutral-600",children:["Voters: ",ne," / Members: ",G]})]})]})]})]})})}),ie&&f.jsxs("div",{className:"fixed inset-0 z-50",children:[f.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Y(!1)}),f.jsxs("div",{className:"absolute left-1/2 top-1/2 w-[min(92vw,600px)] -translate-x-1/2 -translate-y-1/2 rounded-2xl bg-white p-5 shadow-xl dark:bg-neutral-900",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Create Voting"}),f.jsx("label",{className:"mt-3 block text-sm",children:"Title"}),f.jsx("input",{value:ae,onChange:H=>ve(H.target.value),className:"mt-1 w-full rounded border border-black/10 px-3 py-2 text-sm dark:border-white/10 dark:bg-neutral-800 dark:text-gray-100"}),f.jsx("label",{className:"mt-3 block text-sm",children:"Options (one per line)"}),f.jsx("textarea",{value:Se,onChange:H=>De(H.target.value),rows:6,placeholder:`Sat 19:00 @ Tacheles
Sun 18:00 @ Niko Club`,className:"mt-1 w-full rounded border border-black/10 px-3 py-2 text-sm dark:border-white/10 dark:bg-neutral-800 dark:text-gray-100"}),f.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>Y(!1),className:"rounded-md border px-3 py-1.5 text-sm",children:"Cancel"}),f.jsx("button",{onClick:dr,className:"rounded-md bg-emerald-600 px-3 py-1.5 text-sm text-white",children:"Create"})]})]})]}),y&&f.jsx(l0,{groupId:s.id,onClose:()=>{x(!1),O(!1)},full:j,setFull:O}),Le&&M&&f.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:f.jsxs("div",{className:"w-[420px] max-w-[92vw] rounded-2xl border border-black/10 bg-white p-5 shadow-xl",children:[f.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[f.jsx("div",{className:"text-base font-semibold",children:B}),f.jsx("button",{onClick:()=>Ce(!1),className:"rounded-md border px-2 py-1 text-sm",children:"Close"})]}),f.jsxs("div",{className:"space-y-3 text-sm",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsxs("div",{className:"rounded-lg border border-black/10 bg-neutral-50 p-2 text-center",children:[f.jsx("div",{className:"text-[11px] text-neutral-600",children:"Games Played"}),f.jsx("div",{className:"text-lg font-semibold text-neutral-900",children:A?.games??(I?"…":0)})]}),f.jsxs("div",{className:"rounded-lg border border-black/10 bg-neutral-50 p-2 text-center",children:[f.jsx("div",{className:"text-[11px] text-neutral-600",children:"Friends"}),f.jsx("div",{className:"text-lg font-semibold text-neutral-900",children:A?.friends??(I?"…":0)})]}),f.jsxs("div",{className:"rounded-lg border border-black/10 bg-neutral-50 p-2 text-center",children:[f.jsx("div",{className:"text-[11px] text-neutral-600",children:"Groups Created"}),f.jsx("div",{className:"text-lg font-semibold text-neutral-900",children:A?.created??(I?"…":0)})]})]}),ke[M]==="accepted"&&f.jsx("button",{onClick:()=>ln(M),className:"w-full rounded-md border px-3 py-2",children:"Unfriend"}),ke[M]==="none"&&f.jsx("button",{onClick:()=>Tr(M),className:"w-full rounded-md bg-emerald-600 px-3 py-2 text-white",children:"Add friend"}),ke[M]==="pending_out"&&f.jsx("div",{children:"Request sent."}),ke[M]==="pending_in"&&f.jsx("button",{onClick:()=>Ht(M),className:"w-full rounded-md bg-emerald-600 px-3 py-2 text-white",children:"Accept request"})]})]})})]}):f.jsx("div",{className:"p-6",children:"Group not found."})}function l0({groupId:a,onClose:n,full:s,setFull:o}){const[l,c]=_.useState([]),[h,p]=_.useState(""),[g,v]=_.useState(!1),[y,x]=_.useState(null),j=_.useRef(null),[O,R]=_.useState({}),[L,E]=_.useState(null),[V,K]=_.useState(""),[U,G]=_.useState(!0),[ce,ne]=_.useState({}),de=_.useRef(null);_.useEffect(()=>{(async()=>{const{data:fe}=await W.auth.getUser(),se=fe.user?.id??null;if(E(se),se){const{data:oe}=await W.from("profiles").select("name").eq("user_id",se).maybeSingle();K(oe?.name||se.slice(0,6))}})()},[]),_.useEffect(()=>{let fe=!1;return G(!0),(async()=>{const{data:se,error:oe}=await W.from("group_messages").select("id, group_id, user_id, content, created_at").eq("group_id",a).order("created_at",{ascending:!0});if(oe){x(oe.message),G(!1);return}if(fe){G(!1);return}const xe=(se??[]).map(ke=>({id:ke.id,group_id:ke.group_id,user_id:ke.user_id,content:ke.content??"",created_at:ke.created_at}));c(xe);const ye=Array.from(new Set(xe.map(ke=>ke.user_id)));if(ye.length){const{data:ke}=await W.from("profiles").select("user_id, name").in("user_id",ye),Fe={};(ke??[]).forEach(Le=>{Fe[Le.user_id]=Le.name??null}),fe||R(Fe)}G(!1)})(),()=>{fe=!0}},[a]),_.useEffect(()=>{const fe=W.channel(`grp-msgs-${a}`).on("postgres_changes",{event:"*",schema:"public",table:"group_messages",filter:`group_id=eq.${a}`},se=>{if(se.eventType==="INSERT"){const oe=se.new;c(xe=>[...xe,{id:oe.id,group_id:oe.group_id,user_id:oe.user_id,content:oe.content??"",created_at:oe.created_at}]),O[oe.user_id]||W.from("profiles").select("user_id, name").eq("user_id",oe.user_id).maybeSingle().then(({data:xe})=>{xe&&R(ye=>({...ye,[xe.user_id]:xe.name??null}))})}if(se.eventType==="DELETE"){const oe=se.old;c(xe=>xe.filter(ye=>ye.id!==oe.id))}if(se.eventType==="UPDATE"){const oe=se.new;c(xe=>xe.map(ye=>ye.id===oe.id?{...ye,content:oe.content??""}:ye))}}).on("broadcast",{event:"typing"},({payload:se})=>{const{user_id:oe,name:xe}=se;!oe||oe===L||(ne(ye=>({...ye,[oe]:{name:xe,ts:Date.now()}})),setTimeout(()=>{ne(ye=>{const ke={...ye};return ke[oe]&&Date.now()-ke[oe].ts>2500&&delete ke[oe],ke})},3e3))}).subscribe();return()=>{W.removeChannel(fe)}},[a,L,O]),_.useEffect(()=>{j.current?.scrollTo({top:j.current.scrollHeight,behavior:"smooth"})},[l.length]);async function Ne(fe){fe.preventDefault();const se=h.trim();if(!se)return;v(!0),x(null);const oe=(await W.auth.getUser()).data.user;if(!oe){x("Please sign in"),v(!1);return}const{error:xe}=await W.from("group_messages").insert({group_id:a,user_id:oe.id,content:se});xe?x(xe.message):p(""),v(!1)}return f.jsxs(f.Fragment,{children:[s&&f.jsx("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:n}),f.jsx("div",{className:"fixed right-0 top-0 z-50 h-full transform transition-transform duration-300 "+(s?"w-screen translate-x-0":"w-[min(92vw,520px)] translate-x-0"),children:f.jsxs("div",{className:"flex h-full flex-col overflow-hidden rounded-none border-l border-black/10 bg-white shadow-xl",children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-black/10 bg-white px-3 py-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:n,className:"rounded-md border border-black/10 px-2 py-1 text-sm",children:"Close"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-neutral-900",children:"Group Chat"}),f.jsx("div",{className:"text-[11px] text-neutral-500",children:"Visible to all members"})]})]}),f.jsx("button",{onClick:()=>o(!s),className:"rounded-md border border-black/10 px-2 py-1 text-sm",children:s?"Exit Fullscreen":"Fullscreen"})]}),f.jsxs("div",{ref:j,className:"flex-1 overflow-y-auto bg-neutral-50 px-3 py-3",children:[l.map(fe=>{const se=L&&fe.user_id===L,oe=O[fe.user_id]??fe.user_id.slice(0,6);return f.jsx("div",{className:`mb-2 flex ${se?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-[80%] rounded-2xl px-3 py-2 text-sm ${se?"bg-emerald-600 text-white":"bg-white border border-black/10"}`,children:[!se&&f.jsx("div",{className:"mb-0.5 text-[11px] font-medium text-neutral-600",children:oe}),f.jsx("div",{className:"whitespace-pre-wrap break-words",children:fe.content}),f.jsx("div",{className:`mt-1 text-[10px] ${se?"text-emerald-50/80":"text-neutral-500"}`,children:new Date(fe.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},fe.id)}),l.length===0&&!U&&f.jsx("div",{className:"text-center text-sm text-neutral-500",children:"No messages yet. Say hi 👋"}),U&&f.jsx("div",{className:"flex justify-center py-6 text-neutral-400",children:f.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})})]}),Object.keys(ce).length>0&&f.jsxs("div",{className:"px-3 py-1 text-[11px] text-neutral-500",children:[Object.values(ce).map(fe=>fe.name).join(", ")," typing…"]}),f.jsxs("form",{onSubmit:Ne,className:"border-t border-black/10 bg-white px-3 py-2",children:[f.jsxs("div",{className:"flex items-end gap-2",children:[f.jsx("textarea",{value:h,onChange:fe=>p(fe.target.value),onInput:()=>{if(!L)return;const fe=Date.now();de.current&&fe-de.current<800||(de.current=fe,W.channel(`grp-msgs-${a}`).send({type:"broadcast",event:"typing",payload:{user_id:L,name:V}}))},placeholder:"Type a message…",rows:1,onKeyDown:fe=>{fe.key==="Enter"&&!fe.shiftKey&&(fe.preventDefault(),fe.currentTarget.form?.requestSubmit())},className:"min-h-[40px] max-h-40 flex-1 resize-none rounded-lg border border-black/10 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-500"}),f.jsx("button",{type:"submit",disabled:!h.trim()||g||U,className:"rounded-lg bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-50",children:g||U?f.jsxs("span",{className:"inline-flex items-center gap-2",children:[f.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a 8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Sending…"]}):"Send"})]}),y&&f.jsx("div",{className:"mt-1 text-xs text-red-600",children:y})]})]})})]})}function eh(a){const n=new Date(a),s=Math.floor((Date.now()-n.getTime())/1e3);if(s<60)return`${s}s`;const o=Math.floor(s/60);if(o<60)return`${o}m`;const l=Math.floor(o/60);return l<24?`${l}h`:`${Math.floor(l/24)}d`}function u0(){const[a,n]=_.useState(null),[s,o]=_.useState(null),[l,c]=_.useState(""),[h,p]=_.useState(!1),[g,v]=_.useState(""),[y,x]=_.useState(""),[j,O]=_.useState("UTC"),[R,L]=_.useState(""),[E,V]=_.useState(null),[K,U]=_.useState(!1),[G,ce]=_.useState(0),[ne,de]=_.useState(0),[Ne,fe]=_.useState([]),[se,oe]=_.useState("created"),[xe,ye]=_.useState(0),[ke,Fe]=_.useState([]),[Le,Ce]=_.useState(!1),[M,z]=_.useState([]),B=_.useMemo(()=>{if(se==="created")return M;if(se==="joined")return Ne;const C=new Map;for(const J of M)J?.id&&C.set(J.id,J);for(const J of Ne)J?.id&&!C.has(J.id)&&C.set(J.id,J);return Array.from(C.values())},[se,M,Ne]),b=_.useMemo(()=>{if(se==="created")return G;if(se==="joined")return ne;const C=new Set;return M.forEach(J=>J?.id&&C.add(J.id)),Ne.forEach(J=>J?.id&&C.add(J.id)),C.size},[se,G,ne,M,Ne]),A=_.useMemo(()=>(l||s||"?").slice(0,2).toUpperCase(),[l,s]),[he,I]=_.useState(!0),[re,ie]=_.useState(null),[Y,ae]=_.useState(null),[ve,Se]=_.useState(!1),[De,Ve]=_.useState(null),[He,It]=_.useState([]),[rr,$t]=_.useState(""),Tr=_.useRef(null),[Ht,ln]=_.useState([]),[Tt,Ut]=_.useState(""),[un,dr]=_.useState(!1),[fr,H]=_.useState(!0),pe=_.useRef(null),[be,Oe]=_.useState(!1),Ie=_.useRef(null),[me,et]=_.useState([]),[Ge,Pr]=_.useState([]),[$o,Uo]=_.useState([]),[Dt,cn]=_.useState(new Map),nr=_.useMemo(()=>{const C=new Map;if(Ht.forEach(Te=>C.set(Te.other_id,Te)),!a)return Ht;const J=[...Ht];return me.map(Te=>Te.user_id_a===a?Te.user_id_b:Te.user_id_a).forEach(Te=>{if(C.has(Te))return;const kt=Dt.get(Te);J.push({other_id:Te,name:kt?.name&&kt.name.trim()?kt.name:Te.slice(0,6),avatar_url:kt?.avatar_url??null,last_body:"",last_at:new Date(0).toISOString(),last_from_me:!1,unread:!1})}),J.sort((Te,kt)=>kt.last_at>Te.last_at?1:kt.last_at<Te.last_at?-1:0),J},[Ht,me,Dt,a]),Ln=_.useMemo(()=>a?me.map(J=>J.user_id_a===a?J.user_id_b:J.user_id_a).map(J=>({id:J,name:Dt.get(J)?.name||J.slice(0,6),avatar_url:Dt.get(J)?.avatar_url??null})):[],[me,Dt,a]),[bs,hr]=_.useState(!1),[pt,vi]=_.useState(null),[Ss,yi]=_.useState(""),[js,wi]=_.useState(null),[pr,dn]=_.useState("none");_.useEffect(()=>{Tr.current?.scrollIntoView({behavior:"smooth"})},[He.length]),_.useEffect(()=>{function C(J){const we=J.target;be&&Ie.current&&!Ie.current.contains(we)&&Oe(!1),fr&&pe.current&&!pe.current.contains(we)&&H(!1)}return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[be,fr]);async function sr(C){if(!a)return;dr(!1),Ve(null),Se(!0),It([]),ae(C);const{data:J}=await W.from("direct_messages").select("id,from_id,to_id,body,created_at").or(`and(from_id.eq.${a},to_id.eq.${C}),and(from_id.eq.${C},to_id.eq.${a})`).order("created_at",{ascending:!0}).limit(200);It(J??[]),Se(!1)}async function Or(C){const{data:J}=await W.from("friendships").select("id,user_id_a,user_id_b,status,requested_by").or(`user_id_a.eq.${C},user_id_b.eq.${C}`).eq("status","accepted");et(J??[]);const{data:we}=await W.from("friendships").select("id,user_id_a,user_id_b,status,requested_by").or(`user_id_a.eq.${C},user_id_b.eq.${C}`).eq("status","pending").neq("requested_by",C);Pr(we??[]);const{data:Te}=await W.from("friendships").select("id,user_id_a,user_id_b,status,requested_by").eq("requested_by",C).eq("status","pending");Uo(Te??[])}async function Rr(C){if(!a)return;vi(C);const{data:J}=await W.from("profiles").select("user_id,name,avatar_url").eq("user_id",C).maybeSingle();yi(J?.name??C.slice(0,6)),wi(J?.avatar_url??null);const{data:we}=await W.from("friendships").select("id,user_id_a,user_id_b,status,requested_by").or(`and(user_id_a.eq.${a},user_id_b.eq.${C}),and(user_id_a.eq.${C},user_id_b.eq.${a})`).limit(1).maybeSingle();let Te="none";we&&(we.status==="accepted"?Te="accepted":we.status==="blocked"?Te="blocked":we.status==="pending"&&(Te=we.requested_by===a?"pending_out":"pending_in")),dn(Te),hr(!0)}async function Do(C){await W.rpc("request_friend",{target_id:C}),a&&await Or(a),dn("pending_out")}async function mr(C){await W.rpc("accept_friend",{from_id:C}),a&&await Or(a),pt===C&&dn("accepted")}async function Lr(C){await W.rpc("remove_friend",{other_id:C}),a&&await Or(a),pt===C&&dn("none")}const gr=_.useMemo(()=>{if(!Y)return{name:"",avatar:null};const C=nr.find(we=>we.other_id===Y);if(C)return{name:C.name,avatar:C.avatar_url};const J=Dt.get(Y);return{name:J?.name||Y.slice(0,6),avatar:J?.avatar_url??null}},[Y,nr,Dt]);async function Es(){if(!a)return;V(null);const{data:C,error:J}=await W.from("profiles").select("name, city, timezone, interests").eq("user_id",a).maybeSingle();if(J){V(J.message),p(!0);return}v(C?.name??""),x(C?.city??""),O(C?.timezone??"UTC");const we=Array.isArray(C?.interests)?C.interests:[];L(we.join(", ")),p(!0)}async function Mo(C){if(C&&C.preventDefault(),!!a){V(null),U(!0);try{const J=g.trim(),we=y.trim(),Te=j.trim()||"UTC",kt=R.split(",").map(An=>An.trim()).filter(Boolean),{error:fn}=await W.from("profiles").update({name:J,city:we,timezone:Te,interests:kt}).eq("user_id",a);if(fn)throw fn;c(J),V("Saved."),p(!1)}catch(J){V(J?.message||"Failed to save")}finally{U(!1)}}}async function zo(){try{await W.auth.signOut(),localStorage.removeItem("onboardingSeen"),window.location.hash="/"}catch(C){console.error("Logout failed:",C),window.location.hash="/"}}_.useEffect(()=>{(async()=>{if(!a){cn(new Map);return}const{data:C,error:J}=await W.rpc("get_my_friend_profiles");if(J){cn(new Map);return}const we=new Map;(C??[]).forEach(Te=>{we.set(Te.user_id,{name:Te.name??"",avatar_url:Te.avatar_url??null})}),cn(we)})()},[a,me.length]),_.useEffect(()=>{let C=!1;return(async()=>{I(!0),ie(null);const{data:J}=await W.auth.getUser(),we=J?.user?.id||null,Te=J?.user?.email||null;if(!we){I(!1),ie("Please sign in.");return}if(C)return;n(we),o(Te);const[kt,fn,An]=await Promise.all([W.from("profiles").select("name, city, timezone, interests").eq("user_id",we).maybeSingle(),W.from("groups").select("*",{count:"exact",head:!0}).eq("host_id",we),W.from("group_members").select("*",{count:"exact",head:!0}).eq("user_id",we)]);if(!C){const ir=kt.data||{};c(ir?.name??""),x(ir?.city??""),O(ir?.timezone??"UTC");const Ns=Array.isArray(ir?.interests)?ir.interests:[];L(Ns.join(", ")),ce(fn.count??0),de(An.count??0),I(!1)}(async()=>{const[ir,Ns]=await Promise.all([W.from("groups").select("id,title,game,category,created_at").eq("host_id",we).order("created_at",{ascending:!1}).limit(10),W.from("group_members").select("created_at, role, groups(id,title,game,category,created_at)").eq("user_id",we).eq("role","host").order("created_at",{ascending:!1}).limit(10)]);if(!C){const qe=ir.data??[],Ke=(Ns.data??[]).map(pn=>pn.groups).filter(Boolean),Ye=[...qe,...Ke],Mt=new Set,Pt=Ye.filter(pn=>!pn?.id||Mt.has(pn.id)?!1:(Mt.add(pn.id),!0)).slice(0,5);z(Pt)}const{data:Fo}=await W.from("group_members").select("created_at, groups(id,title,game,category,created_at)").eq("user_id",we).order("created_at",{ascending:!1}).limit(10);if(!C){const qe=(Fo??[]).map(Ke=>Ke.groups).filter(Boolean);fe(qe.slice(0,5))}const{data:Be}=await W.from("group_members").select("group_id, groups(game)").eq("user_id",we);if(!C){const qe=new Map;(Be??[]).forEach(Ye=>{const Mt=Ye?.groups?.game||"Unknown";qe.set(Mt,(qe.get(Mt)||0)+1)});const Ke=Array.from(qe.entries()).map(([Ye,Mt])=>({game:Ye,count:Mt}));Ke.sort((Ye,Mt)=>Mt.count-Ye.count||Ye.game.localeCompare(Mt.game)),Fe(Ke),ye((Be??[]).length)}const{data:Bo}=await W.from("direct_messages").select("id,from_id,to_id,body,created_at").or(`from_id.eq.${we},to_id.eq.${we}`).order("created_at",{ascending:!1}).limit(100),Ar=new Map;(Bo??[]).forEach(qe=>{const Ke=qe.from_id===we?qe.to_id:qe.from_id;Ar.has(Ke)||Ar.set(Ke,{last_body:qe.body,last_at:qe.created_at,last_from_me:qe.from_id===we})});const In=Array.from(Ar.keys());let hn=new Map;if(In.length){const{data:qe}=await W.from("profiles").select("user_id,name,avatar_url").in("user_id",In);(qe??[]).forEach(Ke=>{hn.set(Ke.user_id,{name:Ke.name??"",avatar_url:Ke.avatar_url??null})})}const qo=In.map(qe=>{const Ke=Ar.get(qe),Ye=hn.get(qe)||{name:"",avatar_url:null};return{other_id:qe,name:Ye.name||qe.slice(0,6),avatar_url:Ye.avatar_url??null,last_body:Ke.last_body,last_at:Ke.last_at,last_from_me:Ke.last_from_me,unread:!Ke.last_from_me}});C||ln(qo),C||await Or(we)})()})(),()=>{C=!0}},[]);async function xi(){if(!a||!Y||!rr.trim())return;const C=rr.trim();$t("");const{data:J,error:we}=await W.from("direct_messages").insert({from_id:a,to_id:Y,body:C}).select("id,from_id,to_id,body,created_at").single();if(we){Ve(we.message);return}It(Te=>[...Te,J])}return he?f.jsx("div",{className:"mx-auto max-w-4xl px-4 py-8 text-sm text-neutral-600",children:"Loading…"}):re?f.jsx("div",{className:"mx-auto max-w-4xl px-4 py-8 text-sm text-red-600",children:re}):f.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-6",children:[f.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_360px]",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[f.jsx("div",{className:"grid h-16 w-16 place-content-center rounded-full bg-emerald-100 text-emerald-800 ring-1 ring-emerald-300/60",children:f.jsx("span",{className:"text-2xl font-semibold tracking-wide",children:A})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-lg font-semibold text-neutral-900",children:l||s}),f.jsx("div",{className:"text-sm text-neutral-600",children:s}),f.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[f.jsx(Ze,{to:"/browse?created=1",className:"rounded-md border border-black/10 bg-white px-3 py-1.5 text-sm hover:bg-black/[0.04]",children:"Created"}),f.jsxs("div",{ref:Ie,className:"relative",children:[f.jsxs("button",{onClick:()=>Oe(C=>!C),className:"ml-2 inline-flex items-center gap-2 rounded-md border border-black/10 bg-white px-2 py-1.5 text-sm hover:bg-black/[0.04]",children:[f.jsx("span",{children:"Notifications"}),f.jsx("span",{className:"rounded-full bg-emerald-600 px-2 py-0.5 text-white text-xs",children:Ge.length})]}),be&&f.jsxs("div",{className:"absolute right-0 z-50 mt-1 w-80 rounded-md border border-black/10 bg-white p-2 shadow-xl",children:[f.jsx("div",{className:"mb-1 text-xs font-medium text-neutral-700",children:"Recent activity"}),f.jsxs("ul",{className:"max-h-64 overflow-y-auto divide-y",children:[Ge.length>0&&f.jsxs("li",{className:"py-2",children:[f.jsx("div",{className:"mb-1 text-sm font-medium text-neutral-900",children:"Friend requests"}),f.jsx("ul",{className:"space-y-1",children:Ge.slice(0,5).map(C=>{const J=C.user_id_a===a?C.user_id_b:C.user_id_a,we=Dt.get(J)?.name||J.slice(0,6);return f.jsxs("li",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-neutral-800",children:we}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>mr(J),className:"rounded border border-black/10 px-2 py-0.5 text-xs",children:"Accept"}),f.jsx("button",{onClick:()=>Lr(J),className:"rounded border border-black/10 px-2 py-0.5 text-xs",children:"Decline"})]})]},C.id)})})]}),Ht.filter(C=>!C.last_from_me).slice(0,5).map(C=>f.jsxs("li",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{className:"min-w-0 pr-2",children:[f.jsx("div",{className:"truncate text-sm font-medium text-neutral-900",children:C.name}),f.jsx("div",{className:"truncate text-xs text-neutral-600",children:C.last_body})]}),f.jsx("button",{onClick:()=>sr(C.other_id),className:"shrink-0 rounded-md border border-black/10 px-2 py-0.5 text-xs",children:"Open"})]},C.other_id)),Ge.length===0&&Ht.filter(C=>!C.last_from_me).length===0&&f.jsx("li",{className:"py-2 text-xs text-neutral-600",children:"Nothing new"})]})]})]}),f.jsx("button",{onClick:Es,className:"ml-2 rounded-md border border-black/10 bg-white px-3 py-1.5 text-sm hover:bg-black/[0.04]",children:"Settings"}),f.jsx(Ze,{to:"/create",className:"ml-2 rounded-md bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-700",children:"Create Groups"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4",children:[f.jsx(bf,{label:"Groups Created",value:G,to:"/browse?created=1"}),f.jsx(bf,{label:"Games Played",value:xe,onClick:()=>Ce(!0)})]}),Ge.length>0&&f.jsxs("div",{className:"rounded-xl border border-black/10 bg-white p-4 shadow-sm",children:[f.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[f.jsx("h3",{className:"text-base font-medium text-neutral-900",children:"Friend Requests"}),f.jsx("span",{className:"text-xs text-neutral-600",children:Ge.length})]}),f.jsx("ul",{className:"divide-y",children:Ge.map(C=>{const J=C.user_id_a===a?C.user_id_b:C.user_id_a;return f.jsxs("li",{className:"flex items-center justify-between py-2",children:[f.jsx("div",{className:"text-sm text-neutral-800",children:J}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>mr(J),className:"rounded-md bg-emerald-600 px-3 py-1.5 text-sm text-white",children:"Accept"}),f.jsx("button",{onClick:()=>Lr(J),className:"rounded-md border border-black/10 bg-white px-3 py-1.5 text-sm",children:"Decline"})]})]},C.id)})})]}),f.jsxs("section",{className:"mt-8 space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-neutral-600",children:"Show:"}),f.jsxs("div",{className:"inline-flex rounded-lg border border-black/10 bg-white p-0.5",children:[f.jsx("button",{onClick:()=>oe("created"),className:`px-3 py-1.5 text-sm rounded-md ${se==="created"?"bg-neutral-900 text-white":"hover:bg-black/[0.04]"}`,children:"Created"}),f.jsx("button",{onClick:()=>oe("joined"),className:`px-3 py-1.5 text-sm rounded-md ${se==="joined"?"bg-neutral-900 text-white":"hover:bg-black/[0.04]"}`,children:"Joined"}),f.jsx("button",{onClick:()=>oe("all"),className:`px-3 py-1.5 text-sm rounded-md ${se==="all"?"bg-neutral-900 text-white":"hover:bg-black/[0.04]"}`,children:"All"})]})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[f.jsx(Sf,{title:se==="created"?"Created by me":se==="joined"?"Joined":"All my groups",count:b,empty:"No groups yet.",children:B.map(C=>f.jsx(c0,{id:C.id,title:C.title,meta:[C.category||"–",C.game||""].filter(Boolean).join(" · ")},C.id))}),f.jsx(Sf,{title:"Friends",count:nr.length,empty:"No friends yet.",children:nr.map(C=>f.jsx(d0,{_otherId:C.other_id,name:C.name,avatarUrl:C.avatar_url,lastBody:C.last_body,lastAt:C.last_at,unread:C.unread,onOpen:()=>sr(C.other_id),onView:()=>Rr(C.other_id)},C.other_id))})]})]})]}),fr&&f.jsxs("aside",{ref:pe,className:"rounded-2xl border border-black/10 bg-white p-4 shadow-sm h-max sticky top-4",children:[!Y&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-3 relative",children:[f.jsx("input",{value:Tt,onChange:C=>{Ut(C.target.value),dr(!0)},onFocus:()=>dr(!0),onBlur:()=>setTimeout(()=>dr(!1),120),placeholder:"Search friends…",className:"w-full rounded-md border border-black/10 px-3 py-2 text-sm"}),un&&Tt.trim().length>0&&f.jsx("div",{className:"absolute z-10 mt-1 w-full overflow-hidden rounded-md border border-black/10 bg-white shadow",children:f.jsxs("ul",{children:[Ln.filter(C=>C.name.toLowerCase().includes(Tt.toLowerCase())).slice(0,8).map(C=>f.jsxs("li",{className:"flex items-center justify-between gap-2 px-2 py-2 hover:bg-black/[0.03]",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-8 w-8 rounded-full bg-neutral-200 grid place-items-center text-[11px] font-medium overflow-hidden",children:C.avatar_url?f.jsx("img",{src:C.avatar_url,alt:"",className:"h-8 w-8 rounded-full object-cover"}):C.name.slice(0,2).toUpperCase()}),f.jsx("div",{className:"text-sm text-neutral-900",children:C.name})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onMouseDown:J=>J.preventDefault(),onClick:()=>{Ut(""),sr(C.id)},className:"rounded-md border border-black/10 bg-white px-2 py-1 text-xs hover:bg-black/[0.04]",children:"Chat"}),f.jsx("button",{onMouseDown:J=>J.preventDefault(),onClick:()=>{Ut(""),Rr(C.id)},className:"rounded-md bg-emerald-600 px-2 py-1 text-xs text-white hover:bg-emerald-700",children:"View"})]})]},C.id)),Ln.filter(C=>C.name.toLowerCase().includes(Tt.toLowerCase())).length===0&&f.jsx("li",{className:"px-2 py-2 text-xs text-neutral-600",children:"No matches"})]})})]}),f.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:f.jsxs("ul",{children:[nr.filter(C=>C.name.toLowerCase().includes(Tt.toLowerCase())).map(C=>f.jsxs("li",{className:"flex items-center justify-between gap-2 px-1 py-2 hover:bg-black/[0.03] rounded cursor-pointer",onClick:()=>sr(C.other_id),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-10 w-10 rounded-full bg-neutral-200 grid place-items-center text-sm font-medium overflow-hidden",children:C.avatar_url?f.jsx("img",{src:C.avatar_url,alt:"",className:"h-10 w-10 rounded-full object-cover"}):C.name.slice(0,2).toUpperCase()}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-neutral-900",children:C.name}),f.jsxs("div",{className:"text-xs text-neutral-600 truncate max-w-[180px]",children:[C.last_from_me?"You: ":"",C.last_body]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] text-neutral-500",children:eh(C.last_at)}),C.unread&&f.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-600"})]})]},C.other_id)),nr.length===0&&f.jsx("li",{className:"px-1 py-2 text-xs text-neutral-600",children:"No conversations yet."})]})})]}),Y&&f.jsxs("div",{className:"flex h-[70vh] flex-col",children:[f.jsxs("div",{className:"mb-2 flex items-center gap-3 border-b border-black/10 pb-2",children:[f.jsx("button",{onClick:()=>ae(null),className:"rounded-md border border-black/10 px-2 py-1 text-sm",children:"Back"}),f.jsx("div",{className:"h-9 w-9 rounded-full bg-neutral-200 grid place-items-center text-xs font-medium overflow-hidden",children:gr.avatar?f.jsx("img",{src:gr.avatar,alt:"",className:"h-9 w-9 rounded-full object-cover"}):gr.name.slice(0,2).toUpperCase()}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-neutral-900",children:gr.name}),f.jsx("div",{className:"text-[11px] text-neutral-500",children:"Direct message"})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto rounded-md border border-black/10 p-3 text-sm",children:[ve&&f.jsx("div",{className:"text-neutral-600",children:"Loading…"}),De&&f.jsx("div",{className:"mb-2 rounded border border-red-200 bg-red-50 px-2 py-1 text-red-700",children:De}),!ve&&He.length===0&&f.jsx("div",{className:"text-neutral-600",children:"Say hi 👋"}),!ve&&He.map(C=>f.jsx("div",{className:`mb-2 flex ${C.from_id===a?"justify-end":"justify-start"}`,children:f.jsx("div",{className:`max-w-[85%] rounded-lg px-3 py-1.5 ${C.from_id===a?"bg-emerald-600 text-white":"bg-neutral-100"}`,children:C.body})},C.id)),f.jsx("div",{ref:Tr})]}),f.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[f.jsx("input",{value:rr,onChange:C=>$t(C.target.value),onKeyDown:C=>{C.key==="Enter"&&xi()},placeholder:"Type a message…",className:"w-full rounded-md border border-black/10 px-3 py-2 text-sm"}),f.jsx("button",{onClick:xi,className:"rounded-md bg-emerald-600 px-3 py-2 text-sm text-white",children:"Send"})]})]})]}),!fr&&f.jsx("button",{onClick:()=>H(!0),className:"fixed bottom-4 right-4 z-40 rounded-full border border-black/10 bg-white px-4 py-2 text-sm shadow hover:bg-black/[0.04]",children:"Open Chat"})]}),Le&&f.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:f.jsxs("div",{className:"w-[560px] max-w-[92vw] rounded-2xl border border-black/10 bg-white p-5 shadow-xl",children:[f.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[f.jsx("div",{className:"text-base font-semibold text-neutral-900",children:"Games Played"}),f.jsx("button",{type:"button",onClick:()=>Ce(!1),className:"rounded-md border border-black/10 px-2 py-1 text-sm",children:"Close"})]}),f.jsxs("div",{className:"mb-2 text-sm text-neutral-700",children:["Total sessions joined: ",f.jsx("span",{className:"font-medium text-neutral-900",children:xe})]}),f.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:ke.length===0?f.jsx("div",{className:"text-sm text-neutral-600",children:"No games yet."}):f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-left text-neutral-500",children:[f.jsx("th",{className:"py-1 pr-2",children:"Game"}),f.jsx("th",{className:"py-1 pr-2",children:"Times"}),f.jsx("th",{className:"py-1 pr-2",children:"Share"})]})}),f.jsx("tbody",{children:ke.map(C=>{const J=xe>0?Math.round(C.count/xe*100):0;return f.jsxs("tr",{className:"border-t border-black/5",children:[f.jsx("td",{className:"py-1 pr-2 text-neutral-900",children:C.game}),f.jsx("td",{className:"py-1 pr-2",children:C.count}),f.jsxs("td",{className:"py-1 pr-2 text-neutral-600",children:[J,"%"]})]},C.game)})})]})})]})}),h&&f.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:f.jsxs("form",{onSubmit:Mo,className:"w-[560px] max-w-[92vw] rounded-2xl border border-black/10 bg-white p-5 shadow-xl",children:[f.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[f.jsx("div",{className:"text-base font-semibold text-neutral-900",children:"Edit Profile"}),f.jsx("button",{type:"button",onClick:()=>p(!1),className:"rounded-md border border-black/10 px-2 py-1 text-sm",children:"Close"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-sm font-medium text-neutral-800",children:"Name"}),f.jsx("input",{value:g,onChange:C=>v(C.target.value),className:"w-full rounded-md border border-black/10 px-3 py-2 text-sm",placeholder:"Your name",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-sm font-medium text-neutral-800",children:"City"}),f.jsx("input",{value:y,onChange:C=>x(C.target.value),className:"w-full rounded-md border border-black/10 px-3 py-2 text-sm",placeholder:"City"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-sm font-medium text-neutral-800",children:"Timezone"}),f.jsx("input",{value:j,onChange:C=>O(C.target.value),className:"w-full rounded-md border border-black/10 px-3 py-2 text-sm",placeholder:"e.g., Europe/Berlin"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"mb-1 block text-sm font-medium text-neutral-800",children:"Interests"}),f.jsx("input",{value:R,onChange:C=>L(C.target.value),className:"w-full rounded-md border border-black/10 px-3 py-2 text-sm",placeholder:"comma, separated, tags"}),f.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:"Saved as tags in your profile."})]})]}),E&&f.jsx("div",{className:"mt-3 rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:E}),f.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[f.jsx("button",{type:"button",onClick:zo,className:"rounded-md border border-red-200 bg-red-50 px-3 py-1.5 text-sm text-red-700",children:"Log out"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{type:"button",onClick:()=>p(!1),className:"rounded-md border border-black/10 bg-white px-3 py-1.5 text-sm",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:K,className:`rounded-md px-3 py-1.5 text-sm text-white ${K?"bg-neutral-400":"bg-emerald-600 hover:bg-emerald-700"}`,children:K?"Saving…":"Save"})]})]})]})}),bs&&f.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:f.jsxs("div",{className:"w-[560px] max-w-[92vw] rounded-2xl border border-black/10 bg-white p-5 shadow-xl",children:[f.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-12 w-12 rounded-full bg-neutral-200 grid place-items-center overflow-hidden",children:js?f.jsx("img",{src:js,alt:"",className:"h-12 w-12 rounded-full object-cover"}):f.jsx("span",{className:"text-sm font-medium",children:(Ss||"").slice(0,2).toUpperCase()})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-base font-semibold text-neutral-900",children:Ss}),f.jsx("div",{className:"text-xs text-neutral-600",children:pt})]})]}),f.jsx("button",{onClick:()=>hr(!1),className:"rounded-md border border-black/10 px-2 py-1 text-sm",children:"Close"})]}),f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"rounded-md border border-black/10 p-3 text-sm",children:[f.jsx("div",{className:"mb-2 font-medium text-neutral-800",children:"Friend status"}),pr==="accepted"&&f.jsx("div",{className:"text-emerald-700",children:"Friends"}),pr==="pending_in"&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-neutral-700",children:"Requested you"}),f.jsx("button",{onClick:()=>pt&&mr(pt),className:"rounded-md bg-emerald-600 px-3 py-1.5 text-sm text-white",children:"Accept"})]}),pr==="pending_out"&&f.jsx("div",{className:"text-neutral-700",children:"Request sent"}),pr==="none"&&pt&&f.jsx("button",{onClick:()=>Do(pt),className:"rounded-md bg-emerald-600 px-3 py-1.5 text-sm text-white",children:"Add Friend"}),pr==="accepted"&&pt&&f.jsx("button",{onClick:()=>Lr(pt),className:"ml-2 rounded-md border border-black/10 px-3 py-1.5 text-sm",children:"Remove"})]})})]})})]})}function bf({label:a,value:n,to:s,onClick:o}){const l=f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"text-sm text-neutral-600",children:a}),f.jsx("div",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n})]});return s?f.jsx(Ze,{to:s,className:"rounded-xl border border-black/10 bg-white p-4 shadow-sm hover:shadow",children:l}):f.jsx("button",{onClick:o,className:"w-full rounded-xl border border-black/10 bg-white p-4 text-left shadow-sm hover:shadow",children:l})}function Sf({title:a,count:n,empty:s,children:o}){return f.jsxs("div",{className:"rounded-xl border border-black/10 bg-white p-4 shadow-sm",children:[f.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[f.jsx("h3",{className:"text-base font-medium text-neutral-900",children:a}),f.jsx("span",{className:"text-xs text-neutral-600",children:n})]}),eu.Children.count(o)===0?f.jsx("p",{className:"text-sm text-neutral-600",children:s}):f.jsx("ul",{className:"divide-y",children:o})]})}function c0({id:a,title:n,meta:s}){return f.jsxs("li",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx(Ze,{to:`/group/${a}`,className:"font-medium text-neutral-900 hover:underline",children:n}),f.jsx("div",{className:"text-xs text-neutral-600",children:s})]}),f.jsx(Ze,{to:`/group/${a}`,className:"text-sm text-emerald-700 hover:underline",children:"Open"})]})}function d0({_otherId:a,name:n,avatarUrl:s,lastBody:o,lastAt:l,unread:c,onOpen:h,onView:p}){return f.jsxs("li",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-9 w-9 rounded-full bg-neutral-200 grid place-items-center text-xs font-medium overflow-hidden",children:s?f.jsx("img",{src:s,alt:"",className:"h-9 w-9 rounded-full object-cover"}):n.slice(0,2).toUpperCase()}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-neutral-900",children:n}),f.jsx("div",{className:"text-xs text-neutral-600 truncate max-w-[220px]",children:o})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-[10px] text-neutral-500",children:eh(l)}),c&&f.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-600"}),f.jsx("button",{onClick:p,className:"text-sm text-neutral-700 hover:underline",children:"View"}),f.jsx("button",{onClick:h,className:"text-sm text-emerald-700 hover:underline",children:"Chat"})]})]})}function f0(){const{game:a=""}=ou(),n=(a||"").toLowerCase().replace(/[^a-z0-9]+/g,"").trim(),s=(a||"").replace(/-/g," ").trim(),[o,l]=_.useState([]),[c,h]=_.useState(null),[p,g]=_.useState(!0),[v,y]=_.useState(null),[x,j]=_.useState(new Set),[O,R]=_.useState(null);_.useEffect(()=>{let E=!0;return(async()=>{g(!0);const{data:V,error:K}=await W.from("groups").select("*").eq("game_slug",n).order("created_at",{ascending:!1}).limit(100);E&&(K?h(K.message):l(V??[]),g(!1))})(),()=>{E=!1}},[n]),_.useEffect(()=>{let E=!0;return(async()=>{const{data:V}=await W.auth.getUser(),K=V?.user?.id??null;if(!E)return;if(y(K),!K){j(new Set);return}const{data:U,error:G}=await W.from("group_members").select("group_id").eq("user_id",K);if(E){if(G){j(new Set);return}j(new Set((U??[]).map(ce=>ce.group_id)))}})(),()=>{E=!1}},[]);async function L(E){if(!v){h("Sign in required");return}R(E);const{error:V}=await W.from("group_members").insert({group_id:E,user_id:v,role:"member"});if(V)h(V.message);else{const K=new Set(x);K.add(E),j(K)}R(null)}return f.jsxs("main",{className:"max-w-5xl mx-auto p-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h1",{className:"text-2xl font-semibold",children:["Groups · ",s]}),f.jsx(Ze,{to:"/browse",className:"text-sm underline",children:"Back"})]}),p&&f.jsx("p",{className:"mt-6 text-gray-600",children:"Loading…"}),c&&f.jsxs("p",{className:"mt-6 text-red-600",children:["Load error: ",c]}),!p&&!c&&o.length===0&&f.jsx("p",{className:"mt-6 text-gray-600",children:"No groups found."}),f.jsx("ul",{className:"mt-6 grid gap-4",children:o.map(E=>f.jsxs("li",{className:"border rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-lg font-medium",children:E.name||E.title||E.group_name||"Untitled group"}),f.jsx("span",{className:"text-xs px-2 py-1 rounded border",children:E.is_online?"Online":"In-person"})]}),E.description&&f.jsx("p",{className:"mt-2 text-sm text-gray-700",children:E.description}),f.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Game: ",E.game," · Category: ",E.category,E.city?` · City: ${E.city}`:""]}),E.is_online&&E.online_link&&f.jsx("a",{className:"mt-3 inline-block text-sm underline",href:E.online_link,target:"_blank",rel:"noreferrer",children:"Join link"}),f.jsx("div",{className:"mt-4 flex gap-2",children:x.has(E.id)?f.jsx(Ze,{to:`/group/${E.id}`,className:"rounded-md border px-3 py-1.5 text-sm hover:bg-black/[0.04]",children:"View"}):f.jsx("button",{onClick:()=>L(E.id),disabled:O===E.id,className:"rounded-md bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white disabled:opacity-60",children:O===E.id?"Joining…":"Join"})})]},E.id))})]})}function h0(){const[a,n]=_.useState([]),[s,o]=_.useState(null),[l,c]=_.useState(!0);return _.useEffect(()=>{let h=!0;return(async()=>{const{data:{user:p},error:g}=await W.auth.getUser();if(g||!p){h&&(o("Sign in required"),c(!1));return}const{data:v,error:y}=await W.from("group_members").select("role, groups(*)").eq("user_id",p.id);if(!h)return;if(y){o(y.message),c(!1);return}const x=(v??[]).filter(j=>j.groups).map(j=>({...j.groups,__role:j.role}));n(x),c(!1)})(),()=>{h=!1}},[]),f.jsxs("main",{className:"max-w-5xl mx-auto p-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-semibold",children:"My Groups"}),f.jsx(Ze,{to:"/browse",className:"text-sm underline",children:"Back"})]}),l&&f.jsx("p",{className:"mt-6 text-gray-600",children:"Loading…"}),s&&f.jsx("p",{className:"mt-6 text-red-600",children:s}),!l&&!s&&a.length===0&&f.jsx("p",{className:"mt-6 text-gray-600",children:"You haven’t joined any groups yet."}),f.jsx("ul",{className:"mt-6 grid gap-4",children:a.map(h=>f.jsxs("li",{className:"border rounded-xl p-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ze,{to:`/group/${h.id}`,className:"text-lg font-medium underline-offset-2 hover:underline",children:h.name||h.title||h.group_name||"Untitled group"}),h.__role&&f.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded border",children:h.__role.toLowerCase()==="owner"||h.__role.toLowerCase()==="host"?"Host":"Member"})]}),f.jsx("span",{className:"text-xs px-2 py-1 rounded border",children:h.is_online?"Online":"In-person"})]}),h.description&&f.jsx("p",{className:"mt-2 text-sm text-gray-700",children:h.description}),f.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Game: ",h.game," · Category: ",h.category,h.city?` · City: ${h.city}`:""]})]},h.id))})]})}const p0=_.lazy(()=>_s(()=>import("./Onboarding-Czo5QqrQ.js"),[]));function th(){const[a,n]=_.useState(null),[s,o]=_.useState(!0);return _.useEffect(()=>{let l=!0;W.auth.getUser().then(({data:h})=>{l&&(n(h.user),o(!1))});const{data:{subscription:c}}=W.auth.onAuthStateChange((h,p)=>{n(p?.user??null)});return()=>{l=!1,c.unsubscribe()}},[]),{user:a,loading:s}}function m0(){const{user:a}=th();return f.jsx("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur border-b border-black/5",children:f.jsxs("div",{className:"mx-auto max-w-6xl px-4 h-14 flex items-center justify-between",children:[f.jsxs(Ze,{to:"/onboarding",className:"flex items-center gap-2",children:[f.jsx("span",{className:"grid h-8 w-8 place-items-center rounded-full bg-emerald-700 text-white font-bold",children:"c"}),f.jsx("span",{className:"text-xl font-semibold tracking-tight",children:"Circles"})]}),f.jsxs("nav",{className:"flex items-center gap-3",children:[f.jsx(Ze,{to:"/browse",className:"hidden sm:inline-flex rounded-md px-3 py-2 text-sm border border-black/10 hover:bg-black/[0.04]",children:"Browse"}),a&&f.jsxs(f.Fragment,{children:[f.jsx(Ze,{to:"/create",className:"hidden sm:inline-flex rounded-md px-3 py-2 text-sm border border-black/10 hover:bg-black/[0.04]",children:"Create"}),f.jsx(Ze,{to:"/profile",className:"hidden sm:inline-flex rounded-md px-3 py-2 text-sm border border-black/10 hover:bg-black/[0.04]",children:"Profile"})]}),a?f.jsx(Ze,{to:"/profile",className:"text-xs text-neutral-700 hover:text-neutral-900 underline-offset-2 hover:underline",children:a.email}):f.jsxs(f.Fragment,{children:[f.jsx(Ze,{to:"/#auth",className:"rounded-md px-3 py-2 text-sm border border-black/10 hover:bg-black/[0.04]",children:"Sign In"}),f.jsx(Ze,{to:"/#auth",className:"rounded-md px-3 py-2 text-sm text-white bg-emerald-700 hover:brightness-110",children:"Sign Up"})]})]})]})})}function ps({children:a}){const{user:n,loading:s}=th(),[o,l]=_.useState(!0),[c,h]=_.useState(!1),p=Cr(),g=xs();return _.useEffect(()=>{(async()=>{if(s)return;if(!n){l(!1),h(!1);return}const{data:v,error:y}=await W.from("profiles").select("name").eq("user_id",n.id).maybeSingle();if(y)h(!0);else if(v?.name)h(!0);else{if(p.pathname!=="/profile"){g("/profile",{replace:!0});return}h(!0)}l(!1)})()},[s,n,p.pathname,g]),s||o?null:n?c?f.jsx(f.Fragment,{children:a}):null:f.jsx(pi,{to:"/browse",replace:!0})}function ms({children:a}){const n=Cr();return!(typeof window<"u"&&localStorage.getItem("onboardingSeen")==="1")&&n.pathname!=="/onboarding"?f.jsx(pi,{to:"/onboarding",replace:!0}):f.jsx(f.Fragment,{children:a})}function g0(){const{id:a}=ou();return f.jsx(pi,{to:`/group/${a}`,replace:!0})}class v0 extends eu.Component{constructor(n){super(n),this.state={error:null}}static getDerivedStateFromError(n){return{error:n}}render(){return this.state.error?f.jsx("div",{className:"grid min-h-screen place-items-center p-6",children:f.jsxs("div",{className:"max-w-md text-center",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Something broke"}),f.jsx("p",{className:"text-sm text-neutral-600 break-words mt-2",children:String(this.state.error?.message??this.state.error)}),f.jsx("button",{className:"mt-4 rounded-md border border-black/10 bg-white px-3 py-2 text-sm hover:bg-black/[0.04]",onClick:()=>location.reload(),children:"Reload"})]})}):this.props.children}}function y0(){return f.jsxs(f.Fragment,{children:[f.jsx(m0,{}),f.jsx(v0,{children:f.jsx(_.Suspense,{fallback:f.jsx("div",{className:"grid min-h-screen place-items-center text-sm text-neutral-600",children:"Loading…"}),children:f.jsxs(zm,{children:[f.jsx(Zt,{path:"/",element:f.jsx(pi,{to:"/browse",replace:!0})}),f.jsx(Zt,{path:"/onboarding",element:f.jsx(p0,{})}),f.jsx(Zt,{path:"/browse",element:f.jsx(ms,{children:f.jsx(ps,{children:f.jsx(i0,{})})})}),f.jsx(Zt,{path:"/create",element:f.jsx(ms,{children:f.jsx(ps,{children:f.jsx(r0,{})})})}),f.jsx(Zt,{path:"/group/:id",element:f.jsx(ms,{children:f.jsx(ps,{children:f.jsx(a0,{})})})}),f.jsx(Zt,{path:"/groups/game/:game",element:f.jsx(ms,{children:f.jsx(ps,{children:f.jsx(f0,{})})})}),f.jsx(Zt,{path:"/groups/mine",element:f.jsx(ms,{children:f.jsx(ps,{children:f.jsx(h0,{})})})}),f.jsx(Zt,{path:"/profile",element:f.jsx(ms,{children:f.jsx(ps,{children:f.jsx(u0,{})})})}),f.jsx(Zt,{path:"/groups/:id",element:f.jsx(g0,{})}),f.jsx(Zt,{path:"*",element:f.jsx(pi,{to:"/browse",replace:!0})})]})})})]})}Jp.createRoot(document.getElementById("root")).render(f.jsx(_.StrictMode,{children:f.jsx(Km,{children:f.jsx(y0,{})})}));export{f as j,_ as r,W as s,xs as u};
