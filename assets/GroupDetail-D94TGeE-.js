const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChatPanel-UI4VlRPA.js","assets/index-CckTKZT9.js","assets/react-Dymf0t1b.js","assets/supabase-BesQZUkt.js","assets/index-Cc7FYaoN.css"])))=>i.map(i=>d[i]);
import{c as b,s as o,j as e,U as De,_ as Me}from"./index-CckTKZT9.js";import{f as Ee,i as Pe,u as Oe,c as a,L as Ve}from"./react-Dymf0t1b.js";import{M as $e}from"./map-pin-zQ_LvrTr.js";import{M as Le}from"./message-circle-Bhv2c0-o.js";import{C as qe,X as Y}from"./x-BFxwGkrg.js";import{C as ze}from"./clock-CsogkwUy.js";import{P as Z}from"./plus-C62v9Cj6.js";import"./supabase-BesQZUkt.js";const Te=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ee=b("check",Te);const Ie=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fe=b("chevron-left",Ie);const Ue=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ge=b("log-out",Ue);const Be=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],He=b("pen",Be);const Re=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ae=b("share-2",Re);const We=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Je=b("trash-2",We),Xe=a.lazy(()=>Me(()=>import("./ChatPanel-UI4VlRPA.js"),__vite__mapDeps([0,1,2,3,4])));function lt(){const{id:y=""}=Ee(),z=Pe(),T=Oe(),[s,I]=a.useState(null),[te,F]=a.useState(!0),[Ke,u]=a.useState(null),[m,se]=a.useState(null),[ae,U]=a.useState(!1),x=!!(m&&s&&(m===s.host_id||(s?.creator_id??null)===m)),[G,g]=a.useState(!1),[re,le]=a.useState(!1),[ne,p]=a.useState(!1),[oe,_]=a.useState(!1),[B,k]=a.useState(!1),[C,H]=a.useState(""),[R,A]=a.useState(!1),[ie,W]=a.useState(!1),[de,J]=a.useState(!1),[c,v]=a.useState(null),[ce,S]=a.useState([]),[ue,j]=a.useState({}),[h,D]=a.useState(0),[xe,M]=a.useState(0),[X,w]=a.useState(null),[E,K]=a.useState([]),[P,O]=a.useState(!1),[V,me]=a.useState("Schedule"),[Q,fe]=a.useState(""),[N,he]=a.useState("24h"),[$,pe]=a.useState(""),L=a.useMemo(()=>c?.closes_at?new Date(c.closes_at)<new Date:!1,[c]);function be(t,l){if(t==="closed")return"Voting Closed";if(!l)return"Open";const r=new Date(l).getTime()-Date.now();if(r<=0)return"Time Expired";const i=Math.floor(r/(1e3*60*60*24)),d=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),n=Math.floor(r%(1e3*60*60)/(1e3*60));return i>0?`${i}d ${d}h left`:d>0?`${d}h ${n}m left`:`${n}m left`}a.useEffect(()=>{T.hash==="#chat"&&g(!0)},[T.hash]),a.useEffect(()=>{let t=!1;return(async()=>{F(!0);const{data:l}=await o.auth.getUser();t||se(l.user?.id??null);const r=await o.from("groups").select("*").eq("id",y).maybeSingle();if(t||I(r.data??null),r.data&&H(r.data.purpose||""),r.data?.id){const{count:i}=await o.from("group_members").select("*",{count:"exact",head:!0}).eq("group_id",r.data.id).eq("status","active");t||D(i??0)}F(!1)})(),()=>{t=!0}},[y]),a.useEffect(()=>{let t=!1;return(async()=>{if(!s?.id){K([]);return}const{data:l}=await o.from("group_members").select("user_id, role, created_at, status, group_id, profiles(name, avatar_url)").eq("group_id",s.id).eq("status","active").order("created_at",{ascending:!0}),r=(l??[]).map(d=>({user_id:d.user_id,role:d.role,created_at:d.created_at,group_id:s.id,status:"active",name:d.profiles?.name??"User",avatar_url:d.profiles?.avatar_url??null}));if(t)return;K(r);const i=(await o.auth.getUser()).data.user?.id||null;i&&O(r.some(d=>d.user_id===i))})(),()=>{t=!0}},[s?.id]),a.useEffect(()=>{let t=!1;return(async()=>{if(!s?.id)return;const{data:l}=await o.from("group_polls").select("*").eq("group_id",s.id).order("created_at",{ascending:!1}).limit(1);if(t)return;const r=l&&l[0];if(v(r||null),!r){S([]),j({}),M(0);return}const{data:i}=await o.from("group_poll_options").select("*").eq("poll_id",r.id).order("created_at");if(t)return;S(i||[]);const{data:d}=await o.from("group_votes").select("option_id,user_id").eq("poll_id",r.id);if(t)return;const n={},f=new Set;d?.forEach(q=>{n[q.option_id]=(n[q.option_id]||0)+1,f.add(q.user_id)}),j(n),M(f.size)})(),()=>{t=!0}},[s?.id]);async function ge(){const{data:t}=await o.auth.getUser();if(!t.user){u("Please sign in.");return}await o.from("group_members").insert({group_id:y,user_id:t.user.id}),O(!0),D(l=>l+1)}async function ve(){if(!(!s||!m)){if(m===s.host_id){u("Host cannot leave their own group.");return}await o.from("group_members").delete().match({group_id:s.id,user_id:m}),O(!1),D(t=>Math.max(0,t-1))}}async function je(){s?.code&&(navigator.clipboard.writeText(s.code),U(!0),setTimeout(()=>U(!1),1500))}async function we(){if(s?.id){W(!0);try{const{data:t,error:l}=await o.rpc("make_group_invite",{p_group_id:s.id,p_hours:168,p_max_uses:null});if(l)throw l;const r=`${window.location.origin}/invite/${t}`;await navigator.clipboard.writeText(r),J(!0),setTimeout(()=>J(!1),1500)}catch(t){u(t.message)}finally{W(!1)}}}async function Ne(){!s||!m||window.confirm("Delete this group?")&&(await o.from("groups").delete().match({id:s.id,host_id:m}),z("/browse"))}async function ye(){if(!(!s||!x)){A(!0);try{const{error:t}=await o.from("groups").update({purpose:C}).eq("id",s.id);if(t)throw t;I(l=>l?{...l,purpose:C}:null),k(!1)}catch(t){u(t.message||"Failed to save description")}finally{A(!1)}}}async function _e(){if(!s||!x)return;const{data:t}=await o.auth.getUser();if(!t?.user)return;let l=null;if(N==="custom")$&&(l=new Date($).toISOString());else{const n=new Date,f=parseInt(N);n.setTime(n.getTime()+f*60*60*1e3),l=n.toISOString()}const r=(Q||"").split(/\r?\n/).map(n=>n.trim()).filter(Boolean).slice(0,20);r.some(n=>n.toLowerCase()==="not coming")||r.push("Not Coming");const{data:i,error:d}=await o.from("group_polls").insert({group_id:s.id,title:(V||"Schedule").trim(),created_by:t.user.id,closes_at:l}).select("id").single();if(d||!i?.id){console.error(d),u("Failed to create poll. Check permissions.");return}if(r.length){const n=r.map(f=>({poll_id:i.id,label:f}));await o.from("group_poll_options").insert(n)}p(!1),u("Voting created"),v({id:i.id,group_id:s.id,title:V,status:"open",closes_at:l,created_by:t.user.id}),S(r.map((n,f)=>({id:`temp-${f}`,poll_id:i.id,label:n,starts_at:null,place:null}))),j({})}async function ke(){if(!(!c||!x)&&window.confirm("End voting? Everyone who hasn't voted will be marked as 'Not Coming'.")){w("closing");try{await o.rpc("resolve_poll",{p_poll_id:c.id}),v(t=>t&&{...t,status:"closed"}),u("Poll finalized.")}catch(t){u(t.message)}finally{w(null)}}}async function Ce(){if(!c||!window.confirm("Delete this voting?"))return;const{error:t}=await o.from("group_polls").delete().eq("id",c.id);t?(u("Could not delete. Check database permissions."),console.error(t)):(v(null),u("Poll deleted."))}async function Se(t){if(!c||L||c.status==="closed")return;w(t);const{data:l}=await o.auth.getUser();if(!l?.user){z("/login");return}await o.from("group_votes").upsert({poll_id:c.id,option_id:t,user_id:l.user.id},{onConflict:"poll_id,user_id"});const{data:r}=await o.from("group_votes").select("option_id,user_id").eq("poll_id",c.id),i={},d=new Set;r?.forEach(n=>{i[n.option_id]=(i[n.option_id]||0)+1,d.add(n.user_id)}),j(i),M(d.size),w(null)}return te?e.jsx("div",{className:"p-20 flex justify-center",children:e.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-neutral-300 border-t-black rounded-full"})}):s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"transition-all duration-300 min-h-screen bg-[#FDFBF7] pb-24 "+(G&&!re?"lg:mr-[min(92vw,520px)]":""),children:[e.jsxs("div",{className:"bg-white border-b border-neutral-200 pt-8 pb-6 px-4 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-emerald-50 to-blue-50 rounded-full blur-3xl -z-10 opacity-60"}),e.jsxs("div",{className:"mx-auto max-w-5xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-neutral-500",children:[e.jsxs(Ve,{to:"/browse",className:"flex items-center gap-1 hover:text-black transition-colors",children:[e.jsx(Fe,{className:"h-4 w-4"})," Browse"]}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"font-medium text-neutral-800",children:"Group Detail"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-neutral-900 tracking-tight leading-tight mb-3",children:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsx("div",{className:"inline-flex items-center gap-1.5 bg-neutral-100 text-neutral-700 px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide",children:s.category||"General"}),s.game&&e.jsx("div",{className:"inline-flex items-center gap-1.5 bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-xs font-bold",children:s.game}),s.city&&e.jsxs("div",{className:"inline-flex items-center gap-1.5 border border-neutral-200 text-neutral-600 px-3 py-1 rounded-full text-xs font-medium",children:[e.jsx($e,{className:"h-3 w-3"})," ",s.city]}),e.jsxs("div",{className:"inline-flex items-center gap-1.5 border border-neutral-200 text-neutral-600 px-3 py-1 rounded-full text-xs font-medium",children:[e.jsx(De,{className:"h-3 w-3"})," ",h," / ",s.capacity]})]})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:P?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>g(!0),className:"h-10 px-5 rounded-full bg-white border border-neutral-200 text-neutral-800 text-sm font-bold shadow-sm hover:bg-neutral-50 hover:border-neutral-300 flex items-center gap-2 transition-all",children:[e.jsx(Le,{className:"h-4 w-4"})," Chat"]}),x&&e.jsxs("button",{onClick:we,className:"h-10 px-5 rounded-full bg-white border border-neutral-200 text-neutral-800 text-sm font-bold shadow-sm hover:bg-neutral-50 hover:border-neutral-300 flex items-center gap-2 transition-all",children:[e.jsx(Ae,{className:"h-4 w-4"})," ",ie?"...":de?"Copied":"Invite"]})]}):e.jsx("button",{onClick:ge,className:"h-10 px-6 rounded-full bg-emerald-600 text-white text-sm font-bold shadow-md hover:bg-emerald-700 hover:shadow-lg active:scale-95 transition-all",children:"Join Group"})})]})]})]}),e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-8 grid gap-8 lg:grid-cols-[2fr_1fr]",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"bg-white rounded-2xl p-6 shadow-sm border border-neutral-200/60 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-lg font-bold text-neutral-900 flex items-center gap-2",children:"About this Circle"}),x&&!B&&e.jsx("button",{onClick:()=>k(!0),className:"p-1.5 rounded-full text-neutral-400 hover:bg-neutral-100 hover:text-neutral-900 transition-colors",children:e.jsx(He,{className:"h-4 w-4"})})]}),B?e.jsxs("div",{className:"animate-in fade-in duration-200",children:[e.jsx("textarea",{value:C,onChange:t=>H(t.target.value),className:"w-full min-h-[120px] p-3 rounded-xl border border-neutral-300 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none resize-y mb-3",placeholder:"What's the plan?"}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>k(!1),className:"px-3 py-1.5 rounded-lg border border-neutral-200 text-xs font-bold hover:bg-neutral-50 text-neutral-600",children:"Cancel"}),e.jsx("button",{onClick:ye,disabled:R,className:"px-3 py-1.5 rounded-lg bg-black text-white text-xs font-bold hover:bg-neutral-800 disabled:opacity-50",children:R?"Saving...":"Save Changes"})]})]}):e.jsx("p",{className:"text-sm text-neutral-600 leading-relaxed whitespace-pre-wrap",children:s.purpose||e.jsx("span",{className:"italic text-neutral-400",children:"No description provided."})}),s.code&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-neutral-100 flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-bold text-neutral-400 uppercase tracking-wider",children:"Invite Code"}),e.jsx("code",{className:"text-sm font-mono bg-neutral-100 px-2 py-1 rounded text-neutral-700 border border-neutral-200",children:String(s.code).toUpperCase()}),e.jsx("button",{onClick:je,className:"text-xs font-medium text-emerald-600 hover:underline",children:ae?"Copied":"Copy"})]})]}),e.jsxs("section",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-neutral-200/60 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-neutral-400 text-xs font-bold uppercase mb-1",children:[e.jsx(qe,{className:"h-3 w-3"})," Created"]}),e.jsx("div",{className:"text-sm font-semibold text-neutral-900",children:new Date(s.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-neutral-200/60 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-neutral-400 text-xs font-bold uppercase mb-1",children:[e.jsx(ze,{className:"h-3 w-3"})," Format"]}),e.jsx("div",{className:"text-sm font-semibold text-neutral-900",children:s.is_online?s.online_link?"Online (Link set)":"Online":"In Person"})]})]}),P&&x&&e.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 text-red-600 text-sm font-medium hover:text-red-700 transition-colors px-2",children:[e.jsx(Je,{className:"h-4 w-4"})," Delete this group"]}),P&&!x&&e.jsxs("button",{onClick:ve,className:"flex items-center gap-2 text-neutral-500 text-sm font-medium hover:text-neutral-800 transition-colors px-2",children:[e.jsx(Ge,{className:"h-4 w-4"})," Leave group"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-neutral-200 rounded-2xl p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-base font-bold text-neutral-900 flex items-center gap-2",children:"Polls & Events"}),x&&e.jsx("button",{onClick:()=>p(!0),className:"p-1.5 bg-neutral-50 rounded-full text-neutral-600 shadow-sm hover:scale-105 active:scale-95 transition-all border border-neutral-200 hover:bg-white hover:border-neutral-300",children:e.jsx(Z,{className:"h-4 w-4"})})]}),c?e.jsxs("div",{className:"animate-in slide-in-from-bottom-2 duration-500",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"font-bold text-neutral-900",children:c.title}),e.jsx("div",{className:`text-[10px] font-bold px-2 py-1 rounded-full border ${c.status==="closed"?"bg-neutral-200 text-neutral-600 border-neutral-300":L?"bg-red-50 text-red-600 border-red-100":"bg-emerald-50 text-emerald-700 border-emerald-100"}`,children:be(c.status,c.closes_at)})]}),e.jsx("div",{className:"space-y-2 mb-4",children:ce.map(t=>{const l=ue[t.id]??0,i=t.label==="Not Coming"?l+(h-xe):l,d=h>0?Math.round(i/h*100):0;return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-neutral-100 rounded-lg transition-all duration-500",style:{width:`${d}%`}}),e.jsxs("div",{className:"relative flex items-center justify-between p-2.5 rounded-lg border border-neutral-100 hover:border-neutral-200 transition-colors",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-800 z-10",children:t.label}),e.jsxs("div",{className:"flex items-center gap-3 z-10",children:[e.jsx("span",{className:"text-xs font-bold text-neutral-600",children:i}),c.status==="open"&&!L&&e.jsx("button",{onClick:()=>Se(t.id),className:`h-6 w-6 rounded-full flex items-center justify-center border transition-all hover:scale-110 active:scale-95 ${X===t.id?"bg-black border-black text-white":"bg-white border-neutral-200 text-neutral-600"}`,children:X===t.id?e.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):e.jsx(ee,{className:"h-3 w-3"})})]})]})]},t.id)})}),x&&e.jsxs("div",{className:"flex flex-col gap-2 pt-3 border-t border-neutral-100",children:[c.status==="open"&&e.jsxs("button",{onClick:ke,className:"w-full bg-black text-white text-xs font-bold py-3 rounded-xl hover:bg-neutral-800 shadow-sm flex items-center justify-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4"})," End & Count Games"]}),c.status==="closed"&&e.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-neutral-100 text-neutral-700 text-xs font-bold py-3 rounded-xl hover:bg-neutral-200 flex items-center justify-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"})," Create New Vote"]}),e.jsx("button",{onClick:Ce,className:"w-full text-red-600 text-xs font-bold py-2 hover:bg-red-50 rounded-xl",children:"Delete Poll"})]})]}):e.jsxs("div",{className:"text-center py-8 px-4 bg-neutral-50 rounded-xl border border-dashed border-neutral-200",children:[e.jsx("p",{className:"text-sm text-neutral-400 mb-2 font-medium",children:"No active polls"}),x&&e.jsx("button",{onClick:()=>p(!0),className:"text-xs text-black font-bold hover:underline",children:"Create one"})]})]}),e.jsxs("div",{className:"bg-white border border-neutral-200 rounded-2xl p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{className:"text-sm font-bold text-neutral-900",children:["Members (",h,")"]}),e.jsx("button",{onClick:()=>_(!0),className:"text-xs font-medium text-emerald-600 hover:underline",children:"View All"})]}),e.jsxs("div",{className:"flex -space-x-2 overflow-hidden cursor-pointer",onClick:()=>_(!0),children:[E.slice(0,5).map(t=>e.jsx("div",{className:"h-8 w-8 rounded-full ring-2 ring-white bg-neutral-100 flex items-center justify-center text-[10px] font-bold text-neutral-500",title:t.name||"User",children:t.avatar_url?e.jsx("img",{src:t.avatar_url,alt:"",className:"h-full w-full object-cover rounded-full"}):(t.name||"?").slice(0,1)},t.user_id)),h>5&&e.jsxs("div",{className:"h-8 w-8 rounded-full ring-2 ring-white bg-neutral-50 flex items-center justify-center text-[10px] font-bold text-neutral-400",children:["+",h-5]})]})]})]})]})]}),ne&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl p-6 shadow-2xl ring-1 ring-black/5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsx("h3",{className:"text-xl font-bold text-neutral-900",children:"New Vote"}),e.jsx("button",{onClick:()=>p(!1),className:"p-1 rounded-full hover:bg-neutral-100 text-neutral-500",children:e.jsx(Y,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-400 uppercase mb-1.5",children:"Topic"}),e.jsx("input",{value:V,onChange:t=>me(t.target.value),className:"w-full border border-neutral-200 rounded-xl px-4 py-3 text-sm font-medium focus:ring-2 focus:ring-black outline-none transition-all",placeholder:"e.g. When to play?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-400 uppercase mb-1.5",children:"Duration"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:N,onChange:t=>he(t.target.value),className:"border border-neutral-200 bg-neutral-50 rounded-xl px-4 py-3 text-sm font-medium flex-1 outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"1",children:"1 Hour"}),e.jsx("option",{value:"24",children:"24 Hours"}),e.jsx("option",{value:"48",children:"2 Days"}),e.jsx("option",{value:"custom",children:"Custom..."})]}),N==="custom"&&e.jsx("input",{type:"datetime-local",value:$,onChange:t=>pe(t.target.value),className:"border border-neutral-200 bg-neutral-50 rounded-xl px-3 py-3 text-sm font-medium flex-[1.5] outline-none focus:ring-2 focus:ring-black"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-neutral-400 uppercase mb-1.5",children:"Options (one per line)"}),e.jsx("textarea",{value:Q,onChange:t=>fe(t.target.value),className:"w-full border border-neutral-200 rounded-xl px-4 py-3 text-sm font-medium focus:ring-2 focus:ring-black outline-none min-h-[100px]",placeholder:`Saturday 20:00
Sunday 14:00`}),e.jsx("p",{className:"text-[10px] text-neutral-400 mt-1 italic text-right",children:'"Not Coming" added automatically.'})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx("button",{onClick:()=>p(!1),className:"px-5 py-2.5 text-sm font-bold text-neutral-500 hover:bg-neutral-50 rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{onClick:_e,className:"px-6 py-2.5 text-sm font-bold bg-black text-white rounded-xl shadow-lg hover:bg-neutral-800 active:scale-95 transition-all",children:"Create Vote"})]})]})]})}),oe&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:e.jsxs("div",{className:"w-full max-w-sm bg-white rounded-3xl p-6 shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[e.jsxs("h3",{className:"text-xl font-bold text-neutral-900",children:["Members (",E.length,")"]}),e.jsx("button",{onClick:()=>_(!1),className:"p-1 rounded-full hover:bg-neutral-100 text-neutral-500",children:e.jsx(Y,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2",children:E.map(t=>e.jsx("div",{className:"flex items-center justify-between p-2 rounded-xl hover:bg-neutral-50 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-neutral-200 flex items-center justify-center overflow-hidden",children:t.avatar_url?e.jsx("img",{src:t.avatar_url,className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-sm font-bold text-neutral-500",children:(t.name||"?").slice(0,1)})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-neutral-900",children:t.name||"User"}),t.role==="host"&&e.jsx("div",{className:"text-[10px] text-amber-600 font-bold uppercase tracking-wide",children:"Host"}),t.role==="owner"&&e.jsx("div",{className:"text-[10px] text-amber-600 font-bold uppercase tracking-wide",children:"Owner"})]})]})},t.user_id))})]})}),G&&s&&e.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>g(!1)}),e.jsx("div",{className:"relative w-full max-w-2xl h-[85vh] bg-white rounded-3xl shadow-2xl overflow-hidden ring-1 ring-black/10",children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"flex h-full items-center justify-center",children:"Loading..."}),children:e.jsx(Xe,{groupId:s.id,onClose:()=>{g(!1),le(!1)},full:!0,setFull:()=>{}})})})]})]}):e.jsx("div",{className:"p-10 text-center",children:"Group not found."})}export{lt as default};
